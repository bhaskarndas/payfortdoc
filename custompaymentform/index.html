<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Custom Payment Form - PayFort Documentation</title>
    <link href="../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/bootstrap-3.3.7.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Use Custom Payment Form", url: "#_top", children: [
              {title: "How it works - overview", url: "#how-it-works-overview" },
              {title: "Integration Flow", url: "#integration-flow" },
              {title: "Endpoints", url: "#endpoints" },
              {title: "Before you start", url: "#before-you-start" },
              {title: "Start testing", url: "#start-testing" },
              {title: "Add the code snippet to your site", url: "#add-the-code-snippet-to-your-site" },
              {title: "How to add the Tokenization service on the Payment Page?", url: "#how-to-add-the-tokenization-service-on-the-payment-page" },
              {title: "Payment Page Customization", url: "#payment-page-customization" },
              {title: "Need further help?", url: "#need-further-help" },
          ]},
        ];

    </script>
    <script src="../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../sdk/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../sdk/" class="btn btn-xs btn-link">
        SDKs
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../iframe_web/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../iframe_web/" class="btn btn-xs btn-link">
        iFrame For Web
      </a>
    </div>
    
  </div>

    

    <h1 id="use-custom-payment-form">Use Custom Payment Form</h1>
<p>You can also build your own custom payment Form without using default template provided by PayFort.</p>
<p><img alt="custom-payment" src="../img/custom-payment-form.png" /></p>
<p>Figure 1</p>
<hr />
<h3 id="how-it-works-overview">How it works - overview</h3>
<ol>
<li>You develop your own custom payment details form that collects the card details (credit card number, expiry date, CVV), and sends the request to PayFort.</li>
<li>PayFort receives the payment details and returns the response which includes the Token to your payment processing page.</li>
<li>You use the token to complete the <a href="https://docs.payfort.com/docs/api/build/index.html#operations-request">Authorization or Purchase operation</a>.</li>
</ol>
<p><strong><em>Note</em></strong> - You should develop a form that does not send data to your website but directly submits the form to PayFort.*</p>
<hr />
<h3 id="integration-flow">Integration Flow</h3>
<p><img alt="image-20200213230424907" src="../img/image-20200213230424907.png" /></p>
<p>Figure 2</p>
<ol>
<li>
<p>The Customer begins the checkout process on your website.</p>
</li>
<li>
<p>Your website displays the custom payment form to collect the card’s details. Then the Customer enters the card’s details on the payment page.</p>
</li>
<li>
<p>PayFort validates the card format.</p>
</li>
<li>
<p>PayFort creates a token for the card details and sends it back to your payment page.</p>
</li>
<li>
<p>Payment page stores the Token and proceeds with the transaction.</p>
</li>
<li>
<p>Payment page sends a payment request along with the Token to PayFort.</p>
</li>
<li>
<p>PayFort sends the 3-D Secure URL, and response indicating that a check is required:</p>
</li>
<li>
<p>Payment page redirects the Customer to check his card enrollment.</p>
</li>
<li>The Customer enters authentication data.</li>
<li>
<p>3-D Secure authentication is completed and PayFort receives the authentication results.</p>
<p><strong><em>Note</em></strong> - <em>In this case, PayFort returns</em> <strong>status “20: On hold”</strong> <em>and</em> <strong>message “064: 3-D Secure check requested”</strong>. <em>For example, PayFort is waiting for the payment page to authenticate the Customer.</em></p>
</li>
<li>
<p>PayFort completes the operation based on the 3-D Secure response and returns the response to the website.</p>
</li>
<li>
<p>The payment results are displayed to the Customer.</p>
</li>
</ol>
<p><strong><em>Note</em></strong> -</p>
<ul>
<li>
<p><em>If the Token is sent by the payment page, it will be generated with the same name sent by the website.</em></p>
</li>
<li>
<p>Payment processing page, payment form and payment details form all refer to payment page on your site where customer will enter card details.</p>
</li>
</ul>
<hr />
<h2 id="endpoints">Endpoints</h2>
<h3 id="production-environment">Production Environment</h3>
<pre><code>POST https://checkout.PayFort.com/FortAPI/paymentPage
</code></pre>

<h3 id="sandbox">Sandbox</h3>
<pre><code>POST https://sbcheckout.payfort.com/FortAPI/paymentPage
</code></pre>

<hr />
<h2 id="before-you-start">Before you start</h2>
<p>Make sure you have your <code>access_code</code>. Refer figure 3. You can find it in the <a href="https://fort.payfort.com/account/MerchantManagement/EntitySecurity">backoffice</a>, under Integration Settings<strong>Security Settings &gt; Access Code</strong>. If you don't have an account with us yet, you can create a test account by visiting the <a href="" title="https://www.payfort.com/test-account/">link</a>. You can also get started with an active account by visiting this <a href="https://www.payfort.com/get-started/">link</a></p>
<hr />
<p><img alt="" src="../img/paymentintegration%20settings.png" /></p>
<p>Figure 2 : Uploading custom template</p>
<p>The Payment Page Template available in the backoffice provides you the feature to create a custom payment processing page. Refer to the figure 2. Once you upload your custom payment page our support team will validate the same.</p>
<p><img alt="" src="../img/integrationsettings2.png" /></p>
<p>Figure 3:  Generating Access Code.</p>
<hr />
<h2 id="start-testing">Start testing</h2>
<p>Ready to try out your integration? Create a test account to get everything working perfectly before going live.<br/><br/>
<a href="" title="https://www.payfort.com/test-account/"><button class="btn btn-primary">Get test account </button></a></p>
<h2 id="add-the-code-snippet-to-your-site">Add the code snippet to your site</h2>
<p>The following code snippet shown here is an example of the start of the payment process. You can refer to this example, replacing the supplied <code>acccess_code</code> with your own. The card token will be posted via the URL specified in the form's <code>action</code> attribute.</p>
<div class="container">
  <ul class="nav">
    <li class="nav-item">
      <a class="nav-link" href="#htmlcode">HTML</a>
    </li>
    </ul>
<a name=htmlcode></a>
<!DOCTYPE html>
<html lang="en">

<pre><code class="php+HTML">&lt;html&gt;

&lt;body&gt;
 &lt;form method=&quot;post&quot; action=&quot;https://checkout.payfort.com/FortAPI/paymentPage&quot; class=&quot;pay_form&quot; name=&quot;form1&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;access_code&quot; value=&quot;access_code&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;amount&quot; value=&quot;1000&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;command&quot; value=&quot;PURCHASE&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;currency&quot; value=&quot;USD&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;customer_email&quot; value=&quot;user@mail.com&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;customer_name&quot; value=&quot;customer name&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;language&quot; value=&quot;en&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;merchant_identifier&quot; value=&quot;identifier_code&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;merchant_reference&quot; value=&quot;order_id&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;return_url&quot; value=&quot;my_return_url&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;signature&quot; value=&quot;form_signature&quot;&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

</div>

<hr />
<h2 id="how-to-add-the-tokenization-service-on-the-payment-page">How to add the Tokenization service on the Payment Page?</h2>
<p>The Tokenization service is applicable to be integrated through the payment page through the below steps:</p>
<ol>
<li>The Customer processes the first PURCHASE/ AUTHORIZATION payment successfully.</li>
<li>The payment page will receive a token_name in the response. This token_name should be considered as a permanent token name, and it can be used in the future customer’s payments by submitting the token_name in the next PURCHASE/ AUTHORIZATION payment with card_security_code parameter.</li>
<li>No need to open the Payment Details Form to fill all the card details again in the next checkouts.</li>
</ol>
<p>If the Customer wants to update/ delete his card, you should check <a href="https://docs.payfort.com/docs/api/build/index.html#update-token-service">Update Token</a> section.</p>
<p><strong><em>Note</em></strong>
Please refer to section <a href="https://docs.payfort.com/docs/api/build/index.html#fort-tokenization-service">FORT Tokenization Service</a> for more details about the token name parameter.</p>
<hr />
<h2 id="payment-page-customization">Payment Page Customization</h2>
<p><strong>This is a list with all customizable CSS classes on the basic merchant page:</strong></p>
<ul>
<li>The <strong><code>Wrapper</code></strong> class: responsible for the total width of the form container and the background.</li>
<li>The <strong><code>Container</code></strong> class: responsible for the form’s shape and width.</li>
<li>The <strong><code>Popover</code></strong> class: responsible for the error messages.</li>
<li>The <strong><code>Half-container</code></strong> class: used to merge the date and CVV fields into one block if needed.</li>
<li>The <strong><code>Input</code></strong> class: is the container of each single input field.</li>
<li>The <strong><code>Pay</code></strong> class: responsible for the submit button.</li>
<li>The <strong><code>Visa/ MasterCard</code></strong> classes: used to change the color of the Visa/ MasterCard colors.</li>
</ul>
<p><strong><em>Note</em></strong> - You can always create multiple theme files that will enable you to switch freely and easily between them when necessary.</p>
<p><strong><em>Note</em></strong>- “Theme” files can be uploaded from the back-office using the Payment Page template screen.</p>
<hr />
<h2 id="need-further-help">Need further help?</h2>
<p>Thanks for using PayFort.com. If you need any help or support, then message our support team at <a href="mailto:support@payfort.com">support@payfort.com</a>.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../sdk/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../sdk/" class="btn btn-xs btn-link">
        SDKs
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../iframe_web/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../iframe_web/" class="btn btn-xs btn-link">
        iFrame For Web
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>