{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Get Started With PayFORT If you are starting out a new ecommerce or any other merchant site then you need a robust payment system that can capture not only customer's payment details but also helps you with various financial transactions needs of your customers such as recurring payments, financing purchase by the customer, one time payment etc. PayFORT helps you to build a robust payment system for your merchant site. With the help of PayFORT you can collect payment information conveniently and securely. It offers your customer the choice to pay in multiple currencies. Your customers can also select from available payment methods such as 3D secure, Apple Pay, Visa Checkout or MasterPass. You can get started with a PayFORT test account by signing up using this link If you want to integrate payment systems with your site then you can sign up for a live account by visiting this link PayFORT offers you two approaches for integrations with your merchant site as mentioned below: By using PayFORT iFrame By developing your own custom payment form PayFORT Payment Features With PayFORT you need not redirect your customers to third party website for payment and they will be able to pay on the payment page of your website. You are no longer required to get your website PCI-Compliant. Since PayFORT is PCI-DSS compliant it means your business transactions will be PCI-Compliant automatically. It offers payment solutions for various shopping cart applications including your own in house shopping cart application. \u200b Figure 1 \u200b Shopping cart applications supported by PayFort Using PayFORT iFrame PayFORT iFrame * helps you to create a customizable payment form. It gives the customer freedom to provide their payment details on your site's checkout page. Once the details are entered PayFORT generates a secure single use token through tokenization process. This token can be used to request a payment without the need to store any customer's payment information in your site. PayFORT processes the transaction and returns the results back to the your site through invisible redirection. check out iframe for web here Using Custom Payment Form You can also design and develop your own custom form for collecting the card details. The card details are sent directly to PayFORT and substituted with Token. You can then use this Token to complete the transaction. custom payment form Get Started With Testing If you have developed your payment page then you can proceed with creation of a testing account by visiting link Need further help? Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Get Started With PayFORT"},{"location":"#get-started-with-payfort","text":"If you are starting out a new ecommerce or any other merchant site then you need a robust payment system that can capture not only customer's payment details but also helps you with various financial transactions needs of your customers such as recurring payments, financing purchase by the customer, one time payment etc. PayFORT helps you to build a robust payment system for your merchant site. With the help of PayFORT you can collect payment information conveniently and securely. It offers your customer the choice to pay in multiple currencies. Your customers can also select from available payment methods such as 3D secure, Apple Pay, Visa Checkout or MasterPass. You can get started with a PayFORT test account by signing up using this link If you want to integrate payment systems with your site then you can sign up for a live account by visiting this link PayFORT offers you two approaches for integrations with your merchant site as mentioned below: By using PayFORT iFrame By developing your own custom payment form","title":"Get Started With PayFORT"},{"location":"#payfort-payment-features","text":"With PayFORT you need not redirect your customers to third party website for payment and they will be able to pay on the payment page of your website. You are no longer required to get your website PCI-Compliant. Since PayFORT is PCI-DSS compliant it means your business transactions will be PCI-Compliant automatically. It offers payment solutions for various shopping cart applications including your own in house shopping cart application. \u200b Figure 1 \u200b Shopping cart applications supported by PayFort","title":"PayFORT Payment Features"},{"location":"#using-payfort-iframe","text":"PayFORT iFrame * helps you to create a customizable payment form. It gives the customer freedom to provide their payment details on your site's checkout page. Once the details are entered PayFORT generates a secure single use token through tokenization process. This token can be used to request a payment without the need to store any customer's payment information in your site. PayFORT processes the transaction and returns the results back to the your site through invisible redirection. check out iframe for web here","title":"Using PayFORT iFrame"},{"location":"#using-custom-payment-form","text":"You can also design and develop your own custom form for collecting the card details. The card details are sent directly to PayFORT and substituted with Token. You can then use this Token to complete the transaction. custom payment form","title":"Using Custom Payment Form"},{"location":"#get-started-with-testing","text":"If you have developed your payment page then you can proceed with creation of a testing account by visiting link","title":"Get Started With Testing"},{"location":"#need-further-help","text":"Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Need further help?"},{"location":"androidsdk/","text":"Integrate Android SDK To process a transaction using the FORT Mobile SDK, create a Mobile SDK Token and proceed through the following sections. About the Software Supported Platforms The FORT Mobile SDK supports all devices running Android 4.1.x (API level 16). ICE CREAM SANDWICH or higher are supported. This release supports Android Pie API 28. Localization The FORT Mobile SDK supports both English and Arabic languages. Screen Orientation Portrait is the only orientation supported within the FORT Mobile SDK. Supported Payment Methods Through the first version of the FORT Mobile SDK, the Merchant has the ability to process a CREDIT CARD transactions only. Supported Payment Options The supported credit card payment options are VISA , MASTERCARD , American Express (AMEX) , MADA and MEEZA . IDE Configurations To start using the FORT Mobile SDK, Please follow the steps: Download the SDK and extract the SDK. The folder contains Dependencies , Res and FORTSDKv1.5.aar-release . Dependencies folder includes: Eclipse folder : .jar files for the SDK dependencies. LINKS_README text file that contains a list for sources of the above jars and a list of required libraries to be added as dependencies as well (Manual configuration). AndroidStudio_gradle text file which adds the compile command for what your project does not include. Res folder : Layout Layout-ar FORTSDKv1.5.aar-release Please make sure to read our notes according to the IDE you are using whether it\u2019s the Android Studio or Eclipse. Android Studio To continue the integration, please proceed with the following steps: Go to File \u2192 New \u2192 New Module. Select \u201cImport .JAR/.AAR Package\u201d and click next. Enter the path to .aar file and click finish. Browse to the dependencies folder and open the \u201cAndroidStudio_gradle\u201d text file. Copy and paste the implementation/ api lines that are NOT already supported in your dependency block. (All listed dependencies are required). Click the \u201cSync the project with gradle files\u201d button. Clean the project. The SDK is now ready for your use. Eclipse The integration will include two main steps. For the first step, you need to create a library project by following the below steps: Create a new project (from this time it\u2019s called \u201clibrary project\u201d) in your workspace. Do not forget to mark it as library. Clear the src folder of the library project. Unzip the .aar file. You can rename it to zip and then unzip it or use any tool. Copy the classes.jar file to libs folder on the library project. Replace the res folder on library project with the res folder of the .aar file. Project Configuration The project you have created contains almost everything you need. Now let\u2019s start configuring your project to reference this library project by following the below points: In the target project, use the library created in step one (mentioned above) as a dependency. Open the AndroidManifest.xml file inside .aar file and make sure to copy everything it takes (permissions, activities, services, receivers \u2026) in the AndroidManifest.xml file of the target project. Copy the entire contents (if any) inside the assets folder of the .aar file to the assets folder of the target project. Copy the entire contents (if any) inside the libs folder of the .aar file to the libs folder of the target project. Open the dependencies file \u2192 Eclipse, then copy all .jar files and add them to the libs folder of the target project. Check if your target project has the project dependencies included in the LINKS_README text file under the LINKS_README text file under the libraries (Projects/aar). Otherwise use the links included in the previously mentioned file and add them as a dependency project on your target project. Clean and rebuild your target project. OS Permissions The FORT Mobile SDK requires the following permissions to work properly: <uses-permission android:name=\"android.permission.INTERNET\"/> <uses-permission android:name=\"android.permission.READ_PHONE_STATE\"/> <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/> Using the FORT Mobile SDK Collect the FORT Mobile SDK Request Please take a look at the Java model/ bean of the FORT Mobile SDK request below. // FORT Mobile SDK request public class FortRequest implements Serializable{ private Map<String, Object> requestMap; private boolean showResponsePage; public Map<String, Object> getRequestMap() { return requestMap; } public void setRequestMap(Map<String, Object> requestMap) { this.requestMap = requestMap; } public boolean isShowResponsePage() { return showResponsePage; } public void setShowResponsePage(boolean showResponsePage) { this.showResponsePage = showResponsePage; } } The following are the Mobile SDK Call Parameters: The \u201crequestMap\u201d must contain all the FORT parameters of the order/ transaction. \u201cshowResponsePage\u201d is the Boolean field where you can determine if you want the FORT response page to be displayed or not. Define a Callback Manager Define and initialize an instance of the FortCallBackManager in your activity as shown below: // FORT Callback Manager Instance private FortCallBackManager fortCallback = null; fortCallback = FortCallback.Factory.create(); Attach the Callback to the Activity You need to add the statement that appears below to the onActivityResult function. //Callback Statement @Override protected void onActivityResult(int requestCode, int resultCode, Intent data) { super.onActivityResult(requestCode, resultCode, data); fortCallback.onActivityResult(requestCode,resultCode,data); } Call the FORT Mobile SDK For every transaction that needs to be processed, do the call as shown below and handle the callback methods upon your business flow. The FORT Mobile SDK Call registers a new callback for a new request. The registerCallBack requires the inputs as shown below. //FORT Mobile SDK Call FortSdk.getInstance().registerCallback(this,fortRequest,5, fortCallback, showLoading, new FortInterfaces.OnTnxProcessed() { @Override public void onCancel(Map<String, Object> requestParamsMap,Map<String, Object> responseMap) { //TODO: handle me } @Override public void onSuccess(Map<String, Object> requestParamsMap, Map<String, Object> fortResponseMap) { //TODO: handle me } @Override public void onFailure(Map<String, Object> requestParamsMap, Map<String, Object> fortResponseMap) { //TODO: handle me } @Override public void onSuccess(Map<String, Object> requestParamsMap, Map<String, Object> fortResponseMap) { //TODO: handle me } }); Register Callback Request //The registerCallBack Request public void registerCallback( Activity context, final FortRequest fortRequest, String environment, final int requestCode, final FortCallBackManager callbackManager, boolean showLoading, final FortInterfaces.OnTnxProcessed callback) Call the Fort SDK Function //FortSDK function String device_id = FortSdk.getDeviceId(this); FORT Mobile SDK Device ID Value Please Make sure to use the FortSDK function as shown above to generate the device_id parameter value that must be used for creating the sdk_token from your business security server. The Merchant can choose to display the FORT response page by passing \u201cshowResponsePage\u201d value as \u201cTrue\u201d. Customizing the Mobile SDK Payment Layout We provide you with the res folder that includes the source code of the pages in order to customize the design, themes, etc. You can customize both English and Arabic layouts as needed. However, please take the following tips into consideration: Don\u2019t change the layout name because it\u2019s considered an override process. Make sure to use all the views that has the ID property in order to avoid the NullPointerException. Redesign the view for portrait orientation. Note that Landscape orientation isn\u2019t supported. You can support as much layout densities as you want. Don\u2019t forget to redesign the layout-ar file too (right-to-left). Don\u2019t change, rename, or remove onClick functions. Our Mobile SDK v 1.5 consists one of the following three main activities design: activity_cc_payment.xml activity_cc_response.xml activity_init_secure_conn Every file is available for both English and Arabic alignments; layout and layout-ar. The files Hierarchy and Content might change in our SDK\u2019s future versions. Design Customization Codes: The following code was used to customize the way the \u201cAmount\u201d is displayed in the Standard Mobile SDK Payment Page: <TextView android:id=\u201c@+id/amountTV\u201d android:layout_width=\u201cmatch_parent\u201d android:layout_height=\u201c@dimen/pf_payment_type_header_height\u201d android:background=\u201c@color/pf_light_gray\u201d android:gravity=\u201ccenter_horizontal|center_vertical\u201d android:textColor=\u201c@android:color/black\u201d android:textSize=\u201c@dimen/pf_15_txt_size\u201d /> The following code is used to customize the way the \u201cAmount\u201d is displayed in the Customized Mobile SDK Payment Page: LinearLayout android:layout_width=\u201cmatch_parent\u201d android:layout_height=\u201cwrap_content\u201d android:orientation=\u201chorizontal\u201d android:padding=\u201c10dp\u201d android:background=\u201c@android:color/white\u201d> <ImageView android:layout_width=\u201c40dp\u201d android:layout_height=\u201c40dp\u201d android:src=\u201c@drawable/merchant_logo\u201d/> <TextView android:fontFamily=\u201csans-serif-medium\u201d android:text=\u201cMerchant name\u201d android:layout_margin=\u201c10dp\u201d android:textColor=\u201c@android:color/holo_blue_dark\u201d android:layout_width=\u201cwrap_content\u201d android:layout_gravity=\u201ccenter_vertical\u201d android:layout_height=\u201cwrap_content\u201d android:src=\u201c@drawable/merchant_logo\u201d/> <TextView android:id=\u201c@+id/amountTV\u201d android:layout_width=\u201cmatch_parent\u201d android:layout_height=\u201c@dimen/pf_payment_type_header_height\u201d android:gravity=\u201cright|center_vertical\u201d android:textColor=\u201c@android:color/black\u201d android:text=\u201c100 UDS\u201d android:textSize=\u201c@dimen/pf_15_txt_size\u201d /> </LinearLayout> As appears in the previous codes, elements with IDs haven\u2019t been changed in type or removed. For example: android:id=\u201c@+id/amountTV\u201d. We were able to add static elements such as: ImageView element that contains the Merchant\u2019s logo, and TextView that contains the Merchant\u2019s name. To sum up, you can add any static elements or redesign the view, while keeping the views\u2019 elements used in the Standard layout that hold IDs. Make sure to retest your custom design, for example, by showing the error messages on fields and applying the changes to the Arabic layout. (Refer to the points mentioned under the **Customizing the Mobile SDK Payment Layout** section). The customized XML file should be added to the layout file in the target project (Merchant Application) to override the SDK file. FORT Android SDK \u2013 Device ID permission This section helps the developers to understand the need and usage of the permission requested by the FORT Payment SDK to generate a unique device ID. You might not face this issue through your payment flow. It depends on the time you are requesting the getDeviceID function and ask about the permission for the first time. A part of the FORT mobile SDK flow is to get a unique ID for the device. Generating the ID based on more than one input (collecting as much as possible will lead to a real unique ID). The Telephone manager is one of these sources. Accessing the Telephone manager need the use of \u2018android.permission.READ_PHONE_STATE\u2019 permission. According to Android that\u2019s a dangerous permission to be used. Getting the needed permission through the flow on the case of getting the client granted that will produce a miss match device ID on the 1st SDK call. To avoid the mismatch flow we are suggesting you the following solutions: Handle the 1st SDK call in the onActivityResults(). Since The FORT SDK is a module running within the main application context the requested permission response will be returned to the merchant context. Once the activity that called geDeviceId for the 1st received a call-back in the onActivityResult() with request code = 222 you can for sure starts the payment flow of creating an SDK token and calling the SDK afterwards. Call getDeviceID on a previous activity or in your application class to make sure that the permission request was triggered before you reach the payment step. Sample Code public class PayFortSdkSample extends Activity { private FortCallBackManager fortCallback = null; String deviceId = \u201c\u201d, sdkToken = \u201c\u201d; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); // create Fort callback instance fortCallback = FortCallback.Factory.create(); // Generating deviceId deviceId = FortSdk.getDeviceId(PayFortSdkSample.this); Log.d(\u201cDeviceId \u201d, deviceId); // prepare payment request FortRequest fortrequest = new FortRequest(); fortrequest.setRequestMap(collectRequestMap(\u201cPASS_THE_GENERATED_SDK_TOKEN_ HERE\u201d)); fortrequest.setShowResponsePage(true); // to [display/use] the SDK response page // execute payment request callSdk(fortrequest); } private Map<String, Object> collectRequestMap(String sdkToken) { Map<String, Object> requestMap = new HashMap<>(); requestMap.put(\u201ccommand\u201d, \u201cPURCHASE\u201d); requestMap.put(\u201ccustomer_email\u201d, \u201cSam@gmail.com\u201d); requestMap.put(\u201ccurrency\u201d, \u201cSAR\u201d); requestMap.put(\u201camount\u201d, \u201c100\u201d); requestMap.put(\u201clanguage\u201d, \u201cen\u201d); requestMap.put(\u201cmerchant_reference\u201d, \u201cORD-0000007682\u201d); requestMap.put(\u201ccustomer_name\u201d, \u201cSam\u201d); requestMap.put(\u201ccustomer_ip\u201d, \u201c172.150.16.10\u201d); requestMap.put(\u201cpayment_option\u201d, \u201cVISA\u201d); requestMap.put(\u201ceci\u201d, \u201cECOMMERCE\u201d); requestMap.put(\u201corder_description\u201d, \u201cDESCRIPTION\u201d); requestMap.put(\u201csdk_token\u201d, sdkToken); return requestMap; } private void callSdk(FortRequest fortrequest) { try { FortSdk.getInstance().registerCallback(PayFortSdkSample.this, fortrequest, FortSdk.ENVIRONMENT.TEST, 5, fortCallback, new FortInterfaces.OnTnxProcessed() { @Override public void onCancel(Map<String, Object> requestParamsMap, Map<String, Object> responseMap) { //TODO: handle me Log.d(\u201cCancelled \u201d, responseMap.toString()); } @Override public void onSuccess(Map<String, Object> requestParamsMap, Map<String, Object> fortResponseMap) { //TODO: handle me Log.i(\u201cSuccess \u201d, fortResponseMap.toString()); } @Override public void onFailure(Map<String, Object> requestParamsMap, Map<String, Object> fortResponseMap) { //TODO: handle me Log.e(\u201cFailure \u201d, fortResponseMap.toString()); } }); } catch (Exception e) { Log.e(\u201cexecute Payment\u201d, \u201ccall FortSdk\u201d, e); } } @Override public void onActivityResult(int requestCode, int resultCode, Intent data) { super.onActivityResult(requestCode, resultCode, data); fortCallback.onActivityResult(requestCode, resultCode, data); } Go to Full API Check out our full API by visiting this link Need further help? Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Integrate Android SDK"},{"location":"androidsdk/#integrate-android-sdk","text":"To process a transaction using the FORT Mobile SDK, create a Mobile SDK Token and proceed through the following sections.","title":"Integrate Android SDK"},{"location":"androidsdk/#about-the-software","text":"","title":"About the Software"},{"location":"androidsdk/#supported-platforms","text":"The FORT Mobile SDK supports all devices running Android 4.1.x (API level 16). ICE CREAM SANDWICH or higher are supported. This release supports Android Pie API 28.","title":"Supported Platforms"},{"location":"androidsdk/#localization","text":"The FORT Mobile SDK supports both English and Arabic languages.","title":"Localization"},{"location":"androidsdk/#screen-orientation","text":"Portrait is the only orientation supported within the FORT Mobile SDK.","title":"Screen Orientation"},{"location":"androidsdk/#supported-payment-methods","text":"Through the first version of the FORT Mobile SDK, the Merchant has the ability to process a CREDIT CARD transactions only.","title":"Supported Payment Methods"},{"location":"androidsdk/#supported-payment-options","text":"The supported credit card payment options are VISA , MASTERCARD , American Express (AMEX) , MADA and MEEZA .","title":"Supported Payment Options"},{"location":"androidsdk/#ide-configurations","text":"To start using the FORT Mobile SDK, Please follow the steps: Download the SDK and extract the SDK. The folder contains Dependencies , Res and FORTSDKv1.5.aar-release . Dependencies folder includes: Eclipse folder : .jar files for the SDK dependencies. LINKS_README text file that contains a list for sources of the above jars and a list of required libraries to be added as dependencies as well (Manual configuration). AndroidStudio_gradle text file which adds the compile command for what your project does not include. Res folder : Layout Layout-ar FORTSDKv1.5.aar-release Please make sure to read our notes according to the IDE you are using whether it\u2019s the Android Studio or Eclipse.","title":"IDE Configurations"},{"location":"androidsdk/#android-studio","text":"To continue the integration, please proceed with the following steps: Go to File \u2192 New \u2192 New Module. Select \u201cImport .JAR/.AAR Package\u201d and click next. Enter the path to .aar file and click finish. Browse to the dependencies folder and open the \u201cAndroidStudio_gradle\u201d text file. Copy and paste the implementation/ api lines that are NOT already supported in your dependency block. (All listed dependencies are required). Click the \u201cSync the project with gradle files\u201d button. Clean the project. The SDK is now ready for your use.","title":"Android Studio"},{"location":"androidsdk/#eclipse","text":"The integration will include two main steps. For the first step, you need to create a library project by following the below steps: Create a new project (from this time it\u2019s called \u201clibrary project\u201d) in your workspace. Do not forget to mark it as library. Clear the src folder of the library project. Unzip the .aar file. You can rename it to zip and then unzip it or use any tool. Copy the classes.jar file to libs folder on the library project. Replace the res folder on library project with the res folder of the .aar file.","title":"Eclipse"},{"location":"androidsdk/#project-configuration","text":"The project you have created contains almost everything you need. Now let\u2019s start configuring your project to reference this library project by following the below points: In the target project, use the library created in step one (mentioned above) as a dependency. Open the AndroidManifest.xml file inside .aar file and make sure to copy everything it takes (permissions, activities, services, receivers \u2026) in the AndroidManifest.xml file of the target project. Copy the entire contents (if any) inside the assets folder of the .aar file to the assets folder of the target project. Copy the entire contents (if any) inside the libs folder of the .aar file to the libs folder of the target project. Open the dependencies file \u2192 Eclipse, then copy all .jar files and add them to the libs folder of the target project. Check if your target project has the project dependencies included in the LINKS_README text file under the LINKS_README text file under the libraries (Projects/aar). Otherwise use the links included in the previously mentioned file and add them as a dependency project on your target project. Clean and rebuild your target project.","title":"Project Configuration"},{"location":"androidsdk/#os-permissions","text":"The FORT Mobile SDK requires the following permissions to work properly: <uses-permission android:name=\"android.permission.INTERNET\"/> <uses-permission android:name=\"android.permission.READ_PHONE_STATE\"/> <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/>","title":"OS Permissions"},{"location":"androidsdk/#using-the-fort-mobile-sdk","text":"","title":"Using the FORT Mobile SDK"},{"location":"androidsdk/#collect-the-fort-mobile-sdk-request","text":"Please take a look at the Java model/ bean of the FORT Mobile SDK request below. // FORT Mobile SDK request public class FortRequest implements Serializable{ private Map<String, Object> requestMap; private boolean showResponsePage; public Map<String, Object> getRequestMap() { return requestMap; } public void setRequestMap(Map<String, Object> requestMap) { this.requestMap = requestMap; } public boolean isShowResponsePage() { return showResponsePage; } public void setShowResponsePage(boolean showResponsePage) { this.showResponsePage = showResponsePage; } } The following are the Mobile SDK Call Parameters: The \u201crequestMap\u201d must contain all the FORT parameters of the order/ transaction. \u201cshowResponsePage\u201d is the Boolean field where you can determine if you want the FORT response page to be displayed or not.","title":"Collect the FORT Mobile SDK Request"},{"location":"androidsdk/#define-a-callback-manager","text":"Define and initialize an instance of the FortCallBackManager in your activity as shown below: // FORT Callback Manager Instance private FortCallBackManager fortCallback = null; fortCallback = FortCallback.Factory.create();","title":"Define a Callback Manager"},{"location":"androidsdk/#attach-the-callback-to-the-activity","text":"You need to add the statement that appears below to the onActivityResult function. //Callback Statement @Override protected void onActivityResult(int requestCode, int resultCode, Intent data) { super.onActivityResult(requestCode, resultCode, data); fortCallback.onActivityResult(requestCode,resultCode,data); }","title":"Attach the Callback to the Activity"},{"location":"androidsdk/#call-the-fort-mobile-sdk","text":"For every transaction that needs to be processed, do the call as shown below and handle the callback methods upon your business flow. The FORT Mobile SDK Call registers a new callback for a new request. The registerCallBack requires the inputs as shown below. //FORT Mobile SDK Call FortSdk.getInstance().registerCallback(this,fortRequest,5, fortCallback, showLoading, new FortInterfaces.OnTnxProcessed() { @Override public void onCancel(Map<String, Object> requestParamsMap,Map<String, Object> responseMap) { //TODO: handle me } @Override public void onSuccess(Map<String, Object> requestParamsMap, Map<String, Object> fortResponseMap) { //TODO: handle me } @Override public void onFailure(Map<String, Object> requestParamsMap, Map<String, Object> fortResponseMap) { //TODO: handle me } @Override public void onSuccess(Map<String, Object> requestParamsMap, Map<String, Object> fortResponseMap) { //TODO: handle me } });","title":"Call the FORT Mobile SDK"},{"location":"androidsdk/#register-callback-request","text":"//The registerCallBack Request public void registerCallback( Activity context, final FortRequest fortRequest, String environment, final int requestCode, final FortCallBackManager callbackManager, boolean showLoading, final FortInterfaces.OnTnxProcessed callback)","title":"Register Callback Request"},{"location":"androidsdk/#call-the-fort-sdk-function","text":"//FortSDK function String device_id = FortSdk.getDeviceId(this);","title":"Call the Fort SDK Function"},{"location":"androidsdk/#fort-mobile-sdk-device-id-value","text":"Please Make sure to use the FortSDK function as shown above to generate the device_id parameter value that must be used for creating the sdk_token from your business security server. The Merchant can choose to display the FORT response page by passing \u201cshowResponsePage\u201d value as \u201cTrue\u201d.","title":"FORT Mobile SDK Device ID Value"},{"location":"androidsdk/#customizing-the-mobile-sdk-payment-layout","text":"We provide you with the res folder that includes the source code of the pages in order to customize the design, themes, etc. You can customize both English and Arabic layouts as needed. However, please take the following tips into consideration: Don\u2019t change the layout name because it\u2019s considered an override process. Make sure to use all the views that has the ID property in order to avoid the NullPointerException. Redesign the view for portrait orientation. Note that Landscape orientation isn\u2019t supported. You can support as much layout densities as you want. Don\u2019t forget to redesign the layout-ar file too (right-to-left). Don\u2019t change, rename, or remove onClick functions. Our Mobile SDK v 1.5 consists one of the following three main activities design: activity_cc_payment.xml activity_cc_response.xml activity_init_secure_conn Every file is available for both English and Arabic alignments; layout and layout-ar. The files Hierarchy and Content might change in our SDK\u2019s future versions. Design Customization Codes: The following code was used to customize the way the \u201cAmount\u201d is displayed in the Standard Mobile SDK Payment Page: <TextView android:id=\u201c@+id/amountTV\u201d android:layout_width=\u201cmatch_parent\u201d android:layout_height=\u201c@dimen/pf_payment_type_header_height\u201d android:background=\u201c@color/pf_light_gray\u201d android:gravity=\u201ccenter_horizontal|center_vertical\u201d android:textColor=\u201c@android:color/black\u201d android:textSize=\u201c@dimen/pf_15_txt_size\u201d /> The following code is used to customize the way the \u201cAmount\u201d is displayed in the Customized Mobile SDK Payment Page: LinearLayout android:layout_width=\u201cmatch_parent\u201d android:layout_height=\u201cwrap_content\u201d android:orientation=\u201chorizontal\u201d android:padding=\u201c10dp\u201d android:background=\u201c@android:color/white\u201d> <ImageView android:layout_width=\u201c40dp\u201d android:layout_height=\u201c40dp\u201d android:src=\u201c@drawable/merchant_logo\u201d/> <TextView android:fontFamily=\u201csans-serif-medium\u201d android:text=\u201cMerchant name\u201d android:layout_margin=\u201c10dp\u201d android:textColor=\u201c@android:color/holo_blue_dark\u201d android:layout_width=\u201cwrap_content\u201d android:layout_gravity=\u201ccenter_vertical\u201d android:layout_height=\u201cwrap_content\u201d android:src=\u201c@drawable/merchant_logo\u201d/> <TextView android:id=\u201c@+id/amountTV\u201d android:layout_width=\u201cmatch_parent\u201d android:layout_height=\u201c@dimen/pf_payment_type_header_height\u201d android:gravity=\u201cright|center_vertical\u201d android:textColor=\u201c@android:color/black\u201d android:text=\u201c100 UDS\u201d android:textSize=\u201c@dimen/pf_15_txt_size\u201d /> </LinearLayout> As appears in the previous codes, elements with IDs haven\u2019t been changed in type or removed. For example: android:id=\u201c@+id/amountTV\u201d. We were able to add static elements such as: ImageView element that contains the Merchant\u2019s logo, and TextView that contains the Merchant\u2019s name. To sum up, you can add any static elements or redesign the view, while keeping the views\u2019 elements used in the Standard layout that hold IDs. Make sure to retest your custom design, for example, by showing the error messages on fields and applying the changes to the Arabic layout. (Refer to the points mentioned under the **Customizing the Mobile SDK Payment Layout** section). The customized XML file should be added to the layout file in the target project (Merchant Application) to override the SDK file.","title":"Customizing the Mobile SDK Payment Layout"},{"location":"androidsdk/#fort-android-sdk-device-id-permission","text":"This section helps the developers to understand the need and usage of the permission requested by the FORT Payment SDK to generate a unique device ID. You might not face this issue through your payment flow. It depends on the time you are requesting the getDeviceID function and ask about the permission for the first time. A part of the FORT mobile SDK flow is to get a unique ID for the device. Generating the ID based on more than one input (collecting as much as possible will lead to a real unique ID). The Telephone manager is one of these sources. Accessing the Telephone manager need the use of \u2018android.permission.READ_PHONE_STATE\u2019 permission. According to Android that\u2019s a dangerous permission to be used. Getting the needed permission through the flow on the case of getting the client granted that will produce a miss match device ID on the 1st SDK call. To avoid the mismatch flow we are suggesting you the following solutions: Handle the 1st SDK call in the onActivityResults(). Since The FORT SDK is a module running within the main application context the requested permission response will be returned to the merchant context. Once the activity that called geDeviceId for the 1st received a call-back in the onActivityResult() with request code = 222 you can for sure starts the payment flow of creating an SDK token and calling the SDK afterwards. Call getDeviceID on a previous activity or in your application class to make sure that the permission request was triggered before you reach the payment step. Sample Code public class PayFortSdkSample extends Activity { private FortCallBackManager fortCallback = null; String deviceId = \u201c\u201d, sdkToken = \u201c\u201d; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); // create Fort callback instance fortCallback = FortCallback.Factory.create(); // Generating deviceId deviceId = FortSdk.getDeviceId(PayFortSdkSample.this); Log.d(\u201cDeviceId \u201d, deviceId); // prepare payment request FortRequest fortrequest = new FortRequest(); fortrequest.setRequestMap(collectRequestMap(\u201cPASS_THE_GENERATED_SDK_TOKEN_ HERE\u201d)); fortrequest.setShowResponsePage(true); // to [display/use] the SDK response page // execute payment request callSdk(fortrequest); } private Map<String, Object> collectRequestMap(String sdkToken) { Map<String, Object> requestMap = new HashMap<>(); requestMap.put(\u201ccommand\u201d, \u201cPURCHASE\u201d); requestMap.put(\u201ccustomer_email\u201d, \u201cSam@gmail.com\u201d); requestMap.put(\u201ccurrency\u201d, \u201cSAR\u201d); requestMap.put(\u201camount\u201d, \u201c100\u201d); requestMap.put(\u201clanguage\u201d, \u201cen\u201d); requestMap.put(\u201cmerchant_reference\u201d, \u201cORD-0000007682\u201d); requestMap.put(\u201ccustomer_name\u201d, \u201cSam\u201d); requestMap.put(\u201ccustomer_ip\u201d, \u201c172.150.16.10\u201d); requestMap.put(\u201cpayment_option\u201d, \u201cVISA\u201d); requestMap.put(\u201ceci\u201d, \u201cECOMMERCE\u201d); requestMap.put(\u201corder_description\u201d, \u201cDESCRIPTION\u201d); requestMap.put(\u201csdk_token\u201d, sdkToken); return requestMap; } private void callSdk(FortRequest fortrequest) { try { FortSdk.getInstance().registerCallback(PayFortSdkSample.this, fortrequest, FortSdk.ENVIRONMENT.TEST, 5, fortCallback, new FortInterfaces.OnTnxProcessed() { @Override public void onCancel(Map<String, Object> requestParamsMap, Map<String, Object> responseMap) { //TODO: handle me Log.d(\u201cCancelled \u201d, responseMap.toString()); } @Override public void onSuccess(Map<String, Object> requestParamsMap, Map<String, Object> fortResponseMap) { //TODO: handle me Log.i(\u201cSuccess \u201d, fortResponseMap.toString()); } @Override public void onFailure(Map<String, Object> requestParamsMap, Map<String, Object> fortResponseMap) { //TODO: handle me Log.e(\u201cFailure \u201d, fortResponseMap.toString()); } }); } catch (Exception e) { Log.e(\u201cexecute Payment\u201d, \u201ccall FortSdk\u201d, e); } } @Override public void onActivityResult(int requestCode, int resultCode, Intent data) { super.onActivityResult(requestCode, resultCode, data); fortCallback.onActivityResult(requestCode, resultCode, data); }","title":"FORT Android SDK \u2013 Device ID permission"},{"location":"androidsdk/#go-to-full-api","text":"Check out our full API by visiting this link","title":"Go to Full API"},{"location":"androidsdk/#need-further-help","text":"Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Need further help?"},{"location":"backoffice/","text":"","title":"Backoffice"},{"location":"bypass/","text":"","title":"Bypass"},{"location":"capturepayment/","text":"Capture a payment This operation that allows you to capture the authorized amount to your account. The capture could be partial or full depends on your requirements and request. The request Use the details below to set up your request. Endpoints Live POST https://paymentservices.payfort.com/FortAPI/paymentApi Sandbox POST https://sbpaymentservices.payfort.com/FortAPI/paymentApi You can send \u201cmerchant_reference\u201d and/ or \u201cfort_id\u201d in the CAPTURE request. Before sending the amount value of any transaction, you have to multiply the value with the currency decimal code according to ISO code. For example: If the amount value was 500 AED; according to ISO code 3, you should multiply the value with 100 (2 decimal points); so it will be sent in the request as 50000. Another example: If the amount value was 100 JOD; according to ISO code 3, you should multiply the value with 1000 (3 decimal points); so it will be sent in the request as 100000. Every parameter the Merchant sends in the Request should be received by the Merchant in the Response even the optional ones. Request example { 'command':'CAPTURE', 'access_code':'zx0IPmPy5jp1vAz8Kpg7', 'merchant_identifier':'CycHZxVj', 'merchant_reference':'XYZ9239-yu898', 'amount':'10000', 'currency':'AED', 'language':'en', 'fort_id':'149295435400084008', 'signature':'7cad05f0212ed933c9a5d5dffa31661acf2c827a', 'order_description':'iPhone 6-S', }; The response If you receive response code 20064 with status code 04 then your request to capture a payment has been accepted by the PayFort Server. Response examples {\"command\":\"CAPTURE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239-yu898\", \"amount\":\"10000\", \"currency\":\"AED\", \"language\":\"en\", \"fort_id\":\"149295435400084008\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"order_description\":\"iPhone 6-S\", \"response_message\":\"Success\", \"response_code\":\"20064\", status\":\"04\" } You can check out various transaction codes by visiting this link Go to Full API Check out our full API by visiting this link Need further help? Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Capture Payment"},{"location":"capturepayment/#capture-a-payment","text":"This operation that allows you to capture the authorized amount to your account. The capture could be partial or full depends on your requirements and request.","title":"Capture a payment"},{"location":"capturepayment/#the-request","text":"Use the details below to set up your request.","title":"The request"},{"location":"capturepayment/#endpoints","text":"","title":"Endpoints"},{"location":"capturepayment/#live","text":"POST https://paymentservices.payfort.com/FortAPI/paymentApi","title":"Live"},{"location":"capturepayment/#sandbox","text":"POST https://sbpaymentservices.payfort.com/FortAPI/paymentApi You can send \u201cmerchant_reference\u201d and/ or \u201cfort_id\u201d in the CAPTURE request. Before sending the amount value of any transaction, you have to multiply the value with the currency decimal code according to ISO code. For example: If the amount value was 500 AED; according to ISO code 3, you should multiply the value with 100 (2 decimal points); so it will be sent in the request as 50000. Another example: If the amount value was 100 JOD; according to ISO code 3, you should multiply the value with 1000 (3 decimal points); so it will be sent in the request as 100000. Every parameter the Merchant sends in the Request should be received by the Merchant in the Response even the optional ones.","title":"Sandbox"},{"location":"capturepayment/#request-example","text":"{ 'command':'CAPTURE', 'access_code':'zx0IPmPy5jp1vAz8Kpg7', 'merchant_identifier':'CycHZxVj', 'merchant_reference':'XYZ9239-yu898', 'amount':'10000', 'currency':'AED', 'language':'en', 'fort_id':'149295435400084008', 'signature':'7cad05f0212ed933c9a5d5dffa31661acf2c827a', 'order_description':'iPhone 6-S', };","title":"Request example"},{"location":"capturepayment/#the-response","text":"If you receive response code 20064 with status code 04 then your request to capture a payment has been accepted by the PayFort Server.","title":"The response"},{"location":"capturepayment/#response-examples","text":"{\"command\":\"CAPTURE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239-yu898\", \"amount\":\"10000\", \"currency\":\"AED\", \"language\":\"en\", \"fort_id\":\"149295435400084008\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"order_description\":\"iPhone 6-S\", \"response_message\":\"Success\", \"response_code\":\"20064\", status\":\"04\" } You can check out various transaction codes by visiting this link","title":"Response examples"},{"location":"capturepayment/#go-to-full-api","text":"Check out our full API by visiting this link","title":"Go to Full API"},{"location":"capturepayment/#need-further-help","text":"Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Need further help?"},{"location":"cards/","text":"With PayFort you can accept card payments from all major global providers and many local payment methods Supported card schemes We support the following international and domestic card schemes: International Visa Mastercard American Express Discover Diners Club JCB UnionPay Local Capture the opportunity to expand your business reach by accepting Mada cards to enhance the customer experience on your checkout page. Payfort has partnered with MADA under the supervision of SAMA in taking a strategic initiative to enable all MADA cards for online buyers to enjoy a convenient way to digitalize cash and increase the spend through their existing MADA cards through various KSA e-commerce merchants. There are around 30 million MADA debit cards being issued by 16 member banks in KSA. PAYFORT gateway also supports Sadad for Merchants residing in the Kingdom of Saudi Arabia (KSA). More and more Saudi businesses are beginning to rely on online payment processes that\u2019s why the addition of SADAD account to PAYFORT will provide businesses with the means to accept payments. At the moment Payfort supports following local payment methods: Sadad KNET Mada NAPS Oman NET MEEZA Test Your Card Integration You can checkout this link for testing your card integration. Go to Full API Check out our full API by visiting this link Need further help? Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Cards"},{"location":"cards/#supported-card-schemes","text":"We support the following international and domestic card schemes:","title":"Supported card schemes"},{"location":"cards/#international","text":"Visa Mastercard American Express Discover Diners Club JCB UnionPay","title":"International"},{"location":"cards/#local","text":"Capture the opportunity to expand your business reach by accepting Mada cards to enhance the customer experience on your checkout page. Payfort has partnered with MADA under the supervision of SAMA in taking a strategic initiative to enable all MADA cards for online buyers to enjoy a convenient way to digitalize cash and increase the spend through their existing MADA cards through various KSA e-commerce merchants. There are around 30 million MADA debit cards being issued by 16 member banks in KSA. PAYFORT gateway also supports Sadad for Merchants residing in the Kingdom of Saudi Arabia (KSA). More and more Saudi businesses are beginning to rely on online payment processes that\u2019s why the addition of SADAD account to PAYFORT will provide businesses with the means to accept payments. At the moment Payfort supports following local payment methods: Sadad KNET Mada NAPS Oman NET MEEZA","title":"Local"},{"location":"cards/#test-your-card-integration","text":"You can checkout this link for testing your card integration.","title":"Test Your Card Integration"},{"location":"cards/#go-to-full-api","text":"Check out our full API by visiting this link","title":"Go to Full API"},{"location":"cards/#need-further-help","text":"Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Need further help?"},{"location":"collection/","text":"","title":"Collect"},{"location":"custompaymentform/","text":"Use Custom Payment Form You can also build your own custom payment Form without using default template provided by PayFort. Figure 1 How it works - overview You develop your own custom payment details form that collects the card details (credit card number, expiry date, CVV), and sends the request to PayFort. PayFort receives the payment details and returns the response which includes the Token to your payment processing page. You use the token to complete the Authorization or Purchase operation . Note - You should develop a form that does not send data to your website but directly submits the form to PayFort.* Integration Flow Figure 2 The Customer begins the checkout process on your website. Your website displays the custom payment form to collect the card\u2019s details. Then the Customer enters the card\u2019s details on the payment page. PayFort validates the card format. PayFort creates a token for the card details and sends it back to your payment page. Payment page stores the Token and proceeds with the transaction. Payment page sends a payment request along with the Token to PayFort. PayFort sends the 3-D Secure URL, and response indicating that a check is required: Payment page redirects the Customer to check his card enrollment. The Customer enters authentication data. 3-D Secure authentication is completed and PayFort receives the authentication results. Note - In this case, PayFort returns status \u201c20: On hold\u201d and message \u201c064: 3-D Secure check requested\u201d . For example, PayFort is waiting for the payment page to authenticate the Customer. PayFort completes the operation based on the 3-D Secure response and returns the response to the website. The payment results are displayed to the Customer. Note - If the Token is sent by the payment page, it will be generated with the same name sent by the website. Payment processing page, payment form and payment details form all refer to payment page on your site where customer will enter card details. Endpoints Live POST https://checkout.PayFort.com/FortAPI/paymentPage Sandbox POST https://sbcheckout.payfort.com/FortAPI/paymentPage Before you start Make sure you have your access_code . Refer figure 3. You can find it in the backoffice , under Integration Settings Security Settings > Access Code . If you don't have an account with us yet, you can create a test account by visiting the link . You can also get started with an active account by visiting this link Figure 2 : Uploading custom template The Payment Page Template available in the backoffice provides you the feature to create a custom payment processing page. Refer to the figure 2. Once you upload your custom payment page our support team will validate the same. Figure 3: Generating Access Code. Start testing Ready to try out your integration? Create a test account to get everything working perfectly before going live. Get test account Add the code snippet to your site The following code snippet shown here is an example of the start of the payment process. You can refer to this example, replacing the supplied acccess_code with your own. The card token will be posted via the URL specified in the form's action attribute. HTML <html> <body> <form method=\"post\" action=\"https://sbcheckout.payfort.com/FortAPI/paymentPage\" id=form1 name=form1> <input type=\"hidden\" NAME=\"service_command\" value=\"TOKENIZATION\"> <input type=\"hidden\" NAME=\"language\" value=\" \"> <input type=\"hidden\" NAME=\"merchant_identifier\" value=\" \"> <input type=\"hidden\" NAME=\"access_code\" value=\" \"> <input type=\"hidden\" NAME=\"signature\" value=\"\"> <input type=\"hidden\" NAME=\"return_url\" value=\" \"> <input type=\"hidden\" NAME=\"merchant_reference\" value=\"\"> <input type=\"hidden\" NAME=\"card_number\" value=\"\"> <input type=\"hidden\" NAME=\"expiry_date\" value=\"\"> <input type=\"hidden\" NAME=\"card_security_code\" value=\"\"> <input type=\"hidden\" NAME=\"card_holder_name\" value=\" \"> <input type=\"submit\" value=\"\" id=\"submit2\" name=\"\"> </form> </body> </html> How to add the Tokenization service on the Payment Page? The Tokenization service is applicable to be integrated through the payment page through the below steps: The Customer processes the first PURCHASE/ AUTHORIZATION payment successfully. The payment page will receive a token_name in the response. This token_name should be considered as a permanent token name, and it can be used in the future customer\u2019s payments by submitting the token_name in the next PURCHASE/ AUTHORIZATION payment with card_security_code parameter. No need to open the Payment Details Form to fill all the card details again in the next checkouts. If the Customer wants to update/ delete his card, you should check Update Token section. Note Please refer to section FORT Tokenization Service for more details about the token name parameter. Payment Page Customization This is a list with all customizable CSS classes on the basic merchant page: The Wrapper class: responsible for the total width of the form container and the background. The Container class: responsible for the form\u2019s shape and width. The Popover class: responsible for the error messages. The Half-container class: used to merge the date and CVV fields into one block if needed. The Input class: is the container of each single input field. The Pay class: responsible for the submit button. The Visa/ MasterCard classes: used to change the color of the Visa/ MasterCard colors. Note - You can always create multiple theme files that will enable you to switch freely and easily between them when necessary. Note - \u201cTheme\u201d files can be uploaded from the back-office using the Payment Page template screen. Need further help? Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Custom Payment Form"},{"location":"custompaymentform/#use-custom-payment-form","text":"You can also build your own custom payment Form without using default template provided by PayFort. Figure 1","title":"Use Custom Payment Form"},{"location":"custompaymentform/#how-it-works-overview","text":"You develop your own custom payment details form that collects the card details (credit card number, expiry date, CVV), and sends the request to PayFort. PayFort receives the payment details and returns the response which includes the Token to your payment processing page. You use the token to complete the Authorization or Purchase operation . Note - You should develop a form that does not send data to your website but directly submits the form to PayFort.*","title":"How it works - overview"},{"location":"custompaymentform/#integration-flow","text":"Figure 2 The Customer begins the checkout process on your website. Your website displays the custom payment form to collect the card\u2019s details. Then the Customer enters the card\u2019s details on the payment page. PayFort validates the card format. PayFort creates a token for the card details and sends it back to your payment page. Payment page stores the Token and proceeds with the transaction. Payment page sends a payment request along with the Token to PayFort. PayFort sends the 3-D Secure URL, and response indicating that a check is required: Payment page redirects the Customer to check his card enrollment. The Customer enters authentication data. 3-D Secure authentication is completed and PayFort receives the authentication results. Note - In this case, PayFort returns status \u201c20: On hold\u201d and message \u201c064: 3-D Secure check requested\u201d . For example, PayFort is waiting for the payment page to authenticate the Customer. PayFort completes the operation based on the 3-D Secure response and returns the response to the website. The payment results are displayed to the Customer. Note - If the Token is sent by the payment page, it will be generated with the same name sent by the website. Payment processing page, payment form and payment details form all refer to payment page on your site where customer will enter card details.","title":"Integration Flow"},{"location":"custompaymentform/#endpoints","text":"","title":"Endpoints"},{"location":"custompaymentform/#live","text":"POST https://checkout.PayFort.com/FortAPI/paymentPage","title":"Live"},{"location":"custompaymentform/#sandbox","text":"POST https://sbcheckout.payfort.com/FortAPI/paymentPage","title":"Sandbox"},{"location":"custompaymentform/#before-you-start","text":"Make sure you have your access_code . Refer figure 3. You can find it in the backoffice , under Integration Settings Security Settings > Access Code . If you don't have an account with us yet, you can create a test account by visiting the link . You can also get started with an active account by visiting this link Figure 2 : Uploading custom template The Payment Page Template available in the backoffice provides you the feature to create a custom payment processing page. Refer to the figure 2. Once you upload your custom payment page our support team will validate the same. Figure 3: Generating Access Code.","title":"Before you start"},{"location":"custompaymentform/#start-testing","text":"Ready to try out your integration? Create a test account to get everything working perfectly before going live. Get test account","title":"Start testing"},{"location":"custompaymentform/#add-the-code-snippet-to-your-site","text":"The following code snippet shown here is an example of the start of the payment process. You can refer to this example, replacing the supplied acccess_code with your own. The card token will be posted via the URL specified in the form's action attribute. HTML <html> <body> <form method=\"post\" action=\"https://sbcheckout.payfort.com/FortAPI/paymentPage\" id=form1 name=form1> <input type=\"hidden\" NAME=\"service_command\" value=\"TOKENIZATION\"> <input type=\"hidden\" NAME=\"language\" value=\" \"> <input type=\"hidden\" NAME=\"merchant_identifier\" value=\" \"> <input type=\"hidden\" NAME=\"access_code\" value=\" \"> <input type=\"hidden\" NAME=\"signature\" value=\"\"> <input type=\"hidden\" NAME=\"return_url\" value=\" \"> <input type=\"hidden\" NAME=\"merchant_reference\" value=\"\"> <input type=\"hidden\" NAME=\"card_number\" value=\"\"> <input type=\"hidden\" NAME=\"expiry_date\" value=\"\"> <input type=\"hidden\" NAME=\"card_security_code\" value=\"\"> <input type=\"hidden\" NAME=\"card_holder_name\" value=\" \"> <input type=\"submit\" value=\"\" id=\"submit2\" name=\"\"> </form> </body> </html>","title":"Add the code snippet to your site"},{"location":"custompaymentform/#how-to-add-the-tokenization-service-on-the-payment-page","text":"The Tokenization service is applicable to be integrated through the payment page through the below steps: The Customer processes the first PURCHASE/ AUTHORIZATION payment successfully. The payment page will receive a token_name in the response. This token_name should be considered as a permanent token name, and it can be used in the future customer\u2019s payments by submitting the token_name in the next PURCHASE/ AUTHORIZATION payment with card_security_code parameter. No need to open the Payment Details Form to fill all the card details again in the next checkouts. If the Customer wants to update/ delete his card, you should check Update Token section. Note Please refer to section FORT Tokenization Service for more details about the token name parameter.","title":"How to add the Tokenization service on the Payment Page?"},{"location":"custompaymentform/#payment-page-customization","text":"This is a list with all customizable CSS classes on the basic merchant page: The Wrapper class: responsible for the total width of the form container and the background. The Container class: responsible for the form\u2019s shape and width. The Popover class: responsible for the error messages. The Half-container class: used to merge the date and CVV fields into one block if needed. The Input class: is the container of each single input field. The Pay class: responsible for the submit button. The Visa/ MasterCard classes: used to change the color of the Visa/ MasterCard colors. Note - You can always create multiple theme files that will enable you to switch freely and easily between them when necessary. Note - \u201cTheme\u201d files can be uploaded from the back-office using the Payment Page template screen.","title":"Payment Page Customization"},{"location":"custompaymentform/#need-further-help","text":"Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Need further help?"},{"location":"declinecodes/","text":"","title":"Decline Codes"},{"location":"dummy/","text":"Prestashop Get Started Github Repo Woocommerce Get Started Github Repo Magento Get Started Github Repo Magento 2 Get Started Github Repo Cs Cart 3 Get Started Github Repo Cs Cart 4 Get Started Github Repo Open Cart Get Started Github Repo Open Cart 2 Get Started Github Repo Php Get Started","title":"Dummy Testing"},{"location":"fraudbasic/","text":"","title":"Fraud Basic(Protect)"},{"location":"glossary/","text":"Glossary of Terms Used Number 3-D Secure URL - An XML -based protocol designed to be an additional security layer for online credit and debit card transactions. A ACS - Access Control Server running on the bank side that authenticates e-commerce transactions through the 3D Secure URL. P PCI-DSS - Payment Card Industry Data Security Standard. A set of security standards which forms the compliance scheme. The compliance aims to secure credit and debit card transactions against payment frauds. R Redirection - Routing to other site (bank or financial institution) or webpage through the action on the page for authentication purpose. The action could be submit button. U URL - Uniform Resource locator. Example : https:\\www.example.com","title":"Glossary"},{"location":"glossary/#glossary-of-terms-used","text":"","title":"Glossary of Terms Used"},{"location":"glossary/#number","text":"3-D Secure URL - An XML -based protocol designed to be an additional security layer for online credit and debit card transactions.","title":"Number"},{"location":"glossary/#a","text":"ACS - Access Control Server running on the bank side that authenticates e-commerce transactions through the 3D Secure URL.","title":"A"},{"location":"glossary/#p","text":"PCI-DSS - Payment Card Industry Data Security Standard. A set of security standards which forms the compliance scheme. The compliance aims to secure credit and debit card transactions against payment frauds.","title":"P"},{"location":"glossary/#r","text":"Redirection - Routing to other site (bank or financial institution) or webpage through the action on the page for authentication purpose. The action could be submit button.","title":"R"},{"location":"glossary/#u","text":"URL - Uniform Resource locator. Example : https:\\www.example.com","title":"U"},{"location":"iframe_web/","text":"What is iFrame for Web? You can setup payment form and start accepting payments within few minutes with the help of iFrame. PayFORT provides easy to use iFrame which can be easily integrated with your payment form. It takes the look and feel of your merchant site and accepts payments from major credit cards including MADA, VISA, Mastercard, etc. You develop your site in any technology of your choice and integrate the iFrame in your html based checkout page. The PayFORT iframe takes the look and feel as that of your website. Figure 1 - Using PayFORT iFrame for web How it Works? Your checkout page will display an integrated PayFORT iFrame to your Customer that has the same look and feel as that of your website. Customer fills his/her payment details in the checkout page. PayFORT server receives the payment details and validates the same. PayFORT then sends a token to your checkout page to complete the transaction. You have the option to redirect the Customer directly to the checkout page. For more details on Tokens and Tokenization process visit the link Integration Flow Figure 2 : Integration Flow using iFrame Here is the description of the PayFORT iFrame Integration workflow : The customer begins the checkout process on your website. The payment page with integrated iFrame is displayed. The Customer then enters the card\u2019s details on the payment page. PayFORT checks the card details. PayFORT creates a token for the Customer transaction and sends it to the payment page. The Payment page then sends a JSON request along with the token to PayFORT. In case your page receives from PayFORT server a 3-D Secure URL 3ds_url , and response indicating that a 3ds check is required then: Your payment page redirects the Customer to the ACS to check his card enrollment. The Customer enters authentication data on the ACS platform. The ACS performs authentication of the Customer\u2019s data and sends the authentication results to PayFORT. PayFORT completes the operation based on the 3-D Secure response and returns the response to your payment page. PayFORT sends the payment results to your site. In case of 3ds secure check, PayFort returns status 20: On hold and message 064: 3-D Secure check requested message.For example, PayFort is waiting for your payment page to authenticate the Customer. If you include the token_name parameter in the request and this Token already has a successful Authorization, then the card number (masked) and expiry date will be displayed in their allocated fields. If the Token is sent by you, it will be generated with the same name as sent by your page. Payment processing page, payment form and payment details form all refer to payment page on your site where customer will enter card details. For more details on Tokens and Tokenization process visit the link Give It a Try Use one of our test cards and corresponding CVV to try iFrames out for yourself. You can use any expiry date ( mm/yy ), as long as it's in the future. Endpoints An endpoint is one end of a communication channel and your merchant site will communicate with the PayFORT resources using Endpoints. For PayFORT APIs , an endpoint includes a URL of PayFORT server or service. Sandbox POST https://sbcheckout.payfort.com/FortAPI/paymentPage Live POST https://checkout.payfort.com/FortAPI/paymentPage Integrate iFrames to Payment Page If you are planning to use PayFORT iFrames then you can use the endpoints for testing and and also for going live. You can use programming language of your choice or what your site uses and can use the iFrame in your html based check out page. Before you start Make sure you have your access_code . Refer to Figure 2 . You can find it in the backoffice , under Integration Settings > Security Settings > Access Code . If you don't have an account with us yet, you can create a test account by visiting the link . You can also get started with an active account by visiting this link . Once you signup you will get the access to the Backoffice. You can check out more about navigating through backoffice by visiting this link . Figure 2 : Access Code Generation The Payment Page Template available in the backoffice provides you the feature to create a payment processing page using PayFort iFrame. Refer to the Figure 3 Figure 3 : Use Payment Settings to create a payment form Sample iFrame code snippet The following sample code snippet is the start of the payment process and allows you to tokenize a customer's sensitive card information using iFrames. <html> </head> <body> <iframe style=\"border:5px dotted red\" name=\"myframe\" src = \"\" width=\"400\" height=\"600\"> </iframe> <form action=\"https://sbcheckout.payfort.com/FortAPI/paymentPage\" method=\"post\" id=\"\" target=\"myframe\"> <INPUT type=\"hidden\" NAME=\"service_command\" value=\"TOKENIZATION\"> <INPUT type=\"hidden\" NAME=\"language\" value=\" \"> <INPUT type=\"hidden\" NAME=\"merchant_identifier\" value=\"\"> <INPUT type=\"hidden\" NAME=\"access_code\" value=\"\"> <INPUT type=\"hidden\" NAME=\"signature\" value=\"\"> <INPUT type=\"hidden\" NAME=\"return_url\" value=\"\"> <INPUT type=\"hidden\" NAME=\"merchant_reference\" value=\"\"> <input value=\"Send\" type=\"submit\" id=\"form1\"> </form> </body> </html> The above code snippet is an HTML based form that will post a request to PayFORT server. The request parameters are also added in the input tag of the code. However, If you are not familiar with HTML tags and forms then you can checkout this site . The parameters are mandatory and are required by PayFORT server to validate, authenticate and provide the tokens for processing of payment The form consists of iframe tag which specifies the style, name of the style (you can give any name to your style), source code location, width and height of the iframe. All these are customizable values which you can provide. The form action tag consists of the endpoints . This will come handy whenever submit action is performed on the page. Once the form is submitted the parameters provided in the form would be sent to the PayFORT server and Endpoints will serve as communication link between your page and PayFORT server. Here is the description of the input parameters: The very first input parameter is the service command Tokenization. This service command will provide the server with a valid command that it should perform once it receives the request. The second input parameter denotes the language. There are two options which you can use. The languages supported by our platform are en/ar . You can provide either english(en) or arabic(ar) in the input parameter value. The third input parameter is merchant identifier and the value of the same can be check in the backoffice . The fourth input parameter is the access code and again its value can be found in backoffice. The fifth input parameter is the signature which is a SHA based and can be generated in the backoffice. The sixth input parameter is the return url which the url of the page where you would like to receive the response of the PayFORT server or the response to your request. The seventh input parameter is the merchant reference which is nothing but unique order number. You need to provide the values of all the input parameters in the value field before your payment page can send request to the PayFORT server. Finally the laster input parameter would be a submit parameter which would submit the form and the request would be forwarded to the PayFORT server. For more details on Tokens and Tokenization process visit the link Go to Full API Check out our full API by visiting this link Need further help? Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"iFrame For Web"},{"location":"iframe_web/#what-is-iframe-for-web","text":"You can setup payment form and start accepting payments within few minutes with the help of iFrame. PayFORT provides easy to use iFrame which can be easily integrated with your payment form. It takes the look and feel of your merchant site and accepts payments from major credit cards including MADA, VISA, Mastercard, etc. You develop your site in any technology of your choice and integrate the iFrame in your html based checkout page. The PayFORT iframe takes the look and feel as that of your website. Figure 1 - Using PayFORT iFrame for web","title":"What is iFrame for Web?"},{"location":"iframe_web/#how-it-works","text":"Your checkout page will display an integrated PayFORT iFrame to your Customer that has the same look and feel as that of your website. Customer fills his/her payment details in the checkout page. PayFORT server receives the payment details and validates the same. PayFORT then sends a token to your checkout page to complete the transaction. You have the option to redirect the Customer directly to the checkout page. For more details on Tokens and Tokenization process visit the link","title":"How it Works?"},{"location":"iframe_web/#integration-flow","text":"Figure 2 : Integration Flow using iFrame Here is the description of the PayFORT iFrame Integration workflow : The customer begins the checkout process on your website. The payment page with integrated iFrame is displayed. The Customer then enters the card\u2019s details on the payment page. PayFORT checks the card details. PayFORT creates a token for the Customer transaction and sends it to the payment page. The Payment page then sends a JSON request along with the token to PayFORT. In case your page receives from PayFORT server a 3-D Secure URL 3ds_url , and response indicating that a 3ds check is required then: Your payment page redirects the Customer to the ACS to check his card enrollment. The Customer enters authentication data on the ACS platform. The ACS performs authentication of the Customer\u2019s data and sends the authentication results to PayFORT. PayFORT completes the operation based on the 3-D Secure response and returns the response to your payment page. PayFORT sends the payment results to your site. In case of 3ds secure check, PayFort returns status 20: On hold and message 064: 3-D Secure check requested message.For example, PayFort is waiting for your payment page to authenticate the Customer. If you include the token_name parameter in the request and this Token already has a successful Authorization, then the card number (masked) and expiry date will be displayed in their allocated fields. If the Token is sent by you, it will be generated with the same name as sent by your page. Payment processing page, payment form and payment details form all refer to payment page on your site where customer will enter card details. For more details on Tokens and Tokenization process visit the link","title":"Integration Flow"},{"location":"iframe_web/#give-it-a-try","text":"Use one of our test cards and corresponding CVV to try iFrames out for yourself. You can use any expiry date ( mm/yy ), as long as it's in the future.","title":"Give It a Try"},{"location":"iframe_web/#endpoints","text":"An endpoint is one end of a communication channel and your merchant site will communicate with the PayFORT resources using Endpoints. For PayFORT APIs , an endpoint includes a URL of PayFORT server or service. Sandbox POST https://sbcheckout.payfort.com/FortAPI/paymentPage Live POST https://checkout.payfort.com/FortAPI/paymentPage","title":"Endpoints"},{"location":"iframe_web/#integrate-iframes-to-payment-page","text":"If you are planning to use PayFORT iFrames then you can use the endpoints for testing and and also for going live. You can use programming language of your choice or what your site uses and can use the iFrame in your html based check out page. Before you start Make sure you have your access_code . Refer to Figure 2 . You can find it in the backoffice , under Integration Settings > Security Settings > Access Code . If you don't have an account with us yet, you can create a test account by visiting the link . You can also get started with an active account by visiting this link . Once you signup you will get the access to the Backoffice. You can check out more about navigating through backoffice by visiting this link . Figure 2 : Access Code Generation The Payment Page Template available in the backoffice provides you the feature to create a payment processing page using PayFort iFrame. Refer to the Figure 3 Figure 3 : Use Payment Settings to create a payment form Sample iFrame code snippet The following sample code snippet is the start of the payment process and allows you to tokenize a customer's sensitive card information using iFrames. <html> </head> <body> <iframe style=\"border:5px dotted red\" name=\"myframe\" src = \"\" width=\"400\" height=\"600\"> </iframe> <form action=\"https://sbcheckout.payfort.com/FortAPI/paymentPage\" method=\"post\" id=\"\" target=\"myframe\"> <INPUT type=\"hidden\" NAME=\"service_command\" value=\"TOKENIZATION\"> <INPUT type=\"hidden\" NAME=\"language\" value=\" \"> <INPUT type=\"hidden\" NAME=\"merchant_identifier\" value=\"\"> <INPUT type=\"hidden\" NAME=\"access_code\" value=\"\"> <INPUT type=\"hidden\" NAME=\"signature\" value=\"\"> <INPUT type=\"hidden\" NAME=\"return_url\" value=\"\"> <INPUT type=\"hidden\" NAME=\"merchant_reference\" value=\"\"> <input value=\"Send\" type=\"submit\" id=\"form1\"> </form> </body> </html> The above code snippet is an HTML based form that will post a request to PayFORT server. The request parameters are also added in the input tag of the code. However, If you are not familiar with HTML tags and forms then you can checkout this site . The parameters are mandatory and are required by PayFORT server to validate, authenticate and provide the tokens for processing of payment The form consists of iframe tag which specifies the style, name of the style (you can give any name to your style), source code location, width and height of the iframe. All these are customizable values which you can provide. The form action tag consists of the endpoints . This will come handy whenever submit action is performed on the page. Once the form is submitted the parameters provided in the form would be sent to the PayFORT server and Endpoints will serve as communication link between your page and PayFORT server. Here is the description of the input parameters: The very first input parameter is the service command Tokenization. This service command will provide the server with a valid command that it should perform once it receives the request. The second input parameter denotes the language. There are two options which you can use. The languages supported by our platform are en/ar . You can provide either english(en) or arabic(ar) in the input parameter value. The third input parameter is merchant identifier and the value of the same can be check in the backoffice . The fourth input parameter is the access code and again its value can be found in backoffice. The fifth input parameter is the signature which is a SHA based and can be generated in the backoffice. The sixth input parameter is the return url which the url of the page where you would like to receive the response of the PayFORT server or the response to your request. The seventh input parameter is the merchant reference which is nothing but unique order number. You need to provide the values of all the input parameters in the value field before your payment page can send request to the PayFORT server. Finally the laster input parameter would be a submit parameter which would submit the form and the request would be forwarded to the PayFORT server. For more details on Tokens and Tokenization process visit the link","title":"Integrate iFrames to Payment Page"},{"location":"iframe_web/#go-to-full-api","text":"Check out our full API by visiting this link","title":"Go to Full API"},{"location":"iframe_web/#need-further-help","text":"Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Need further help?"},{"location":"installments/","text":"","title":"Installments"},{"location":"iossdk/","text":"image source : medium.com Integrate iOS SDK The PayFort iOS SDK makes it faster and easy to build a perfect payment experience in your iOS app. PayFort offers powerful and customizable UI screens and elements that can be used out-of-the-box to collect your users\u2019 payment details. We also expose the low-level APIs that power those UIs so that you can build fully custom experiences. About the Software Supported Platforms PayFort iOS SDK is supported on all the apple devices running iOS 8 and above. Localization The FORT Mobile SDK supports both English and Arabic languages. Screen Orientation Portrait is the only orientation supported within the FORT Mobile SDK. Supported Payment Methods Through the first version of the FORT Mobile SDK, the Merchant has the ability to process a CREDIT CARD transactions only. Supported Payment Options The supported credit card payment options are VISA , MASTERCARD , American Express (AMEX) , MADA and MEEZA . MobileSDK integration workflow image source : medium.com Include the SDK to your Xcode Project Download the sdk from this link and extract it. Drag the PayFortSDK.framework & PayFortSDK.bundle to Frameworks in Project Navigator. Create a new group Frameworks if it does not exist: Choose Create groups for any added folders. Make Sure to select Copy files if needed. Set -ObjC in the Other Linker Flags in the Target \u2192 Build Settings Tab. For Swift Projects add the following code In your Bridge-Header.h: #import <PayFortSDK/PayFortSDK.h> Ensure the option 'Link With Standard Libraries' is set to Yes or just drag the PayFortSDK to Embedded Binaries in the general tab in the project settings. In Xcode, click your project\u2019s .plist file and select Open As \u2192 Source Code. Insert the following XML snippet into the body of your file just before the final: </dict>element <key>NSAppTransportSecurity</key> <dict> <key>NSAllowsArbitraryLoads</key><true/> </dict> To ensure that the application is not disconnected go to background make sure to add this code: Objective C (void)applicationDidEnterBackground:(UIApplication *)application { __block UIBackgroundTaskIdentifier backgroundTask; backgroundTask = [application beginBackgroundTaskWithExpirationHandler: ^ { [application endBackgroundTask:backgroundTask]; backgroundTask = UIBackgroundTaskInvalid; }]; Swift func applicationDidEnterBackground(_ application: UIApplication) { var bgTask: UIBackgroundTaskIdentifier = 0 bgTask = application.beginBackgroundTask(expirationHandler: { application.endBackgroundTask(bgTask) bgTask = UIBackgroundTaskInvalid }) } Installation When you register for Payfort, you will receive separate keys for testing and production environment. Import the PayFort Library. #import <PayFortSDK/PayFortSDK.h> Initialize PayFortController with targeted environment, You set the target environment by setting one the two ENUM KPayFortEnviromentSandBox or KPayFortEnviromentProduction . Objective C PayFortController *payFort = [[PayFortControlleralloc]initWithEnviroment:KPayFortEnviromentSandBox]; Swift let payFort = PayFortController.init(enviroment: KPayFortEnviromentSandBox) Set Dictionary contain all keys and values for SDK. Objective C NSMutableDictionary *request = [[NSMutableDictionary alloc]init]; [request setValue:@\u201c10000\u201d forKey:@\u201camount\u201d]; [request setValue:@\u201cAUTHORIZATION\u201d forKey:@\u201ccommand\u201d]; [request setValue:@\u201cUSD\u201d forKey:@\u201ccurrency\u201d]; [request setValue:@ \u201cemail@domain.com\u201d forKey:@\u201ccustomer_email\u201d]; [request setValue:@\u201cen\u201d forKey:@\u201clanguage\u201d]; [request setValue:@\u201c112233682686\u201d forKey:@\u201cmerchant_reference\u201d]; [request setValue:`SDK TOKEN GOES HERE` forKey:@\u201csdk_token\u201d]; [request setValue:@\u201c\u201d forKey:@\u201cpayment_option\u201d]; [request setValue:@\u201cgr66zzwW9\u201d forKey:@\u201ctoken_name\"]; Swift let request = NSMutableDictionary.init() request.setValue(\u201c1000\u201d, forKey: \u201camount\u201d) request.setValue(\u201cAUTHORIZATION\u201d, forKey: \u201ccommand\u201d) request.setValue(\u201cUSD\u201d, forKey: \u201ccurrency\u201d) request.setValue(\u201cemail@domain.com\u201d, forKey: \u201ccustomer_email\u201d) request.setValue(\u201cen\u201d, forKey: \u201clanguage\u201d) request.setValue(\u201c112233682686\u201d, forKey: \u201cmerchant_reference\u201d) request.setValue(\u201ctoken\u201d , forKey: \u201csdk_token\u201d) Call PayFort and Response callback Objective C [payFort callPayFortWithRequest:request currentViewController:self Success:^(NSDictionary *requestDic, NSDictionary *responeDic) { NSLog(@\u201cSuccess\u201d); NSLog(@\u201cresponeDic=%@\u201d,responeDic); } Canceled:^(NSDictionary *requestDic, NSDictionary *responeDic) { NSLog(@\u201cCanceled\u201d); NSLog(@\u201cresponeDic=%@\u201d,responeDic); } Faild:^(NSDictionary *requestDic, NSDictionary *responeDic, NSString *message) { NSLog(@\u201cFaild\u201d); NSLog(@\u201cresponeDic=%@\u201d,responeDic); }]; Swift PayFort.callPayFort(withRequest: request, currentViewController: self, success: { (requestDic, responeDic) in print(\u201csuccess\u201d) }, canceled: { (requestDic, responeDic) in print(\u201ccanceled\u201d) }, faild: { (requestDic, responeDic, message) in print(\u201cfaild\u201d) }) SDK - Response By default the response will be dictionary to show the sent data in addition to the status, response message and response code. The response will be ready in the registered call back handler with success, failed and cancelled. You can view the response by log the result as the followings: Objective C [payFort callPayFortWithRequest:request currentViewController:self Success:^(NSDictionary *requestDic, NSDictionary *responeDic) { NSLog(@\u201cSuccess\u201d); NSLog(@\u201crequestDic=%@\u201d,requestDic); NSLog(@\u201cresponeDic=%@\u201d,responeDic); } Canceled:^(NSDictionary *requestDic, NSDictionary *responeDic) { NSLog(@\u201cCanceled\u201d); NSLog(@\u201crequestDic=%@\u201d,requestDic); NSLog(@\u201cresponeDic=%@\u201d,responeDic); } Faild:^(NSDictionary *requestDic, NSDictionary *responeDic, NSString *message) { NSLog(@\u201cFaild\u201d); NSLog(@\u201crequestDic=%@\u201d,requestDic); NSLog(@\u201cresponeDic=%@\u201d,responeDic); NSLog(@\u201cmessage=%@\u201d,message); }]; Swift PayFort.callPayFort(withRequest: request, currentViewController: self, success: { (requestDic, responeDic) in print(\u201csuccess\u201d) print(\u201cresponeDic=(responeDic)\u201d) print(\u201cresponeDic=(responeDic)\u201d) }, canceled: { (requestDic, responeDic) in print(\u201ccanceled\u201d) print(\u201crequestDic=(requestDic)\u201d) print(\u201cresponeDic=(responeDic)\u201d) }, faild: { (requestDic, responeDic, message) in print(\u201cfaild\u201d) print(\u201crequestDic=(requestDic)\u201d) print(\u201cresponeDic=(responeDic)\u201d) print(\u201cmessage=(message)\u201d) }) Also there is an option to show response view directly in elegant view that show response results either its success or failed. By activating the following option: Objective C PayFort.IsShowResponsePage = YES; Swift PayFort.IsShowResponsePage = true; Hidden PayFort loading There is an option to hide loading view when SDK initialize the connection request. By disable the following option: Objective C PayFort.HideLoading = YES; Swift PayFort.HideLoading = true; Custom Payment Designing You have the option to provide your custom UI theme for the payment view by the followings: Create your nibFile .xib and set the name of Arabic xib same name with English one with suffix -ar. Link the xib with PayFortView and bind all the IBOutlets in interface section IBOutlet UILabel *titleLbl; IBOutlet UIButton *BackBtn; IBOutlet UILabel *PriceLbl; IBOutlet JVFloatLabeledTextField *CardNameTxt; IBOutlet JVFloatLabeledTextField *CardNumberTxt; IBOutlet JVFloatLabeledTextField *CVCNumberTxt; IBOutlet JVFloatLabeledTextField *ExpDateTxt; IBOutlet UILabel *cardNumberErrorlbl; IBOutlet UILabel *cVCNumberErrorlbl; IBOutlet UILabel *expDateErrorlbl; IBOutlet UISwitch *savedCardSwitch; IBOutlet UIButton *paymentBtn; IBOutlet UILabel *saveCardLbl; IBOutlet UIImageView *imageCard; Assign new created xib file to PayFort Controller. [payFort setPayFortCustomViewNib:@\u201cPayFortView2\u201d]; If you call Arabic view and the Arabic view not existed the application will crash. Don\u2019t forget to set the custom view field in the identity inspector. Go to Full API Check out our full API by visiting this link Need further help? Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Integrate iOS SDK"},{"location":"iossdk/#integrate-ios-sdk","text":"The PayFort iOS SDK makes it faster and easy to build a perfect payment experience in your iOS app. PayFort offers powerful and customizable UI screens and elements that can be used out-of-the-box to collect your users\u2019 payment details. We also expose the low-level APIs that power those UIs so that you can build fully custom experiences.","title":"Integrate iOS SDK"},{"location":"iossdk/#about-the-software","text":"","title":"About the Software"},{"location":"iossdk/#supported-platforms","text":"PayFort iOS SDK is supported on all the apple devices running iOS 8 and above.","title":"Supported Platforms"},{"location":"iossdk/#localization","text":"The FORT Mobile SDK supports both English and Arabic languages.","title":"Localization"},{"location":"iossdk/#screen-orientation","text":"Portrait is the only orientation supported within the FORT Mobile SDK.","title":"Screen Orientation"},{"location":"iossdk/#supported-payment-methods","text":"Through the first version of the FORT Mobile SDK, the Merchant has the ability to process a CREDIT CARD transactions only.","title":"Supported Payment Methods"},{"location":"iossdk/#supported-payment-options","text":"The supported credit card payment options are VISA , MASTERCARD , American Express (AMEX) , MADA and MEEZA .","title":"Supported Payment Options"},{"location":"iossdk/#mobilesdk-integration-workflow","text":"image source : medium.com","title":"MobileSDK integration workflow"},{"location":"iossdk/#include-the-sdk-to-your-xcode-project","text":"Download the sdk from this link and extract it. Drag the PayFortSDK.framework & PayFortSDK.bundle to Frameworks in Project Navigator. Create a new group Frameworks if it does not exist: Choose Create groups for any added folders. Make Sure to select Copy files if needed. Set -ObjC in the Other Linker Flags in the Target \u2192 Build Settings Tab. For Swift Projects add the following code In your Bridge-Header.h: #import <PayFortSDK/PayFortSDK.h> Ensure the option 'Link With Standard Libraries' is set to Yes or just drag the PayFortSDK to Embedded Binaries in the general tab in the project settings. In Xcode, click your project\u2019s .plist file and select Open As \u2192 Source Code. Insert the following XML snippet into the body of your file just before the final: </dict>element <key>NSAppTransportSecurity</key> <dict> <key>NSAllowsArbitraryLoads</key><true/> </dict> To ensure that the application is not disconnected go to background make sure to add this code: Objective C (void)applicationDidEnterBackground:(UIApplication *)application { __block UIBackgroundTaskIdentifier backgroundTask; backgroundTask = [application beginBackgroundTaskWithExpirationHandler: ^ { [application endBackgroundTask:backgroundTask]; backgroundTask = UIBackgroundTaskInvalid; }]; Swift func applicationDidEnterBackground(_ application: UIApplication) { var bgTask: UIBackgroundTaskIdentifier = 0 bgTask = application.beginBackgroundTask(expirationHandler: { application.endBackgroundTask(bgTask) bgTask = UIBackgroundTaskInvalid }) }","title":"Include the SDK to your Xcode Project"},{"location":"iossdk/#installation","text":"When you register for Payfort, you will receive separate keys for testing and production environment. Import the PayFort Library. #import <PayFortSDK/PayFortSDK.h> Initialize PayFortController with targeted environment, You set the target environment by setting one the two ENUM KPayFortEnviromentSandBox or KPayFortEnviromentProduction . Objective C PayFortController *payFort = [[PayFortControlleralloc]initWithEnviroment:KPayFortEnviromentSandBox]; Swift let payFort = PayFortController.init(enviroment: KPayFortEnviromentSandBox) Set Dictionary contain all keys and values for SDK. Objective C NSMutableDictionary *request = [[NSMutableDictionary alloc]init]; [request setValue:@\u201c10000\u201d forKey:@\u201camount\u201d]; [request setValue:@\u201cAUTHORIZATION\u201d forKey:@\u201ccommand\u201d]; [request setValue:@\u201cUSD\u201d forKey:@\u201ccurrency\u201d]; [request setValue:@ \u201cemail@domain.com\u201d forKey:@\u201ccustomer_email\u201d]; [request setValue:@\u201cen\u201d forKey:@\u201clanguage\u201d]; [request setValue:@\u201c112233682686\u201d forKey:@\u201cmerchant_reference\u201d]; [request setValue:`SDK TOKEN GOES HERE` forKey:@\u201csdk_token\u201d]; [request setValue:@\u201c\u201d forKey:@\u201cpayment_option\u201d]; [request setValue:@\u201cgr66zzwW9\u201d forKey:@\u201ctoken_name\"]; Swift let request = NSMutableDictionary.init() request.setValue(\u201c1000\u201d, forKey: \u201camount\u201d) request.setValue(\u201cAUTHORIZATION\u201d, forKey: \u201ccommand\u201d) request.setValue(\u201cUSD\u201d, forKey: \u201ccurrency\u201d) request.setValue(\u201cemail@domain.com\u201d, forKey: \u201ccustomer_email\u201d) request.setValue(\u201cen\u201d, forKey: \u201clanguage\u201d) request.setValue(\u201c112233682686\u201d, forKey: \u201cmerchant_reference\u201d) request.setValue(\u201ctoken\u201d , forKey: \u201csdk_token\u201d) Call PayFort and Response callback Objective C [payFort callPayFortWithRequest:request currentViewController:self Success:^(NSDictionary *requestDic, NSDictionary *responeDic) { NSLog(@\u201cSuccess\u201d); NSLog(@\u201cresponeDic=%@\u201d,responeDic); } Canceled:^(NSDictionary *requestDic, NSDictionary *responeDic) { NSLog(@\u201cCanceled\u201d); NSLog(@\u201cresponeDic=%@\u201d,responeDic); } Faild:^(NSDictionary *requestDic, NSDictionary *responeDic, NSString *message) { NSLog(@\u201cFaild\u201d); NSLog(@\u201cresponeDic=%@\u201d,responeDic); }]; Swift PayFort.callPayFort(withRequest: request, currentViewController: self, success: { (requestDic, responeDic) in print(\u201csuccess\u201d) }, canceled: { (requestDic, responeDic) in print(\u201ccanceled\u201d) }, faild: { (requestDic, responeDic, message) in print(\u201cfaild\u201d) })","title":"Installation"},{"location":"iossdk/#sdk-response","text":"By default the response will be dictionary to show the sent data in addition to the status, response message and response code. The response will be ready in the registered call back handler with success, failed and cancelled. You can view the response by log the result as the followings: Objective C [payFort callPayFortWithRequest:request currentViewController:self Success:^(NSDictionary *requestDic, NSDictionary *responeDic) { NSLog(@\u201cSuccess\u201d); NSLog(@\u201crequestDic=%@\u201d,requestDic); NSLog(@\u201cresponeDic=%@\u201d,responeDic); } Canceled:^(NSDictionary *requestDic, NSDictionary *responeDic) { NSLog(@\u201cCanceled\u201d); NSLog(@\u201crequestDic=%@\u201d,requestDic); NSLog(@\u201cresponeDic=%@\u201d,responeDic); } Faild:^(NSDictionary *requestDic, NSDictionary *responeDic, NSString *message) { NSLog(@\u201cFaild\u201d); NSLog(@\u201crequestDic=%@\u201d,requestDic); NSLog(@\u201cresponeDic=%@\u201d,responeDic); NSLog(@\u201cmessage=%@\u201d,message); }]; Swift PayFort.callPayFort(withRequest: request, currentViewController: self, success: { (requestDic, responeDic) in print(\u201csuccess\u201d) print(\u201cresponeDic=(responeDic)\u201d) print(\u201cresponeDic=(responeDic)\u201d) }, canceled: { (requestDic, responeDic) in print(\u201ccanceled\u201d) print(\u201crequestDic=(requestDic)\u201d) print(\u201cresponeDic=(responeDic)\u201d) }, faild: { (requestDic, responeDic, message) in print(\u201cfaild\u201d) print(\u201crequestDic=(requestDic)\u201d) print(\u201cresponeDic=(responeDic)\u201d) print(\u201cmessage=(message)\u201d) }) Also there is an option to show response view directly in elegant view that show response results either its success or failed. By activating the following option: Objective C PayFort.IsShowResponsePage = YES; Swift PayFort.IsShowResponsePage = true;","title":"SDK - Response"},{"location":"iossdk/#hidden-payfort-loading","text":"There is an option to hide loading view when SDK initialize the connection request. By disable the following option: Objective C PayFort.HideLoading = YES; Swift PayFort.HideLoading = true;","title":"Hidden PayFort loading"},{"location":"iossdk/#custom-payment-designing","text":"You have the option to provide your custom UI theme for the payment view by the followings: Create your nibFile .xib and set the name of Arabic xib same name with English one with suffix -ar. Link the xib with PayFortView and bind all the IBOutlets in interface section IBOutlet UILabel *titleLbl; IBOutlet UIButton *BackBtn; IBOutlet UILabel *PriceLbl; IBOutlet JVFloatLabeledTextField *CardNameTxt; IBOutlet JVFloatLabeledTextField *CardNumberTxt; IBOutlet JVFloatLabeledTextField *CVCNumberTxt; IBOutlet JVFloatLabeledTextField *ExpDateTxt; IBOutlet UILabel *cardNumberErrorlbl; IBOutlet UILabel *cVCNumberErrorlbl; IBOutlet UILabel *expDateErrorlbl; IBOutlet UISwitch *savedCardSwitch; IBOutlet UIButton *paymentBtn; IBOutlet UILabel *saveCardLbl; IBOutlet UIImageView *imageCard; Assign new created xib file to PayFort Controller. [payFort setPayFortCustomViewNib:@\u201cPayFortView2\u201d]; If you call Arabic view and the Arabic view not existed the application will crash. Don\u2019t forget to set the custom view field in the identity inspector.","title":"Custom Payment Designing"},{"location":"iossdk/#go-to-full-api","text":"Check out our full API by visiting this link","title":"Go to Full API"},{"location":"iossdk/#need-further-help","text":"Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Need further help?"},{"location":"lendservice/","text":"PayFort has partnered with ValU in Egypt to offer consumer financing services. Now your customer's can purchase on short-term financing and repay the amount over a specific installment plan at an interest rate offered by ValU. Its simple and secure financing platform. How it works? Customer verification Your site sends request to verify whether the customer is a ValU registered customer or not. The customer's phone number is verified against the ValU registered user database. Based on the customer's phone number ValU's system validates whether customer is registered on its platform or not. OTP Generation If your customer is already registered on the ValU' platform then on the checkout page the customer will provide the phone number. The ValU will generate OTP code and send it to the customer via SMS. Verify OTP Once the customer fills the OTP in the checkout page it is verified. Purchase Once OTP is verified the customer can proceed to purchase the selected items. Your site should be integrated with ValU consumer finance Your customer should be registered with ValU's platform in order to have this benefit of installments Endpoints Use the below Endpoints for testing your integration and going live. Sandbox POST https://sbpaymentservices.payfort.com/FortAPI/paymentApi Live POST https://paymentservices.payfort.com/FortAPI/paymentApi Parameter Submission Type For All Request Submission REST POST request using JSON is sent for OTP generation request submission. Customer Verification The very first step in the ValU integration is the customer verification. Customer Verification Request Sample Here is the sample JSON based customer verification request that you need to send to PayFort { \"service_command\":\"CUSTOMER_VERIFY\", \"merchant_reference\":\"XYZ9239-yu898\", \"merchant_identifier\":\"CycHZxVj\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"language\":\"en\", \"payment_option\":\"VALU\", \"phone_number\":\"00008557694\", \"signature\":\"54efbd76bd644e9ef237c39137bf5d2304dc1bfdf6f6302065b448f2456a07a7\" } Customer Verification Response Sample Here is the sample of JSON based customer verification response that you will receive from PayFort { \"response_code\":\"90000\", \"response_message\":\"Success\", \"service_command\":\"CUSTOMER_VERIFY\", \"signature\":\"27c1303138f8718e56f311d1b3d823b5a644e6bcd4fac43d5454955b13b5b337\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ2939-yu898\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"payment_option\":\"VALU\", \"language\":\"en\", \"phone_number\":\"00008557694\", \"status\":\"90\" } OTP Generation For the customer already registered on the ValU platform, they need to provide their phone number on your site's check out page. After phone number is added, OTP would be generated by the ValU platform and the same would be provided to your customer through SMS. Use the Endpoints provided on this page to test your OTP generation process and also to go live. OTP Generation Request Sample Here is the sample JSON based OTP generation request sample. Request sent to PayFort must also include the product parameters as shown here. { \"merchant_reference\":\"XYZ9239-yu898\", \"merchant_identifier\":\"CycHZxVj\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"signature\":\"fb1a8978eff0df5700007f3a0ca7964f61eb4b3c17de0a43029851b84687699d\", \"service_command\":\"OTP_GENERATE\", \"language\":\"en\", \"payment_option\":\"VALU\", \"phone_number\":\"00008557694\", \"merchant_order_id\":\"Valu123\", \"amount\":\"10000\", \"currency\":\"EGP\", \"products\":[ { \"product_name\":\"iphone\", \"product_price\":\"10000\", \"product_category\":\"phone\" } ] } OTP Generation Response Sample Here is the sample JSON based OTP generation response sample { \"transaction_id\":\"240719641384\", \"amount\":\"10000\", \"currency\":\"EGP\", \"response_code\":\"88000\", \"merchant_order_id\":\"Valu123\", \"signature\":\"2304c9a011630db5286712903e7877a53aa96aa7cfe2151fd7c6cc350ec38c12\", \"merchant_identifier\":\"CycHZxVj\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"payment_option\":\"VALU\", \"language\":\"en\", \"response_message\":\"Success\", \"service_command\":\"OTP_GENERATE\", \"merchant_reference\":\"XYZ2939-yu898\", \"total_down_payment\":\"1200\", \"phone_number\":\"00008557694\", \"otp_status\":\"1\", \"tenure\":\"6-9-12-15-18\", \"status\":\"88\" } OTP Verification Once the customer receives OTP through SMS, they will provide the same on your site's checkout page. This OTP is then verified against the ValU server Use the Endpoints provided on this page to test your OTP verification process and also to go live. OTP Verification Request Sample Inorder to send OTP verification request you can refer to the sample as shown below { \"signature\":\"d5c9c93166c34efbf72c71c9f780ce7bc336f68f9d35d63dba014175fd44af58\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239-yu898\", \"merchant_order_id\":\"Valu123\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"language\":\"en\", \"amount\":\"1000\", \"currency\":\"EGP\", \"payment_option\":\"VALU\", \"service_command\":\"OTP_VERIFY\", \"total_downpayment\":1200, \"otp\":\"123456\", \"phone_number\":\"00008557694\" } OTP Verification Response Sample The sample response sent by PayFort will also contain tenure of the EMI. Here is the tenure sample Tenure Sample \"tenure\":{ \"TENURE_VM\":[ { \"EMI\":\"2118\", \"TENURE\":\"3\", \"InterestRate\":\"1.76\" }, { \"EMI\":\"1105\", \"TENURE\":\"6\", \"InterestRate\":\"1.76\" }, { \"EMI\":\"768\", \"TENURE\":\"9\", \"InterestRate\":\"1.76\" }, { \"EMI\":\"600\", \"TENURE\":\"12\", \"InterestRate\":\"1.76\" }, { \"EMI\":\"500\", \"TENURE\":\"15\", \"InterestRate\":\"1.76\" }, ] }, Here is the sample JSON response sent from PayFORT server. { \"amount\":\"10000\", \"currency\":\"EGP\", \"response_code\":\"92182\", \"merchant_order_id\":\"Valu123\", \"signature\":\"4bfc2476c6e42b6c1fc9539dbf5092bbc8a2493820816800f98f110c4453b5cd\", \"merchant_identifier\":\"CycHZxVj\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"payment_option\":\"VALU\", \"language\":\"en\", \"total_downpayment\":\"0\", \"service_command\":\"OTP_VERIFY\", \"response_message\":\"OTP verification success\", \"merchant_reference\":\"XYZ2939-yu898\", \"phone_number\":\"00008557694\", \"otp_status\":\"1\", \"tenure\":{ \"TENURE_VM\":[ { \"EMI\":\"2118\", \"TENURE\":\"3\", \"InterestRate\":\"1.76\" }, { \"EMI\":\"1105\", \"TENURE\":\"6\", \"InterestRate\":\"1.76\" }, { \"EMI\":\"768\", \"TENURE\":\"9\", \"InterestRate\":\"1.76\" }, { \"EMI\":\"600\", \"TENURE\":\"12\", \"InterestRate\":\"1.76\" }, { \"EMI\":\"500\", \"TENURE\":\"15\", \"InterestRate\":\"1.76\" }, ] }, \"status\":\"92\" } Purchase Once the OTP has been verified the customer can purchase the selected product. Your site will forward the purchase request to PayFort. Use the Endpoints provided on this page to test your Purchase process and also to go live. Purchase Request Sample Here is the JSON sample of purchase request sent to PayFort. { \"merchant_reference\":\"XYZ9239-yu898\", \"merchant_identifier\":\"CycHZxVj\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"signature\":\"b574e362cc08d7504d8277e71400132f06064ee1537cd570717569b583dec0b5\", \"command\":\"PURCHASE\", \"language\":\"en\", \"payment_option\":\"VALU\", \"phone_number\":\"00008557694\", \"amount\":\"10000\", \"currency\":\"EGP\", \"customer_email\":\"customer@domain.com\", \"customer_code\":\"12348557694\", \"merchant_order_id\":\"Valu123\", \"transaction_id\":\"050819724899\", \"otp\":\"123456\", \"tenure\":\"6\", \"total_down_payment\":\"1200\", \"purchase_description\":\"Test\" } Purchase Response Sample Here is the response sample sent from PayFort { \"amount\":\"10000\", \"response_code\":\"14000\", \"signature\":\"afac5bd50250743cbd87ce208b1aabcae1080b9060bdb7212cf2c36e201cd6d0\", \"merchant_identifier\":\"CycHZxVj\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"payment_option\":\"VALU\", \"customer_ip\":\"192.178.1.10\", \"language\":\"en\", \"eci\":\"ECOMMERCE\", \"fort_id\":\"149295435400084008\", \"command\":\"PURCHASE\", \"response_message\":\"Success\", \"merchant_reference\":\"XYZ2939-yu898\", \"customer_email\":\"customer@domain.com\", \"currency\":\"EGP\", \"phone_number\":\"00008557694\", \"status\":\"14\" } Signature SHA algorithm generates a digital signature which is used to authenticate the sender and receiver of the message. It allows the receiver to verify the Integrity of the message. In this case your site acts as sender while PayFort server acts as a receiver thus by passing the signature parameter it is ensured that high level of security is in place when the message is sent and received. It also ensures that all the messages sent are encrypted using the signature. Below table describes the signature details Signature Description Name Values Description SHA Type * SHA-256 * SHA-512 The Secure Hash Algorithm is a family of cryptographic hash functions published by the National Institute of Standards and Technology (NIST) as a U.S. Federal Information Processing Standard (FIPS), including: SHA-0, SHA-1, SHA-2, SHA-3. SHA Request Phrase Dynamic value defined by the Merchant This value is used when the Merchant generates the request signature. SHA Response Phrase Dynamic value defined by the Merchant This value is used by our system to generate the response signature for the Merchant's Request. Signature Pattern The below steps describe the signature pattern: Sort all PayFort requests parameters (both mandatory and optional) in an ascending alphabetical order based on the parameters names. Concatenate the parameter name with the value separated by '=' (param_name=param_value). Concatenate all the parameters directly without any separator. (param_name1=param_value1param_name2=param_value2). Add the Merchant's Passphrase at the beginning and end of the parameters string. (REQUESTPHRASEparam_name1=param_value1param_name2=param_value2REQUESTP HRASE). Use the SHA function to generate the SHA value of the resulted string depending on the type of SHA selected by the Merchant. The following is an example for the Customer Verification - Request signature calculations : Assume you have the below parameters included in the request of customer verification: service_command = CUSTOMER_VERIFY merchant_identifier = CycHZxVj merchant_reference = XYZ9239-yu898 access_code = zx0IPmPy5jp1vAz8Kpg7 language = en payment_option = VALU phone_number = 00008557694 Below are the Merchant signature settings from the back-office: SHA Request Phrase: PASS SHA-Type: SHA-256 The string to hash should be prepared for the above request is the following \u201cstep 4 of the Signature Pattern\u201d: PASSaccess_code=zx0IPmPy5jp1vAz8Kpg7language=enmerchant_identifier=CycHZxVjmerchant_reference=X YZ9239- yu898payment_option=VALUphone_number=00008557694service_command=CUSTOMER_VERIFYPASS After applying step 5 of the Signature pattern, the result will be as follows: Signature = f0c49b9dae92b3da04d82689f698189ac65f62596280cd253cb24130ce5a1ed6 The following is an example for the OTP Generation \u2013 Request signature calculations: Assume you have the below parameters included in the request of generate OTP: service_command = OTP_GENERATE access_code = zx0IPmPy5jp1vAz8Kpg7 merchant_identifier = CycHZxVj merchant_reference = XYZ9239-yu898 payment_option = VALU phone_number = 00008557694 merchant_order_id = Valu123 amount = 10000 currency = EGP products = [ { \"product_name\":\"iphone\", \"product_price\":\"10000\", \"product_category\":\"phone\" } ] Below are the Merchant signature settings from the back-office: SHA Request Phrase: PASS SHA-Type: SHA-256 The string to hash should be prepared for the above request is the following \u201cstep 4 of the Signature Pattern\u201d: To calculate the products parameter in the signature: products = [ {\"product_name\":\"iphone\", \"product_price\":\"10000\", \"product_category\":\"phone\" } ] It should look like as shown below: products=[{product_name=iphone, product_price=10000, product_category=phone}] PASSaccess_code=zx0IPmPy5jp1vAz8Kpg7amount=10000currency=EGPlanguage=enmerchant_identifier=Cy cHZxVjmerchant_order_id=Valu123merchant_reference=XYZ9239- yu898payment_option=VALUphone_number=00008557694products=[{product_name=iphone, product_price=10000, product_category=phone}]service_command=OTP_GENERATEPASS After applying step 5 of the Signature pattern, the result will be as follows: Signature = c9a58adbe7fa5311b79a6362f28aa3e02c10cde5a37f10456e1caa6bd06a6951 Transaction\u2019s Response Codes Please visit the link to check the transaction codes and messages related to ValU service. Go to Full API Check out our full API by visiting this link Need further help? Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Lend"},{"location":"lendservice/#how-it-works","text":"Customer verification Your site sends request to verify whether the customer is a ValU registered customer or not. The customer's phone number is verified against the ValU registered user database. Based on the customer's phone number ValU's system validates whether customer is registered on its platform or not. OTP Generation If your customer is already registered on the ValU' platform then on the checkout page the customer will provide the phone number. The ValU will generate OTP code and send it to the customer via SMS. Verify OTP Once the customer fills the OTP in the checkout page it is verified. Purchase Once OTP is verified the customer can proceed to purchase the selected items. Your site should be integrated with ValU consumer finance Your customer should be registered with ValU's platform in order to have this benefit of installments","title":"How it works?"},{"location":"lendservice/#endpoints","text":"Use the below Endpoints for testing your integration and going live. Sandbox POST https://sbpaymentservices.payfort.com/FortAPI/paymentApi Live POST https://paymentservices.payfort.com/FortAPI/paymentApi Parameter Submission Type For All Request Submission REST POST request using JSON is sent for OTP generation request submission.","title":"Endpoints"},{"location":"lendservice/#customer-verification","text":"The very first step in the ValU integration is the customer verification. Customer Verification Request Sample Here is the sample JSON based customer verification request that you need to send to PayFort { \"service_command\":\"CUSTOMER_VERIFY\", \"merchant_reference\":\"XYZ9239-yu898\", \"merchant_identifier\":\"CycHZxVj\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"language\":\"en\", \"payment_option\":\"VALU\", \"phone_number\":\"00008557694\", \"signature\":\"54efbd76bd644e9ef237c39137bf5d2304dc1bfdf6f6302065b448f2456a07a7\" } Customer Verification Response Sample Here is the sample of JSON based customer verification response that you will receive from PayFort { \"response_code\":\"90000\", \"response_message\":\"Success\", \"service_command\":\"CUSTOMER_VERIFY\", \"signature\":\"27c1303138f8718e56f311d1b3d823b5a644e6bcd4fac43d5454955b13b5b337\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ2939-yu898\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"payment_option\":\"VALU\", \"language\":\"en\", \"phone_number\":\"00008557694\", \"status\":\"90\" }","title":"Customer Verification"},{"location":"lendservice/#otp-generation","text":"For the customer already registered on the ValU platform, they need to provide their phone number on your site's check out page. After phone number is added, OTP would be generated by the ValU platform and the same would be provided to your customer through SMS. Use the Endpoints provided on this page to test your OTP generation process and also to go live. OTP Generation Request Sample Here is the sample JSON based OTP generation request sample. Request sent to PayFort must also include the product parameters as shown here. { \"merchant_reference\":\"XYZ9239-yu898\", \"merchant_identifier\":\"CycHZxVj\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"signature\":\"fb1a8978eff0df5700007f3a0ca7964f61eb4b3c17de0a43029851b84687699d\", \"service_command\":\"OTP_GENERATE\", \"language\":\"en\", \"payment_option\":\"VALU\", \"phone_number\":\"00008557694\", \"merchant_order_id\":\"Valu123\", \"amount\":\"10000\", \"currency\":\"EGP\", \"products\":[ { \"product_name\":\"iphone\", \"product_price\":\"10000\", \"product_category\":\"phone\" } ] } OTP Generation Response Sample Here is the sample JSON based OTP generation response sample { \"transaction_id\":\"240719641384\", \"amount\":\"10000\", \"currency\":\"EGP\", \"response_code\":\"88000\", \"merchant_order_id\":\"Valu123\", \"signature\":\"2304c9a011630db5286712903e7877a53aa96aa7cfe2151fd7c6cc350ec38c12\", \"merchant_identifier\":\"CycHZxVj\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"payment_option\":\"VALU\", \"language\":\"en\", \"response_message\":\"Success\", \"service_command\":\"OTP_GENERATE\", \"merchant_reference\":\"XYZ2939-yu898\", \"total_down_payment\":\"1200\", \"phone_number\":\"00008557694\", \"otp_status\":\"1\", \"tenure\":\"6-9-12-15-18\", \"status\":\"88\" }","title":"OTP Generation"},{"location":"lendservice/#otp-verification","text":"Once the customer receives OTP through SMS, they will provide the same on your site's checkout page. This OTP is then verified against the ValU server Use the Endpoints provided on this page to test your OTP verification process and also to go live. OTP Verification Request Sample Inorder to send OTP verification request you can refer to the sample as shown below { \"signature\":\"d5c9c93166c34efbf72c71c9f780ce7bc336f68f9d35d63dba014175fd44af58\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239-yu898\", \"merchant_order_id\":\"Valu123\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"language\":\"en\", \"amount\":\"1000\", \"currency\":\"EGP\", \"payment_option\":\"VALU\", \"service_command\":\"OTP_VERIFY\", \"total_downpayment\":1200, \"otp\":\"123456\", \"phone_number\":\"00008557694\" } OTP Verification Response Sample The sample response sent by PayFort will also contain tenure of the EMI. Here is the tenure sample Tenure Sample \"tenure\":{ \"TENURE_VM\":[ { \"EMI\":\"2118\", \"TENURE\":\"3\", \"InterestRate\":\"1.76\" }, { \"EMI\":\"1105\", \"TENURE\":\"6\", \"InterestRate\":\"1.76\" }, { \"EMI\":\"768\", \"TENURE\":\"9\", \"InterestRate\":\"1.76\" }, { \"EMI\":\"600\", \"TENURE\":\"12\", \"InterestRate\":\"1.76\" }, { \"EMI\":\"500\", \"TENURE\":\"15\", \"InterestRate\":\"1.76\" }, ] }, Here is the sample JSON response sent from PayFORT server. { \"amount\":\"10000\", \"currency\":\"EGP\", \"response_code\":\"92182\", \"merchant_order_id\":\"Valu123\", \"signature\":\"4bfc2476c6e42b6c1fc9539dbf5092bbc8a2493820816800f98f110c4453b5cd\", \"merchant_identifier\":\"CycHZxVj\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"payment_option\":\"VALU\", \"language\":\"en\", \"total_downpayment\":\"0\", \"service_command\":\"OTP_VERIFY\", \"response_message\":\"OTP verification success\", \"merchant_reference\":\"XYZ2939-yu898\", \"phone_number\":\"00008557694\", \"otp_status\":\"1\", \"tenure\":{ \"TENURE_VM\":[ { \"EMI\":\"2118\", \"TENURE\":\"3\", \"InterestRate\":\"1.76\" }, { \"EMI\":\"1105\", \"TENURE\":\"6\", \"InterestRate\":\"1.76\" }, { \"EMI\":\"768\", \"TENURE\":\"9\", \"InterestRate\":\"1.76\" }, { \"EMI\":\"600\", \"TENURE\":\"12\", \"InterestRate\":\"1.76\" }, { \"EMI\":\"500\", \"TENURE\":\"15\", \"InterestRate\":\"1.76\" }, ] }, \"status\":\"92\" }","title":"OTP Verification"},{"location":"lendservice/#purchase","text":"Once the OTP has been verified the customer can purchase the selected product. Your site will forward the purchase request to PayFort. Use the Endpoints provided on this page to test your Purchase process and also to go live. Purchase Request Sample Here is the JSON sample of purchase request sent to PayFort. { \"merchant_reference\":\"XYZ9239-yu898\", \"merchant_identifier\":\"CycHZxVj\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"signature\":\"b574e362cc08d7504d8277e71400132f06064ee1537cd570717569b583dec0b5\", \"command\":\"PURCHASE\", \"language\":\"en\", \"payment_option\":\"VALU\", \"phone_number\":\"00008557694\", \"amount\":\"10000\", \"currency\":\"EGP\", \"customer_email\":\"customer@domain.com\", \"customer_code\":\"12348557694\", \"merchant_order_id\":\"Valu123\", \"transaction_id\":\"050819724899\", \"otp\":\"123456\", \"tenure\":\"6\", \"total_down_payment\":\"1200\", \"purchase_description\":\"Test\" } Purchase Response Sample Here is the response sample sent from PayFort { \"amount\":\"10000\", \"response_code\":\"14000\", \"signature\":\"afac5bd50250743cbd87ce208b1aabcae1080b9060bdb7212cf2c36e201cd6d0\", \"merchant_identifier\":\"CycHZxVj\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"payment_option\":\"VALU\", \"customer_ip\":\"192.178.1.10\", \"language\":\"en\", \"eci\":\"ECOMMERCE\", \"fort_id\":\"149295435400084008\", \"command\":\"PURCHASE\", \"response_message\":\"Success\", \"merchant_reference\":\"XYZ2939-yu898\", \"customer_email\":\"customer@domain.com\", \"currency\":\"EGP\", \"phone_number\":\"00008557694\", \"status\":\"14\" }","title":"Purchase"},{"location":"lendservice/#signature","text":"SHA algorithm generates a digital signature which is used to authenticate the sender and receiver of the message. It allows the receiver to verify the Integrity of the message. In this case your site acts as sender while PayFort server acts as a receiver thus by passing the signature parameter it is ensured that high level of security is in place when the message is sent and received. It also ensures that all the messages sent are encrypted using the signature. Below table describes the signature details Signature Description Name Values Description SHA Type * SHA-256 * SHA-512 The Secure Hash Algorithm is a family of cryptographic hash functions published by the National Institute of Standards and Technology (NIST) as a U.S. Federal Information Processing Standard (FIPS), including: SHA-0, SHA-1, SHA-2, SHA-3. SHA Request Phrase Dynamic value defined by the Merchant This value is used when the Merchant generates the request signature. SHA Response Phrase Dynamic value defined by the Merchant This value is used by our system to generate the response signature for the Merchant's Request. Signature Pattern The below steps describe the signature pattern: Sort all PayFort requests parameters (both mandatory and optional) in an ascending alphabetical order based on the parameters names. Concatenate the parameter name with the value separated by '=' (param_name=param_value). Concatenate all the parameters directly without any separator. (param_name1=param_value1param_name2=param_value2). Add the Merchant's Passphrase at the beginning and end of the parameters string. (REQUESTPHRASEparam_name1=param_value1param_name2=param_value2REQUESTP HRASE). Use the SHA function to generate the SHA value of the resulted string depending on the type of SHA selected by the Merchant. The following is an example for the Customer Verification - Request signature calculations : Assume you have the below parameters included in the request of customer verification: service_command = CUSTOMER_VERIFY merchant_identifier = CycHZxVj merchant_reference = XYZ9239-yu898 access_code = zx0IPmPy5jp1vAz8Kpg7 language = en payment_option = VALU phone_number = 00008557694 Below are the Merchant signature settings from the back-office: SHA Request Phrase: PASS SHA-Type: SHA-256 The string to hash should be prepared for the above request is the following \u201cstep 4 of the Signature Pattern\u201d: PASSaccess_code=zx0IPmPy5jp1vAz8Kpg7language=enmerchant_identifier=CycHZxVjmerchant_reference=X YZ9239- yu898payment_option=VALUphone_number=00008557694service_command=CUSTOMER_VERIFYPASS After applying step 5 of the Signature pattern, the result will be as follows: Signature = f0c49b9dae92b3da04d82689f698189ac65f62596280cd253cb24130ce5a1ed6 The following is an example for the OTP Generation \u2013 Request signature calculations: Assume you have the below parameters included in the request of generate OTP: service_command = OTP_GENERATE access_code = zx0IPmPy5jp1vAz8Kpg7 merchant_identifier = CycHZxVj merchant_reference = XYZ9239-yu898 payment_option = VALU phone_number = 00008557694 merchant_order_id = Valu123 amount = 10000 currency = EGP products = [ { \"product_name\":\"iphone\", \"product_price\":\"10000\", \"product_category\":\"phone\" } ] Below are the Merchant signature settings from the back-office: SHA Request Phrase: PASS SHA-Type: SHA-256 The string to hash should be prepared for the above request is the following \u201cstep 4 of the Signature Pattern\u201d: To calculate the products parameter in the signature: products = [ {\"product_name\":\"iphone\", \"product_price\":\"10000\", \"product_category\":\"phone\" } ] It should look like as shown below: products=[{product_name=iphone, product_price=10000, product_category=phone}] PASSaccess_code=zx0IPmPy5jp1vAz8Kpg7amount=10000currency=EGPlanguage=enmerchant_identifier=Cy cHZxVjmerchant_order_id=Valu123merchant_reference=XYZ9239- yu898payment_option=VALUphone_number=00008557694products=[{product_name=iphone, product_price=10000, product_category=phone}]service_command=OTP_GENERATEPASS After applying step 5 of the Signature pattern, the result will be as follows: Signature = c9a58adbe7fa5311b79a6362f28aa3e02c10cde5a37f10456e1caa6bd06a6951 Transaction\u2019s Response Codes Please visit the link to check the transaction codes and messages related to ValU service.","title":"Signature"},{"location":"lendservice/#go-to-full-api","text":"Check out our full API by visiting this link","title":"Go to Full API"},{"location":"lendservice/#need-further-help","text":"Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Need further help?"},{"location":"mobilesdk/","text":"Mobile SDKs The PayFORT Mobile SDK allows you to securely integrate the payment functions. It also allows you to easily accept In-App payments. Instead of the traditional, time-consuming, and complex way of being redirected to the mobile browser to complete the payment, In-App payments can be completed through our FORT Mobile SDK . In turn, this gives the your customers a smooth, pleasing user-experience by using In-App payment functions through the native applications. Features of PayFort SDKs Native in-app payment. Fully secure. Fully customized. Mobile SDK Integration Workflow When your customer initiates the payment on your site, your site requests Payfort server for a new token every time, then process the customer's payment. When PayFort server sends a successful response your site your backend is notified of successful payment and your backend server confirms the same with Payfort server. Here is the description of mobile sdk integration workflow: The Merchant\u2019s application initiates the FORT Mobile SDK and passes the parameters to the FORT Mobile SDK. The FORT Mobile SDK starts a secure connection and passes the received parameters to the FORT API to be validated. The FORT API returns the validation response. The FORT Mobile SDK submits the cardholder\u2019s data to the FORT API to process the order. The FORT API validates and processes the order with the third parties. The FORT API returns the FORT response. The FORT Mobile SDK returns the response to the corresponding callback method. For more details on PayFORT Android SDK Integration visit this link For more details on PayFORT iOS SDK Integration visit this link Mobile SDK Libraries iOS The FORT Mobile SDK supports all devices running iOS 8+ Get Started SDK 2.1 for iOS Android The FORT Mobile SDK supports all devices running Android 4.1.x (API level 16). Get Started SDK 1.5 for Android A Mobile SDK Token is required to authenticate every request sent to the SDK. The Token is also significant to process payment operations in the FORT through our FORT Mobile SDK. A unique Token should be created for each transaction. Each Token has a life-time of only one hour if no new request from the same device is sent. The creation and initiation of a Mobile SDK Token happens on the Merchant\u2019s server side. SDK Token Endpoints Sandbox POST https://sbpaymentservices.payfort.com/FortAPI/paymentApi Live POST https://paymentservices.payfort.com/FortAPI/paymentApi Every parameter the Merchant sends in the Request should be received by the Merchant in the Response -even the optional ones. Go to Full API Check out our full API by visiting this link Check out iOS integrations by visiting this link Check out Android integrations by visiting this link Need further help? Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Mobile SDK Library"},{"location":"mobilesdk/#mobile-sdks","text":"The PayFORT Mobile SDK allows you to securely integrate the payment functions. It also allows you to easily accept In-App payments. Instead of the traditional, time-consuming, and complex way of being redirected to the mobile browser to complete the payment, In-App payments can be completed through our FORT Mobile SDK . In turn, this gives the your customers a smooth, pleasing user-experience by using In-App payment functions through the native applications.","title":"Mobile SDKs"},{"location":"mobilesdk/#features-of-payfort-sdks","text":"Native in-app payment. Fully secure. Fully customized.","title":"Features of PayFort SDKs"},{"location":"mobilesdk/#mobile-sdk-integration-workflow","text":"When your customer initiates the payment on your site, your site requests Payfort server for a new token every time, then process the customer's payment. When PayFort server sends a successful response your site your backend is notified of successful payment and your backend server confirms the same with Payfort server. Here is the description of mobile sdk integration workflow: The Merchant\u2019s application initiates the FORT Mobile SDK and passes the parameters to the FORT Mobile SDK. The FORT Mobile SDK starts a secure connection and passes the received parameters to the FORT API to be validated. The FORT API returns the validation response. The FORT Mobile SDK submits the cardholder\u2019s data to the FORT API to process the order. The FORT API validates and processes the order with the third parties. The FORT API returns the FORT response. The FORT Mobile SDK returns the response to the corresponding callback method. For more details on PayFORT Android SDK Integration visit this link For more details on PayFORT iOS SDK Integration visit this link","title":"Mobile SDK Integration Workflow"},{"location":"mobilesdk/#mobile-sdk-libraries","text":"","title":"Mobile SDK Libraries"},{"location":"mobilesdk/#sdk-token-endpoints","text":"","title":"SDK Token Endpoints"},{"location":"mobilesdk/#sandbox","text":"POST https://sbpaymentservices.payfort.com/FortAPI/paymentApi","title":"Sandbox"},{"location":"mobilesdk/#live","text":"POST https://paymentservices.payfort.com/FortAPI/paymentApi Every parameter the Merchant sends in the Request should be received by the Merchant in the Response -even the optional ones.","title":"Live"},{"location":"mobilesdk/#go-to-full-api","text":"Check out our full API by visiting this link Check out iOS integrations by visiting this link Check out Android integrations by visiting this link","title":"Go to Full API"},{"location":"mobilesdk/#need-further-help","text":"Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Need further help?"},{"location":"monitor/","text":"","title":"Monitor"},{"location":"moto/","text":"MOTO Channel MOTO (Mobile Order/ Telephone Order) channel allows the Merchant to process MOTO transactions through the FORT API using credit card Tokens ONLY. Endpoints Sandbox POST https://sbpaymentservices.PayFort.com/FortAPI/paymentApi Live POST https://paymentservices.PayFort.com/FortAPI/paymentApi Parameters Submission Type REST POST request using JSON. The Request The sample JSON Request {\"command\":\"PURCHASE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"amount\": \"10000\", \"currency\": \"AED\", \"language\":\"en\", \"customer_email\":\"customer@domain.com\", \"eci\":\"MOTO\", \"token_name\":\"Op9Vmp\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"payment_option\":\"MASTERCARD\", \"order_description\":\"iPhone6-S\", \"customer_ip\":\"192.178.1.10\", \"customer_name\":\"John Smith\", \"phone_number\":\"00962797219966\", \"settlement_reference\":\"XYZ9239-yu898\", \"merchant_extra\":\"JohnSmith\", \"merchant_extra1\":\"JohnSmith\", \"merchant_extra2\":\"JohnSmith\", \"merchant_extra3\":\"JohnSmith\", \"merchant_extra4\":\"JohnSmith\", \"merchant_extra5\":\"JohnSmith\", \"return_url\":\"http://www.merchant.com\" } Before sending the amount value of any transaction, you have to multiply the value with the currency decimal code according to ISO code 3. For example: If the amount value was 500 AED; according to ISO code 3, you should multiply the value with 100 (2 decimal points); so it will be sent in the request as 50000. Another example: If the amount value was 100 JOD; according to ISO code 3, you should multiply the value with 1000 (3 decimal points); so it will be sent in the request as 100000. The Response Here is the response example {\"command\":\"PURCHASE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"amount\":\"10000\", \"currency\":\"AED\", \"language\":\"en\", \"customer_email\":\"customer@domain.com\", \"eci\":\"MOTO\", \"token_name\":\"Op9Vmp\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"order_description\":\"iPhone6-S\", \"fort_id\":\"149295435400084008\", \"payment_option\":\"MASTERCARD\", \"customer_ip\":\"192.178.1.10\", \"customer_name\":\"John Smith\", \"authorization_code\":\"P1000000000000372136\", \"response_message\":\"Success\", \"response_code\":\"20064\", \"status\":\"04\", \"expiry_date\":\"2105\", \"card_number\":\"400555******0001\", \"phone_number\":\"00962797219966\", \"settlement_reference\":\"XYZ9239-yu898\", \"merchant_extra\":\"JohnSmith\", \"merchant_extra1\":\"JohnSmith\", \"merchant_extra2\":\"JohnSmith\", \"merchant_extra3\":\"JohnSmith\", \"merchant_extra4\":\"JohnSmith\", \"merchant_extra5\":\"JohnSmith\", \"return_url\":\"http://www.merchant.com\" } Every parameter the Merchant sends in the Request should be received by the Merchant in the Response -even the optional ones. Go to Full API Check out our full API by visiting this link Need further help? Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Moto"},{"location":"moto/#moto-channel","text":"MOTO (Mobile Order/ Telephone Order) channel allows the Merchant to process MOTO transactions through the FORT API using credit card Tokens ONLY.","title":"MOTO Channel"},{"location":"moto/#endpoints","text":"Sandbox POST https://sbpaymentservices.PayFort.com/FortAPI/paymentApi Live POST https://paymentservices.PayFort.com/FortAPI/paymentApi","title":"Endpoints"},{"location":"moto/#parameters-submission-type","text":"REST POST request using JSON.","title":"Parameters Submission Type"},{"location":"moto/#the-request","text":"The sample JSON Request {\"command\":\"PURCHASE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"amount\": \"10000\", \"currency\": \"AED\", \"language\":\"en\", \"customer_email\":\"customer@domain.com\", \"eci\":\"MOTO\", \"token_name\":\"Op9Vmp\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"payment_option\":\"MASTERCARD\", \"order_description\":\"iPhone6-S\", \"customer_ip\":\"192.178.1.10\", \"customer_name\":\"John Smith\", \"phone_number\":\"00962797219966\", \"settlement_reference\":\"XYZ9239-yu898\", \"merchant_extra\":\"JohnSmith\", \"merchant_extra1\":\"JohnSmith\", \"merchant_extra2\":\"JohnSmith\", \"merchant_extra3\":\"JohnSmith\", \"merchant_extra4\":\"JohnSmith\", \"merchant_extra5\":\"JohnSmith\", \"return_url\":\"http://www.merchant.com\" } Before sending the amount value of any transaction, you have to multiply the value with the currency decimal code according to ISO code 3. For example: If the amount value was 500 AED; according to ISO code 3, you should multiply the value with 100 (2 decimal points); so it will be sent in the request as 50000. Another example: If the amount value was 100 JOD; according to ISO code 3, you should multiply the value with 1000 (3 decimal points); so it will be sent in the request as 100000.","title":"The Request"},{"location":"moto/#the-response","text":"Here is the response example {\"command\":\"PURCHASE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"amount\":\"10000\", \"currency\":\"AED\", \"language\":\"en\", \"customer_email\":\"customer@domain.com\", \"eci\":\"MOTO\", \"token_name\":\"Op9Vmp\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"order_description\":\"iPhone6-S\", \"fort_id\":\"149295435400084008\", \"payment_option\":\"MASTERCARD\", \"customer_ip\":\"192.178.1.10\", \"customer_name\":\"John Smith\", \"authorization_code\":\"P1000000000000372136\", \"response_message\":\"Success\", \"response_code\":\"20064\", \"status\":\"04\", \"expiry_date\":\"2105\", \"card_number\":\"400555******0001\", \"phone_number\":\"00962797219966\", \"settlement_reference\":\"XYZ9239-yu898\", \"merchant_extra\":\"JohnSmith\", \"merchant_extra1\":\"JohnSmith\", \"merchant_extra2\":\"JohnSmith\", \"merchant_extra3\":\"JohnSmith\", \"merchant_extra4\":\"JohnSmith\", \"merchant_extra5\":\"JohnSmith\", \"return_url\":\"http://www.merchant.com\" } Every parameter the Merchant sends in the Request should be received by the Merchant in the Response -even the optional ones.","title":"The Response"},{"location":"moto/#go-to-full-api","text":"Check out our full API by visiting this link","title":"Go to Full API"},{"location":"moto/#need-further-help","text":"Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Need further help?"},{"location":"plugins/","text":"Get Started With PayFort Plugins PAYFORT offers the following free gateway plugins to help you enable \u201cPayFort Payment Gateway\u201d easily to your e-Commerce store. So your customers will be able to complete their payments through PayFort gateway, Plus you can customize these plugins to meet your needs! Prestashop Get Started Github Repo Woocommerce Get Started Github Repo Magento Get Started Github Repo Magento 2 Get Started Github Repo Cs Cart 3 Get Started Github Repo Cs Cart 4 Get Started Github Repo Open Cart Get Started Github Repo Open Cart 2 Get Started Github Repo Php Get Started Github Repo","title":"Plugins"},{"location":"plugins/#get-started-with-payfort-plugins","text":"PAYFORT offers the following free gateway plugins to help you enable \u201cPayFort Payment Gateway\u201d easily to your e-Commerce store. So your customers will be able to complete their payments through PayFort gateway, Plus you can customize these plugins to meet your needs!","title":"Get Started With PayFort Plugins"},{"location":"recurring/","text":"What is Recurring? Recurring transactions allows the Merchant to charge Customer\u2019s card a specific amount on regular basis using the Purchase operation configured in single message mode. For example, the Merchant will be charging his Customer\u2019s card the subscription fee on monthly basis. How It Works - Overview The Merchant has to have a Token created assigned to a specific Customer account. For more details on \u201cToken\u201d please refer to the FORT Tokenization Service. The Merchant\u2019s server sends the recurring transaction details along with the Customer\u2019s Token to PayFort. The transaction is processed and a valid response is returned to the Merchant servers indicating the status of the transaction. The Token used to process recurring transactions, should be created when processing a successful transaction using an e-commerce MID registered for the same legal entity the recurring MID is configured for. Issuers will charge the customer\u2019s card if the card was used to process a successful e-commerce transaction for that merchant prior to the recurring transaction. Endpoints Sandbox POST https://sbpaymentservices.payfort.com/FortAPI/paymentApi Live POST https://paymentservices.payfort.com/FortAPI/paymentApi Parameters Submission Type REST POST request using JSON. The Request The sample JSON Request {\"command\":\"PURCHASE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"amount\": \"10000\", \"currency\": \"AED\", \"language\":\"en\", \"customer_email\":\"customer@domain.com\", \"eci\":\"RECURRING\", \"token_name\":\"Op9Vmp\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"payment_option\":\"MASTERCARD\", \"order_description\":\"iPhone6-S\", \"customer_ip\":\"192.178.1.10\", \"customer_name\":\"John Smith\", \"phone_number\":\"00962797219966\", \"settlement_reference\":\"XYZ9239-yu898\", \"merchant_extra\":\"JohnSmith\", \"merchant_extra1\":\"JohnSmith\", \"merchant_extra2\":\"JohnSmith\", \"merchant_extra3\":\"JohnSmith\", \"merchant_extra4\":\"JohnSmith\", \"merchant_extra5\":\"JohnSmith\", \"return_url\":\"http://www.merchant.com\" } Before sending the amount value of any transaction, you have to multiply the value with the currency decimal code according to ISO code 3. For example: If the amount value was 500 AED; according to ISO code 3, you should multiply the value with 100 (2 decimal points); so it will be sent in the request as 50000. Another example: If the amount value was 100 JOD; according to ISO code 3, you should multiply the value with 1000 (3 decimal points); so it will be sent in the request as 100000. The Response Here is the response example {\"command\":\"PURCHASE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"amount\":\"10000\", \"currency\":\"AED\", \"language\":\"en\", \"customer_email\":\"customer@domain.com\", \"eci\":\"RECURRING\", \"token_name\":\"Op9Vmp\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"order_description\":\"iPhone6-S\", \"fort_id\":\"149295435400084008\", \"payment_option\":\"MASTERCARD\", \"customer_ip\":\"192.178.1.10\", \"customer_name\":\"John Smith\", \"authorization_code\":\"P1000000000000372136\", \"response_message\":\"Success\", \"response_code\":\"20064\", \"status\":\"04\", \"expiry_date\":\"2105\", \"card_number\":\"400555******0001\", \"phone_number\":\"00962797219966\", \"settlement_reference\":\"XYZ9239-yu898\", \"merchant_extra\":\"JohnSmith\", \"merchant_extra1\":\"JohnSmith\", \"merchant_extra2\":\"JohnSmith\", \"merchant_extra3\":\"JohnSmith\", \"merchant_extra4\":\"JohnSmith\", \"merchant_extra5\":\"JohnSmith\", \"return_url\":\"http://www.merchant.com\" } Every parameter the Merchant sends in the Request should be received by the Merchant in the Response -even the optional ones. Go to Full API Check out our full API by visiting this link Need further help? Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Recurring(API)"},{"location":"recurring/#what-is-recurring","text":"Recurring transactions allows the Merchant to charge Customer\u2019s card a specific amount on regular basis using the Purchase operation configured in single message mode. For example, the Merchant will be charging his Customer\u2019s card the subscription fee on monthly basis.","title":"What is Recurring?"},{"location":"recurring/#how-it-works-overview","text":"The Merchant has to have a Token created assigned to a specific Customer account. For more details on \u201cToken\u201d please refer to the FORT Tokenization Service. The Merchant\u2019s server sends the recurring transaction details along with the Customer\u2019s Token to PayFort. The transaction is processed and a valid response is returned to the Merchant servers indicating the status of the transaction. The Token used to process recurring transactions, should be created when processing a successful transaction using an e-commerce MID registered for the same legal entity the recurring MID is configured for. Issuers will charge the customer\u2019s card if the card was used to process a successful e-commerce transaction for that merchant prior to the recurring transaction.","title":"How It Works - Overview"},{"location":"recurring/#endpoints","text":"Sandbox POST https://sbpaymentservices.payfort.com/FortAPI/paymentApi Live POST https://paymentservices.payfort.com/FortAPI/paymentApi","title":"Endpoints"},{"location":"recurring/#parameters-submission-type","text":"REST POST request using JSON.","title":"Parameters Submission Type"},{"location":"recurring/#the-request","text":"The sample JSON Request {\"command\":\"PURCHASE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"amount\": \"10000\", \"currency\": \"AED\", \"language\":\"en\", \"customer_email\":\"customer@domain.com\", \"eci\":\"RECURRING\", \"token_name\":\"Op9Vmp\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"payment_option\":\"MASTERCARD\", \"order_description\":\"iPhone6-S\", \"customer_ip\":\"192.178.1.10\", \"customer_name\":\"John Smith\", \"phone_number\":\"00962797219966\", \"settlement_reference\":\"XYZ9239-yu898\", \"merchant_extra\":\"JohnSmith\", \"merchant_extra1\":\"JohnSmith\", \"merchant_extra2\":\"JohnSmith\", \"merchant_extra3\":\"JohnSmith\", \"merchant_extra4\":\"JohnSmith\", \"merchant_extra5\":\"JohnSmith\", \"return_url\":\"http://www.merchant.com\" } Before sending the amount value of any transaction, you have to multiply the value with the currency decimal code according to ISO code 3. For example: If the amount value was 500 AED; according to ISO code 3, you should multiply the value with 100 (2 decimal points); so it will be sent in the request as 50000. Another example: If the amount value was 100 JOD; according to ISO code 3, you should multiply the value with 1000 (3 decimal points); so it will be sent in the request as 100000.","title":"The Request"},{"location":"recurring/#the-response","text":"Here is the response example {\"command\":\"PURCHASE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"amount\":\"10000\", \"currency\":\"AED\", \"language\":\"en\", \"customer_email\":\"customer@domain.com\", \"eci\":\"RECURRING\", \"token_name\":\"Op9Vmp\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"order_description\":\"iPhone6-S\", \"fort_id\":\"149295435400084008\", \"payment_option\":\"MASTERCARD\", \"customer_ip\":\"192.178.1.10\", \"customer_name\":\"John Smith\", \"authorization_code\":\"P1000000000000372136\", \"response_message\":\"Success\", \"response_code\":\"20064\", \"status\":\"04\", \"expiry_date\":\"2105\", \"card_number\":\"400555******0001\", \"phone_number\":\"00962797219966\", \"settlement_reference\":\"XYZ9239-yu898\", \"merchant_extra\":\"JohnSmith\", \"merchant_extra1\":\"JohnSmith\", \"merchant_extra2\":\"JohnSmith\", \"merchant_extra3\":\"JohnSmith\", \"merchant_extra4\":\"JohnSmith\", \"merchant_extra5\":\"JohnSmith\", \"return_url\":\"http://www.merchant.com\" } Every parameter the Merchant sends in the Request should be received by the Merchant in the Response -even the optional ones.","title":"The Response"},{"location":"recurring/#go-to-full-api","text":"Check out our full API by visiting this link","title":"Go to Full API"},{"location":"recurring/#need-further-help","text":"Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Need further help?"},{"location":"redirection/","text":"Redirection process enables you to capture payments. PayFort Redirection consists of Authorization and Purchase processing. How it works? The Authorization operation hold an amount from the Customer\u2019s credit card account for a period of time until you capture or void the transaction. If no capture or void is processed during this period, the transaction will be voided automatically. In Purchase you will send one single request in order to authorize and capture the transaction amount. We offer you to Redirect your Customer from your website to PayFort\u2019s gateway page to fill out his credit card details during these operations. Looking to void a payment? You can void an authorized payment at any time. However, captured payments can only be refunded . Before you Start You are required to signup for test account by visiting this link for testing your sample integrations. You can also directly get started by signing up for the live account by visiting this link Try it out You can use the below URLS to test the redirection methods. Endpoints SandBox: POST https://sbcheckout.payfort.com/FortAPI/paymentPage Live: POST https://checkout.payfort.com/FortAPI/paymentPage How to add the Tokenization service on the Redirection channel? The Tokenization service is applicable to be integrated through the Redirection Channel through the below steps: The Customer enables the remember_me option displayed in the payment page. Processes the first PURCHASE/ AUTHORIZATION payment successfully. The Merchant will receive a token_name in the response. This token_name should be considered as a permanent token name, and it can be used in the future customer\u2019s payments by submitting the token_name in the next PURCHASE/ AUTHORIZATION payment. If the Customer wants to update/ delete his card, you should check Update Token section. Go to Full API Check out our full API by visiting this link Need further help? Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"What is redirection?"},{"location":"redirection/#how-it-works","text":"The Authorization operation hold an amount from the Customer\u2019s credit card account for a period of time until you capture or void the transaction. If no capture or void is processed during this period, the transaction will be voided automatically. In Purchase you will send one single request in order to authorize and capture the transaction amount. We offer you to Redirect your Customer from your website to PayFort\u2019s gateway page to fill out his credit card details during these operations. Looking to void a payment? You can void an authorized payment at any time. However, captured payments can only be refunded .","title":"How it works?"},{"location":"redirection/#before-you-start","text":"You are required to signup for test account by visiting this link for testing your sample integrations. You can also directly get started by signing up for the live account by visiting this link","title":"Before you Start"},{"location":"redirection/#try-it-out","text":"You can use the below URLS to test the redirection methods.","title":"Try it out"},{"location":"redirection/#endpoints","text":"SandBox: POST https://sbcheckout.payfort.com/FortAPI/paymentPage Live: POST https://checkout.payfort.com/FortAPI/paymentPage","title":"Endpoints"},{"location":"redirection/#how-to-add-the-tokenization-service-on-the-redirection-channel","text":"The Tokenization service is applicable to be integrated through the Redirection Channel through the below steps: The Customer enables the remember_me option displayed in the payment page. Processes the first PURCHASE/ AUTHORIZATION payment successfully. The Merchant will receive a token_name in the response. This token_name should be considered as a permanent token name, and it can be used in the future customer\u2019s payments by submitting the token_name in the next PURCHASE/ AUTHORIZATION payment. If the Customer wants to update/ delete his card, you should check Update Token section.","title":"How to add the Tokenization service on the Redirection channel?"},{"location":"redirection/#go-to-full-api","text":"Check out our full API by visiting this link","title":"Go to Full API"},{"location":"redirection/#need-further-help","text":"Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Need further help?"},{"location":"refund/","text":"Refund a payment This operation returns the entire amount of a transaction or part of it AFTER being captured. The request Use the details below to set up your request. Endpoints Live POST https://paymentservices.payfort.com/FortAPI/paymentApi Sandbox POST https://sbpaymentservices.payfort.com/FortAPI/paymentApi Request example JSON { 'command':'REFUND', 'access_code':'zx0IPmPy5jp1vAz8Kpg7', 'merchant_identifier':'CycHZxVj', 'merchant_reference':' XYZ9239-yu898', 'amount':'10000', 'currency':'AED', 'language':'en', 'signature':'7cad05f0212ed933c9a5d5dffa31661acf2c827a', 'fort_id':'149295435400084008', 'order_description':'iPhone 6-S', } The response If you receive status code 20064 with status code 04 it means your request for refund has been accepted by the PayFort Server. The response sent by the server will be in the format of JSON. Response examples {\"command\":\"REFUND\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239-yu898\", \"amount\":\"10000\", \"currency\":\"AED\", \"language\":\"en\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"fort_id\":\"149295435400084008\", \"order_description\":\"iPhone 6-S\", \"response_message\":\"Success\", \"response_code\":\"20064\", status\":\"04\" } You can check out various transaction codes by visiting this link Go to Full API Check out our full API by visiting this link Need further help? Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Refund Payment"},{"location":"refund/#refund-a-payment","text":"This operation returns the entire amount of a transaction or part of it AFTER being captured.","title":"Refund a payment"},{"location":"refund/#the-request","text":"Use the details below to set up your request.","title":"The request"},{"location":"refund/#endpoints","text":"","title":"Endpoints"},{"location":"refund/#live","text":"POST https://paymentservices.payfort.com/FortAPI/paymentApi","title":"Live"},{"location":"refund/#sandbox","text":"POST https://sbpaymentservices.payfort.com/FortAPI/paymentApi","title":"Sandbox"},{"location":"refund/#request-example","text":"","title":"Request example"},{"location":"refund/#json","text":"{ 'command':'REFUND', 'access_code':'zx0IPmPy5jp1vAz8Kpg7', 'merchant_identifier':'CycHZxVj', 'merchant_reference':' XYZ9239-yu898', 'amount':'10000', 'currency':'AED', 'language':'en', 'signature':'7cad05f0212ed933c9a5d5dffa31661acf2c827a', 'fort_id':'149295435400084008', 'order_description':'iPhone 6-S', }","title":"JSON"},{"location":"refund/#the-response","text":"If you receive status code 20064 with status code 04 it means your request for refund has been accepted by the PayFort Server. The response sent by the server will be in the format of JSON.","title":"The response"},{"location":"refund/#response-examples","text":"{\"command\":\"REFUND\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239-yu898\", \"amount\":\"10000\", \"currency\":\"AED\", \"language\":\"en\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"fort_id\":\"149295435400084008\", \"order_description\":\"iPhone 6-S\", \"response_message\":\"Success\", \"response_code\":\"20064\", status\":\"04\" } You can check out various transaction codes by visiting this link","title":"Response examples"},{"location":"refund/#go-to-full-api","text":"Check out our full API by visiting this link","title":"Go to Full API"},{"location":"refund/#need-further-help","text":"Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Need further help?"},{"location":"reportingapi/","text":"What is Data Mine (Reporting API)? For retail merchants like you biggest dilemma they face is to download a customized reports. These customized reports includes sales reports, transaction reports, recurring payment reports, bulk sales reports etc. If you are planning to develop your own solution then you can easily use the PayFORT's easy to use reporting API to generate your own customized reports. The Reporting API provides you the feature to generate misc.. reports that can be customized as per your business requirements. You can specify the columns to be included and filters, then download the generated report. The report is limited to 200,000 transactions. How it Works? When you are developing the solution for report generation purpose then you need to send request to the PayFORT server using the Endpoints . There will be two requests ( Generate Report and Download Report ) that you will be sending to the PayFORT server. Following steps describes the way Reporting API works: You will submit Generate Report request for report generation. This request also allows you to specify the filters and columns to be included in the downloaded report. The PayFORT server returns the Generate Report response. You will then submit the Download Report request using the same merchant reference which was used to submit Generate Report request Endpoints You can use these PayFORT endpoints for the purpose of testing and going live. If you don't have test account then you can use this link to signup for the test account else you can directly signup for the live account by visiting this link Sandbox POST https://sbpaymentservices.payfort.com/FortAPI/reportingApi Live POST https://paymentservices.payfort.com/FortAPI/reportingApi Parameters Submission Type While submitting your request to PayFORT server using the Endpoints you need to pass parameters in your request. The parameters that you will pass to the server in your request should be REST POST request using JSON Format . Both the requests Generate Report and Download Report will use set of parameters including the column parameters, filter parameters and the key parameters. Generate Report Request Since you will be submitting REST POST using JSON Format, you can refer to the given JSON sample for creating a Generate Report request. The JSON sample also shows the parameters that are required to be sent along the request. Sample JSON Request { \"query_command\": \"GENERATE_REPORT\", \"access_code\": \"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\": \"CycHZxVj\", \"merchant_reference\": \"XYZ9239-yu898\", \"from_date\": \"2017-08-03T00:00:01+03:00\", \"to_date\": \"2017-08-03T23:59:59+03:00\", \"response_format\": \"JSON\", \"language\": \"en\", \"columns\": [ \"order_description\", \"customer_ip\", \"eci\", \"geolocation_ip\", \"merchant_reference\", \"card_holder_name\", \"currency\", \"amount\", \"payment_option\", \"fort_id\", \"customer_email\", \"customer_name\", \"operation\", ], \"filters\": [ { \"key\": \"currency\", \"value\": \"USD\" }, { \"key\": \"payment_option\", \"value\": \"VISA\" } ], \"signature\": \"03a36d58acfc611f521528f2039a2228031d7ae4248d95181f2a24cfbe9f7865\" } The above JSON sample is for information purpose and you need to check out the columns parameters, filter parameters and the key parameters (passed within the filters parameters as key value in the above JSON sample) to select the parameters you need to pass in your request. Columns Parameter Below is the sample of various column parameters which you can chose to pass in your request as a list. The list is surrounded by [] (square brackets) which is JSON based list. The list which you pass in your request will generate the data under the respective columns (passed as a list in the generate and download reports). Sample Column Parameters in JSON's List Format [ \"fort_id\", \"merchant_reference\", \"authorization_code\", \"customer_name\", \"customer_ip\", \"geolocation_ip\", \"customer_email\", \"acquirer_name\", \"payment_option\", \"channel\", \"transaction_date\", \"card_number\", \"expiry_date\", \"card_holder_name\", \"amount\", \"currency\", \"card_bin\", \"eci\", \"operation\", \"token_name\", \"3ds_indicator\", \"fraud_indicator\", \"installments_indicator\", \"status\", \"response_code\", \"response_message\", \"third_party_message\", \"third_party_code\", \"order_date\", \"order_description\", \"acquirer_mid\", \"acquirer_response_code\", \"acquirer_response_message\", \"processor_response_code\", \"sadad_olp\", \"sadad_transaction_id\", \"payment_link_id\", \"Invoice_id\", \"digital_wallet\" ] Filter Parameters and Key Parameters [] [\"fort_id\", \"merchant_reference\", \"authorization_code\", \"customer_name\", \"customer_ip\", \"geolocation_ip\", \"customer_email\", \"acquirer_name\", \"payment_option\", \"channel\", \"transaction_date\", \"card_number\", \"expiry_date\", \"card_holder_name\", \"amount\", \"currency\", \"card_bin\", \"eci\", \"operation\", \"token_name\", \"3ds_indicator\", \"fraud_indicator\", \"installments_indicator\", \"status\", \"response_code\", \"response_message\", \"third_party_message\", \"third_party_code\", \"order_date\", \"order_description\", \"acquirer_mid\", \"acquirer_response_code\", \"acquirer_response_message\", \"processor_response_code\", \"sadad_olp\", \"sadad_transaction_id\", \"payment_link_id\", \"Invoice_id\", \"digital_wallet\" ]","title":"Data Mine(Reporting API)"},{"location":"reportingapi/#what-is-data-mine-reporting-api","text":"For retail merchants like you biggest dilemma they face is to download a customized reports. These customized reports includes sales reports, transaction reports, recurring payment reports, bulk sales reports etc. If you are planning to develop your own solution then you can easily use the PayFORT's easy to use reporting API to generate your own customized reports. The Reporting API provides you the feature to generate misc.. reports that can be customized as per your business requirements. You can specify the columns to be included and filters, then download the generated report. The report is limited to 200,000 transactions.","title":"What is Data Mine (Reporting API)?"},{"location":"reportingapi/#how-it-works","text":"When you are developing the solution for report generation purpose then you need to send request to the PayFORT server using the Endpoints . There will be two requests ( Generate Report and Download Report ) that you will be sending to the PayFORT server. Following steps describes the way Reporting API works: You will submit Generate Report request for report generation. This request also allows you to specify the filters and columns to be included in the downloaded report. The PayFORT server returns the Generate Report response. You will then submit the Download Report request using the same merchant reference which was used to submit Generate Report request","title":"How it Works?"},{"location":"reportingapi/#endpoints","text":"You can use these PayFORT endpoints for the purpose of testing and going live. If you don't have test account then you can use this link to signup for the test account else you can directly signup for the live account by visiting this link Sandbox POST https://sbpaymentservices.payfort.com/FortAPI/reportingApi Live POST https://paymentservices.payfort.com/FortAPI/reportingApi","title":"Endpoints"},{"location":"reportingapi/#parameters-submission-type","text":"While submitting your request to PayFORT server using the Endpoints you need to pass parameters in your request. The parameters that you will pass to the server in your request should be REST POST request using JSON Format . Both the requests Generate Report and Download Report will use set of parameters including the column parameters, filter parameters and the key parameters.","title":"Parameters Submission Type"},{"location":"reportingapi/#generate-report-request","text":"Since you will be submitting REST POST using JSON Format, you can refer to the given JSON sample for creating a Generate Report request. The JSON sample also shows the parameters that are required to be sent along the request. Sample JSON Request { \"query_command\": \"GENERATE_REPORT\", \"access_code\": \"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\": \"CycHZxVj\", \"merchant_reference\": \"XYZ9239-yu898\", \"from_date\": \"2017-08-03T00:00:01+03:00\", \"to_date\": \"2017-08-03T23:59:59+03:00\", \"response_format\": \"JSON\", \"language\": \"en\", \"columns\": [ \"order_description\", \"customer_ip\", \"eci\", \"geolocation_ip\", \"merchant_reference\", \"card_holder_name\", \"currency\", \"amount\", \"payment_option\", \"fort_id\", \"customer_email\", \"customer_name\", \"operation\", ], \"filters\": [ { \"key\": \"currency\", \"value\": \"USD\" }, { \"key\": \"payment_option\", \"value\": \"VISA\" } ], \"signature\": \"03a36d58acfc611f521528f2039a2228031d7ae4248d95181f2a24cfbe9f7865\" } The above JSON sample is for information purpose and you need to check out the columns parameters, filter parameters and the key parameters (passed within the filters parameters as key value in the above JSON sample) to select the parameters you need to pass in your request. Columns Parameter Below is the sample of various column parameters which you can chose to pass in your request as a list. The list is surrounded by [] (square brackets) which is JSON based list. The list which you pass in your request will generate the data under the respective columns (passed as a list in the generate and download reports). Sample Column Parameters in JSON's List Format [ \"fort_id\", \"merchant_reference\", \"authorization_code\", \"customer_name\", \"customer_ip\", \"geolocation_ip\", \"customer_email\", \"acquirer_name\", \"payment_option\", \"channel\", \"transaction_date\", \"card_number\", \"expiry_date\", \"card_holder_name\", \"amount\", \"currency\", \"card_bin\", \"eci\", \"operation\", \"token_name\", \"3ds_indicator\", \"fraud_indicator\", \"installments_indicator\", \"status\", \"response_code\", \"response_message\", \"third_party_message\", \"third_party_code\", \"order_date\", \"order_description\", \"acquirer_mid\", \"acquirer_response_code\", \"acquirer_response_message\", \"processor_response_code\", \"sadad_olp\", \"sadad_transaction_id\", \"payment_link_id\", \"Invoice_id\", \"digital_wallet\" ] Filter Parameters and Key Parameters [] [\"fort_id\", \"merchant_reference\", \"authorization_code\", \"customer_name\", \"customer_ip\", \"geolocation_ip\", \"customer_email\", \"acquirer_name\", \"payment_option\", \"channel\", \"transaction_date\", \"card_number\", \"expiry_date\", \"card_holder_name\", \"amount\", \"currency\", \"card_bin\", \"eci\", \"operation\", \"token_name\", \"3ds_indicator\", \"fraud_indicator\", \"installments_indicator\", \"status\", \"response_code\", \"response_message\", \"third_party_message\", \"third_party_code\", \"order_date\", \"order_description\", \"acquirer_mid\", \"acquirer_response_code\", \"acquirer_response_message\", \"processor_response_code\", \"sadad_olp\", \"sadad_transaction_id\", \"payment_link_id\", \"Invoice_id\", \"digital_wallet\" ]","title":"Generate Report Request"},{"location":"testing/","text":"Testing Our testing environment provides you with opportunity to test your integration. You can sign up for test account and get started with testing your integrations. Test Card Details You want to test a transaction but you don\u2019t have a credit card or user credentials for our other payments options? Well we\u2019ve got your back, here you can find card numbers for any type of test you wish to do. Credit Cards Card Type Number Expiry Date CVV/CVC Visa 4005550000000001 05/21 123 MasterCard 5123456789012346 05/21 123 AMEX 345678901234564 05/21 1234 3-D Secure Credit Cards Card Type Number Expiry Date CVV/CVC Visa 4557012345678902 05/21 123 MasterCard 5313581000123430 05/21 123 AMEX 374200000000004 05/21 1234 Debit Cards Card Type Number Expiry Date CVV/CVC MADA 5297412542005689 05/21 350 MEEZA 9818950527886700002 10/23 422 MEEZA 5078036221028566 09/23 143 Local Payment Methods Payment Option Number Expiry Date CVV/CVC Knet 0000000001 09/21 1234 Payment Option Card Number Expiry Date OTP PIN Naps 4215375500883243 06/21 1234 1234 Payment Option Payment Id Password OTP Sadad sadadOlpTest 1234 112358 Payment Option Number Card Type E-dirhamm 4724439901004942 Gold Card Digital Wallets PAYMENT OPTION Number Expiry Date CVV/CVC MasterPass 4000000000000002 05/21 123 Visa Checkout 4000000000000002 05/21 123","title":"Testing"},{"location":"testing/#testing","text":"Our testing environment provides you with opportunity to test your integration. You can sign up for test account and get started with testing your integrations.","title":"Testing"},{"location":"testing/#test-card-details","text":"You want to test a transaction but you don\u2019t have a credit card or user credentials for our other payments options? Well we\u2019ve got your back, here you can find card numbers for any type of test you wish to do.","title":"Test Card Details"},{"location":"tokenization/","text":"","title":"Tokenization (Safe)"},{"location":"transactioncodes/","text":"Transaction Response Codes The Response code is made up of 5 digits; a combination of a 2-digit Status (Please see section Status Codes ) and a 3-digit Message (Please see section message codes ) Status Codes Status Code Description 00 Invalid Request. 01 Order Stored. 02 Authorization Success. 03 Authorization Failed. 04 Capture Success. 05 Capture failed. 06 Refund Success. 07 Refund Failed. 08 Authorization Voided Successfully. 09 Authorization Void Failed. 10 Incomplete. 11 Check status Failed. 12 Check status success. 13 Purchase Failure. 14 Purchase Success. 15 Uncertain Transaction. 17 Tokenization failed. 18 Tokenization success. 19 Transaction pending. 20 On hold. 21 SDK Token creation failure. 22 SDK Token creation success. 23 Failed to process Digital Wallet service. 24 Digital wallet order processed successfully. 27 Check card balance failed. 28 Check card balance success. 29 Redemption failed. 30 Redemption success. 31 Reverse Redemption transaction failed. 32 Reverse Redemption transaction success. 40 Transaction In review. 42 Currency conversion success. 43 Currency conversion failed. 44 3ds success. 45 3ds failed. 46 Bill creation success. 47 Bill creation failed. 48 Generating invoice payment link success. 49 Generating invoice payment link failed. 50 Batch file upload successfully. 51 Upload batch file failed. 52 Token created successfully. 53 Token creation failed. 54 Get Tokens Success. 55 Get Tokens Failed. 56 Reporting Request Success. 57 Reporting Request Failed. 58 Token updated successfully. 59 Token updated failed. 62 Get Installment Plans Successfully. 63 Get Installment plans Failed. 66 Delete Token Success. 70 Get batch results successfully. 71 Get batch results failed. 72 Batch processing success. 73 Batch processing failed. 74 Bank transfer successfully. 75 Bank transfer failed. 76 Batch validation successfully. 77 Batch validation failed. 80 Credit card verified successfully. 81 Failed to verify credit card. 88 ValU OTP Generate Success. 89 ValU OTP Generate Failure Status 90 Customer Verify Success. 91 Customer Verify Failed. 92 Verify OTP success. 93 Failed OTP verify. Message Codes Message Code Message Value 000 Success. 001 Missing parameter. 002 Invalid parameter format. 003 Payment option is not available for this merchant\u2019s account. 004 Invalid command. 005 Invalid amount. 006 Technical problem. 007 Duplicate order number. 008 Signature mismatch. 009 Invalid merchant identifier. 010 Invalid access code. 011 Order not saved. 012 Card expired. 013 Invalid currency. 014 Inactive payment option. 015 Inactive merchant account. 016 Invalid card number. 017 Operation not allowed by the acquirer. 018 Operation not allowed by processor. 019 Inactive acquirer. 020 Processor is inactive. 021 Payment option deactivated by acquirer. 023 Currency not accepted by acquirer. 024 Currency not accepted by processor. 025 Processor integration settings are missing. 026 Acquirer integration settings are missing. 027 Invalid extra parameters. 029 Insufficient funds. 030 Authentication failed. 031 Invalid issuer. 032 Invalid parameter length. 033 Parameter value not allowed. 034 Operation not allowed. 035 Order created successfully. 036 Order not found. 037 Missing return URL. 038 Token service inactive. 039 No active payment option found. 040 Invalid transaction source. 042 Operation amount exceeds the authorized amount. 043 Inactive Operation. 044 Token name does not exist. 046 Channel is not configured for the selected payment option. 047 Order already processed. 048 Operation amount exceeds captured amount. 049 Operation not valid for this payment option. 050 Merchant per transaction limit exceeded. 051 Technical error. 052 Consumer is not in OLP database. 053 Merchant is not found in OLP Engine DB. 054 Transaction cannot be processed at this moment. 055 OLP ID Alias is not valid. Please contact your bank. 056 OLP ID Alias does not exist. Please enter a valid OLP ID Alias. 057 Transaction amount exceeds the daily transaction limit. 058 Transaction amount exceeds the per transaction limit. 059 Merchant Name and SADAD Merchant ID do not match. 060 The entered OLP password is incorrect. Please provide a valid password. 062 Token has been created. 063 Token has been updated. 064 3-D Secure check requested. 065 Transaction waiting for customer\u2019s action. 066 Merchant reference already exists. 067 Dynamic Descriptor not configured for selected payment option. 068 SDK service is inactive. 069 Mapping not found for the given error code. 070 device_id mismatch. 071 Failed to initiate connection. 072 Transaction has been cancelled by the consumer. 073 Invalid request format. 074 Transaction failed. 075 Transaction failed. 076 Transaction not found in OLP. 077 Error transaction code not found. 078 Failed to check fraud screen. 079 Transaction challenged by fraud rules. 080 Invalid payment option. 082 Inactive fraud service. 083 Unexpected user behavior. 084 Transaction amount is either bigger than maximum or less than minimum amount accepted for the selected plan. 086 Installment plan is not configured for Merchant account. 087 Card BIN does not match accepted issuer bank. 088 Token name was not created for this transaction. 089 Failed to retrieve digital wallet details. 090 Transaction in review. 092 Invalid issuer code. 093 service inactive. 094 Invalid Plan Code. 095 Inactive Issuer. 096 Inactive Plan. 097 Operation not allowed for service. 098 Invalid or expired call_id. 099 Failed to execute service. 100 Invalid expiry date. 101 Bill number not found. 102 Apple Pay order has been expired. 103 Duplicate subscription ID. 104 No plans valid for request. 105 Invalid bank code. 106 Inactive bank. 107 Invalid transfer_date. 110 Contradicting parameters, please refer to the integration guide. 111 Service not applicable for payment option. 112 Service not applicable for payment operation. 113 Service not applicable for e-commerce indicator. 114 Token already exist. 115 Expired invoice payment link. 116 Inactive notification type. 117 Invoice payment link already processed. 118 Order bounced. 119 Request dropped. 120 Payment link terms and conditions not found. 121 Card number is not verified. 122 Invalid date interval. 123 You have exceeded the maximum number of attempts. 124 Account successfully created. 125 Invoice already paid. 126 Duplicate invoice ID. 127 Merchant reference is not generated yet. 128 The generated report is still pending, you can\u2019t download it now. 129 \u201cDownloaded report\u201d queue is full. Wait till its empty again. 134 Your search results have exceeded the maximum number of records. 136 The Batch file validation is failed. 137 Invalid Batch file execution date. 138 The Batch file still under validation. 140 The Batch file still under processing. 141 The Batch reference does not exist. 142 The Batch file header is invalid. 144 Invalid Batch file. 146 The Batch reference is already exist. 147 The Batch process request has been received. 148 Batch file will be processed. 149 Payment link request id not found. 150 Payment link is already open. 151 3ds_id does not exist. 152 3Ds verification doesn\u2019t match the request details. 154 You have reached the maximum number of upload retries. 155 The upload retries is not configured. 662 Operation not allowed. The specified order is not confirmed yet. 666 Transaction declined. 773 Transaction closed. 777 The transaction has been processed, but failed to receive confirmation. 778 Session timed-out. 779 Transformation error. 780 Transaction number transformation error. 781 Message or response code transformation error. 783 Installments service inactive. 784 Transaction still processing you can\u2019t make another transaction. 785 Transaction blocked by fraud check. 787 Failed to authenticate the user. 788 Invalid bill number. 789 Expired bill number. 790 Invalid bill type code. Need further help? Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Transactioncodes"},{"location":"transactioncodes/#transaction-response-codes","text":"The Response code is made up of 5 digits; a combination of a 2-digit Status (Please see section Status Codes ) and a 3-digit Message (Please see section message codes )","title":"Transaction Response Codes"},{"location":"transactioncodes/#status-codes","text":"Status Code Description 00 Invalid Request. 01 Order Stored. 02 Authorization Success. 03 Authorization Failed. 04 Capture Success. 05 Capture failed. 06 Refund Success. 07 Refund Failed. 08 Authorization Voided Successfully. 09 Authorization Void Failed. 10 Incomplete. 11 Check status Failed. 12 Check status success. 13 Purchase Failure. 14 Purchase Success. 15 Uncertain Transaction. 17 Tokenization failed. 18 Tokenization success. 19 Transaction pending. 20 On hold. 21 SDK Token creation failure. 22 SDK Token creation success. 23 Failed to process Digital Wallet service. 24 Digital wallet order processed successfully. 27 Check card balance failed. 28 Check card balance success. 29 Redemption failed. 30 Redemption success. 31 Reverse Redemption transaction failed. 32 Reverse Redemption transaction success. 40 Transaction In review. 42 Currency conversion success. 43 Currency conversion failed. 44 3ds success. 45 3ds failed. 46 Bill creation success. 47 Bill creation failed. 48 Generating invoice payment link success. 49 Generating invoice payment link failed. 50 Batch file upload successfully. 51 Upload batch file failed. 52 Token created successfully. 53 Token creation failed. 54 Get Tokens Success. 55 Get Tokens Failed. 56 Reporting Request Success. 57 Reporting Request Failed. 58 Token updated successfully. 59 Token updated failed. 62 Get Installment Plans Successfully. 63 Get Installment plans Failed. 66 Delete Token Success. 70 Get batch results successfully. 71 Get batch results failed. 72 Batch processing success. 73 Batch processing failed. 74 Bank transfer successfully. 75 Bank transfer failed. 76 Batch validation successfully. 77 Batch validation failed. 80 Credit card verified successfully. 81 Failed to verify credit card. 88 ValU OTP Generate Success. 89 ValU OTP Generate Failure Status 90 Customer Verify Success. 91 Customer Verify Failed. 92 Verify OTP success. 93 Failed OTP verify.","title":"Status Codes"},{"location":"transactioncodes/#message-codes","text":"Message Code Message Value 000 Success. 001 Missing parameter. 002 Invalid parameter format. 003 Payment option is not available for this merchant\u2019s account. 004 Invalid command. 005 Invalid amount. 006 Technical problem. 007 Duplicate order number. 008 Signature mismatch. 009 Invalid merchant identifier. 010 Invalid access code. 011 Order not saved. 012 Card expired. 013 Invalid currency. 014 Inactive payment option. 015 Inactive merchant account. 016 Invalid card number. 017 Operation not allowed by the acquirer. 018 Operation not allowed by processor. 019 Inactive acquirer. 020 Processor is inactive. 021 Payment option deactivated by acquirer. 023 Currency not accepted by acquirer. 024 Currency not accepted by processor. 025 Processor integration settings are missing. 026 Acquirer integration settings are missing. 027 Invalid extra parameters. 029 Insufficient funds. 030 Authentication failed. 031 Invalid issuer. 032 Invalid parameter length. 033 Parameter value not allowed. 034 Operation not allowed. 035 Order created successfully. 036 Order not found. 037 Missing return URL. 038 Token service inactive. 039 No active payment option found. 040 Invalid transaction source. 042 Operation amount exceeds the authorized amount. 043 Inactive Operation. 044 Token name does not exist. 046 Channel is not configured for the selected payment option. 047 Order already processed. 048 Operation amount exceeds captured amount. 049 Operation not valid for this payment option. 050 Merchant per transaction limit exceeded. 051 Technical error. 052 Consumer is not in OLP database. 053 Merchant is not found in OLP Engine DB. 054 Transaction cannot be processed at this moment. 055 OLP ID Alias is not valid. Please contact your bank. 056 OLP ID Alias does not exist. Please enter a valid OLP ID Alias. 057 Transaction amount exceeds the daily transaction limit. 058 Transaction amount exceeds the per transaction limit. 059 Merchant Name and SADAD Merchant ID do not match. 060 The entered OLP password is incorrect. Please provide a valid password. 062 Token has been created. 063 Token has been updated. 064 3-D Secure check requested. 065 Transaction waiting for customer\u2019s action. 066 Merchant reference already exists. 067 Dynamic Descriptor not configured for selected payment option. 068 SDK service is inactive. 069 Mapping not found for the given error code. 070 device_id mismatch. 071 Failed to initiate connection. 072 Transaction has been cancelled by the consumer. 073 Invalid request format. 074 Transaction failed. 075 Transaction failed. 076 Transaction not found in OLP. 077 Error transaction code not found. 078 Failed to check fraud screen. 079 Transaction challenged by fraud rules. 080 Invalid payment option. 082 Inactive fraud service. 083 Unexpected user behavior. 084 Transaction amount is either bigger than maximum or less than minimum amount accepted for the selected plan. 086 Installment plan is not configured for Merchant account. 087 Card BIN does not match accepted issuer bank. 088 Token name was not created for this transaction. 089 Failed to retrieve digital wallet details. 090 Transaction in review. 092 Invalid issuer code. 093 service inactive. 094 Invalid Plan Code. 095 Inactive Issuer. 096 Inactive Plan. 097 Operation not allowed for service. 098 Invalid or expired call_id. 099 Failed to execute service. 100 Invalid expiry date. 101 Bill number not found. 102 Apple Pay order has been expired. 103 Duplicate subscription ID. 104 No plans valid for request. 105 Invalid bank code. 106 Inactive bank. 107 Invalid transfer_date. 110 Contradicting parameters, please refer to the integration guide. 111 Service not applicable for payment option. 112 Service not applicable for payment operation. 113 Service not applicable for e-commerce indicator. 114 Token already exist. 115 Expired invoice payment link. 116 Inactive notification type. 117 Invoice payment link already processed. 118 Order bounced. 119 Request dropped. 120 Payment link terms and conditions not found. 121 Card number is not verified. 122 Invalid date interval. 123 You have exceeded the maximum number of attempts. 124 Account successfully created. 125 Invoice already paid. 126 Duplicate invoice ID. 127 Merchant reference is not generated yet. 128 The generated report is still pending, you can\u2019t download it now. 129 \u201cDownloaded report\u201d queue is full. Wait till its empty again. 134 Your search results have exceeded the maximum number of records. 136 The Batch file validation is failed. 137 Invalid Batch file execution date. 138 The Batch file still under validation. 140 The Batch file still under processing. 141 The Batch reference does not exist. 142 The Batch file header is invalid. 144 Invalid Batch file. 146 The Batch reference is already exist. 147 The Batch process request has been received. 148 Batch file will be processed. 149 Payment link request id not found. 150 Payment link is already open. 151 3ds_id does not exist. 152 3Ds verification doesn\u2019t match the request details. 154 You have reached the maximum number of upload retries. 155 The upload retries is not configured. 662 Operation not allowed. The specified order is not confirmed yet. 666 Transaction declined. 773 Transaction closed. 777 The transaction has been processed, but failed to receive confirmation. 778 Session timed-out. 779 Transformation error. 780 Transaction number transformation error. 781 Message or response code transformation error. 783 Installments service inactive. 784 Transaction still processing you can\u2019t make another transaction. 785 Transaction blocked by fraud check. 787 Failed to authenticate the user. 788 Invalid bill number. 789 Expired bill number. 790 Invalid bill type code.","title":"Message Codes"},{"location":"transactioncodes/#need-further-help","text":"Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Need further help?"},{"location":"trusted/","text":"What is Trusted? Trusted channel allows PCI certified Merchants to collect their customers' credit card details on the Merchant\u2019s checkout page. The Merchants are able to process (Ecommerce, Recurring and MOTO) transactions through the FORT using clear card data and credit card tokens. Trusted Channel Endpoints Sandbox POST https://sbpaymentservices.PayFort.com/FortAPI/paymentApi Live POST https://paymentservices.PayFort.com/FortAPI/paymentApi Parameters Submission Type REST POST request using JSON. JSON Request Example { 'command':'PURCHASE', 'access_code':'zx0IPmPy5jp1vAz8Kpg7', 'merchant_identifier':'CycHZxVj', 'merchant_reference':' XYZ9239-yu898', 'amount':'10000', 'currency':'AED', 'language':'en', 'customer_email': 'john_doe@abc.com', 'eci': 'MOTO', 'expiry_date': '2105', 'card_number': '4005550000000001', 'card_security_code': '123', 'customer_ip': '192.178.1.10', 'signature':'7cad05f0212ed933c9a5d5dffa31661acf2c827a', 'card_holder_name': 'John Smith', 'token_name': 'Op9Vmp', 'payment_option': 'MASTERCARD', 'order_description':'iPhone 6-S', 'customer_name':'John Smith', 'phone_number': '00962797219966', 'settlement_reference': 'XYZ9239-yu898', 'merchant_extra': 'John Smith', 'merchant_extra1': 'John Smith', 'merchant_extra2': 'John Smith', 'merchant_extra3': 'John Smith', 'merchant_extra4': 'John Smith', 'merchant_extra5': 'John Smith', 'return_url': 'http://www.merchant.com' } Before sending the amount value of any transaction, you have to multiply the value with the currency decimal code according to ISO code 3. For example: If the amount value was 500 AED; according to ISO code 3, you should multiply the value with 100 (2 decimal points); so it will be sent in the request as 50000. Another example: If the amount value was 100 JOD; according to ISO code 3, you should multiply the value with 1000 (3 decimal points); so it will be sent in the request as 100000. The Response You will receive sample response from the payfort server: {\"command\":\"PURCHASE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"amount\":\"10000\", \"currency\":\"AED\", \"language\":\"en\", \"customer_email\":\"customer@domain.com\", \"eci\":\"MOTO\", \"expiry_date\":\"2105\", \"card_number\":\"400555*****0001\", \"customer_ip\":\"192.178.1.10\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"card_holder_name\":\" John Smith\", \"token_name\":\"Op9Vmp\", \"order_description\":\"iPhone6-S\", \"fort_id\":\"149295435400084008\", \"payment_option\":\"MASTERCARD\", \"customer_name\": \"John Smith\", \"merchant_extra\":\"JohnSmith\", \"merchant_extra1\":\"JohnSmith\", \"merchant_extra2\":\"JohnSmith\", \"merchant_extra3\":\"JohnSmith\", \"merchant_extra4\":\"JohnSmith\", \"merchant_extra5\":\"JohnSmith\", \"authorization_code\":\"P1000000000000372136\", \"response_message\":\"Success\", \"response_code\":\"20064\", \"status\":\"04\", \"3ds_url\":\"http://www.3dsecure.com\", \"phone_number\": \"00962797219966\", \"settlement_reference\":\"XYZ9239-yu898\" } Every parameter the Merchant sends in the Request should be received by the Merchant in the Response -even the optional ones. Go to Full API Check out our full API by visiting this link Need further help? Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Trusted"},{"location":"trusted/#what-is-trusted","text":"Trusted channel allows PCI certified Merchants to collect their customers' credit card details on the Merchant\u2019s checkout page. The Merchants are able to process (Ecommerce, Recurring and MOTO) transactions through the FORT using clear card data and credit card tokens.","title":"What is Trusted?"},{"location":"trusted/#trusted-channel-endpoints","text":"Sandbox POST https://sbpaymentservices.PayFort.com/FortAPI/paymentApi Live POST https://paymentservices.PayFort.com/FortAPI/paymentApi","title":"Trusted Channel Endpoints"},{"location":"trusted/#parameters-submission-type","text":"REST POST request using JSON. JSON Request Example { 'command':'PURCHASE', 'access_code':'zx0IPmPy5jp1vAz8Kpg7', 'merchant_identifier':'CycHZxVj', 'merchant_reference':' XYZ9239-yu898', 'amount':'10000', 'currency':'AED', 'language':'en', 'customer_email': 'john_doe@abc.com', 'eci': 'MOTO', 'expiry_date': '2105', 'card_number': '4005550000000001', 'card_security_code': '123', 'customer_ip': '192.178.1.10', 'signature':'7cad05f0212ed933c9a5d5dffa31661acf2c827a', 'card_holder_name': 'John Smith', 'token_name': 'Op9Vmp', 'payment_option': 'MASTERCARD', 'order_description':'iPhone 6-S', 'customer_name':'John Smith', 'phone_number': '00962797219966', 'settlement_reference': 'XYZ9239-yu898', 'merchant_extra': 'John Smith', 'merchant_extra1': 'John Smith', 'merchant_extra2': 'John Smith', 'merchant_extra3': 'John Smith', 'merchant_extra4': 'John Smith', 'merchant_extra5': 'John Smith', 'return_url': 'http://www.merchant.com' } Before sending the amount value of any transaction, you have to multiply the value with the currency decimal code according to ISO code 3. For example: If the amount value was 500 AED; according to ISO code 3, you should multiply the value with 100 (2 decimal points); so it will be sent in the request as 50000. Another example: If the amount value was 100 JOD; according to ISO code 3, you should multiply the value with 1000 (3 decimal points); so it will be sent in the request as 100000.","title":"Parameters Submission Type"},{"location":"trusted/#the-response","text":"You will receive sample response from the payfort server: {\"command\":\"PURCHASE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"amount\":\"10000\", \"currency\":\"AED\", \"language\":\"en\", \"customer_email\":\"customer@domain.com\", \"eci\":\"MOTO\", \"expiry_date\":\"2105\", \"card_number\":\"400555*****0001\", \"customer_ip\":\"192.178.1.10\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"card_holder_name\":\" John Smith\", \"token_name\":\"Op9Vmp\", \"order_description\":\"iPhone6-S\", \"fort_id\":\"149295435400084008\", \"payment_option\":\"MASTERCARD\", \"customer_name\": \"John Smith\", \"merchant_extra\":\"JohnSmith\", \"merchant_extra1\":\"JohnSmith\", \"merchant_extra2\":\"JohnSmith\", \"merchant_extra3\":\"JohnSmith\", \"merchant_extra4\":\"JohnSmith\", \"merchant_extra5\":\"JohnSmith\", \"authorization_code\":\"P1000000000000372136\", \"response_message\":\"Success\", \"response_code\":\"20064\", \"status\":\"04\", \"3ds_url\":\"http://www.3dsecure.com\", \"phone_number\": \"00962797219966\", \"settlement_reference\":\"XYZ9239-yu898\" } Every parameter the Merchant sends in the Request should be received by the Merchant in the Response -even the optional ones.","title":"The Response"},{"location":"trusted/#go-to-full-api","text":"Check out our full API by visiting this link","title":"Go to Full API"},{"location":"trusted/#need-further-help","text":"Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Need further help?"},{"location":"voidauthorization/","text":"Void Authorization After a card payment has been authorized, the payment is not complete until it has been captured . If you do not wish to capture the payment, you can void it using the void API described below. The Request Use the details below to set up your request. Endpoints Live POST https://paymentservices.payfort.com/FortAPI/paymentApi Sandbox POST https://sbpaymentservices.payfort.com/FortAPI/paymentApi You can send \u201cmerchant_reference\u201d and/ or \u201cfort_id\u201d in the VOID_AUTHORIZATION request. Every parameter the Merchant sends in the Request should be received by the Merchant in the Response even the optional ones. The Request Example JSON { 'command':'REFUND', 'access_code':'zx0IPmPy5jp1vAz8Kpg7', 'merchant_identifier':'CycHZxVj', 'merchant_reference':' XYZ9239-yu898', 'amount':'10000', 'currency':'AED', 'language':'en', 'signature':'7cad05f0212ed933c9a5d5dffa31661acf2c827a', 'fort_id':'149295435400084008', 'order_description':'iPhone 6-S' } The Response If you receive response code 20064 with status code 04 it means that your request to void authorization has been accepted by PayFort server. Response Example {\"command\":\"VOID_AUTHORIZATION\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"language\":\"en\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"order_description\":\"iPhone6-S\", \"fort_id\":\"149295435400084008\", \"response_message\":\"Success\", \"response_code\":\"20064\", \"status\":\"04\" } You can check out various transaction codes by visiting this link Go to Full API Check out our full API by visiting this link Need further help? Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Void an Authorization"},{"location":"voidauthorization/#void-authorization","text":"After a card payment has been authorized, the payment is not complete until it has been captured . If you do not wish to capture the payment, you can void it using the void API described below.","title":"Void Authorization"},{"location":"voidauthorization/#the-request","text":"Use the details below to set up your request.","title":"The Request"},{"location":"voidauthorization/#endpoints","text":"","title":"Endpoints"},{"location":"voidauthorization/#live","text":"POST https://paymentservices.payfort.com/FortAPI/paymentApi","title":"Live"},{"location":"voidauthorization/#sandbox","text":"POST https://sbpaymentservices.payfort.com/FortAPI/paymentApi You can send \u201cmerchant_reference\u201d and/ or \u201cfort_id\u201d in the VOID_AUTHORIZATION request. Every parameter the Merchant sends in the Request should be received by the Merchant in the Response even the optional ones.","title":"Sandbox"},{"location":"voidauthorization/#the-request-example","text":"","title":"The Request Example"},{"location":"voidauthorization/#json","text":"{ 'command':'REFUND', 'access_code':'zx0IPmPy5jp1vAz8Kpg7', 'merchant_identifier':'CycHZxVj', 'merchant_reference':' XYZ9239-yu898', 'amount':'10000', 'currency':'AED', 'language':'en', 'signature':'7cad05f0212ed933c9a5d5dffa31661acf2c827a', 'fort_id':'149295435400084008', 'order_description':'iPhone 6-S' }","title":"JSON"},{"location":"voidauthorization/#the-response","text":"If you receive response code 20064 with status code 04 it means that your request to void authorization has been accepted by PayFort server.","title":"The Response"},{"location":"voidauthorization/#response-example","text":"{\"command\":\"VOID_AUTHORIZATION\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"language\":\"en\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"order_description\":\"iPhone6-S\", \"fort_id\":\"149295435400084008\", \"response_message\":\"Success\", \"response_code\":\"20064\", \"status\":\"04\" } You can check out various transaction codes by visiting this link","title":"Response Example"},{"location":"voidauthorization/#go-to-full-api","text":"Check out our full API by visiting this link","title":"Go to Full API"},{"location":"voidauthorization/#need-further-help","text":"Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Need further help?"},{"location":"wallets/","text":"PayFort supports MasterPass, Visacheckout and ApplePay. MasterPass As another move towards a cashless environment, PayFort provides MasterPass ; a digital wallet that securely stores the buyer\u2019s credit card details and shipping addresses and information, making shopping through thousands of online Merchants simple and convenient. This is fulfilled by enhancing and simplifying the buyer\u2019s digital shopping experience. PAYFORT now supports MasterPass Redirect v7 in addition to v6. Service Endpoints Sandbox POST https://sbcheckout.payfort.com/FortAPI/paymentPage Live POST https://checkout.payfort.com/FortAPI/paymentPage Redirection Integration Flow You submit a form that includes all the parameters and call the following url to be redirected to PayFort as mentioned in the service endpoints The FORT returns a response to the Merchant. The FORT inserts the response parameters into a JavaScript. A lightbox appears to the buyer where he enters his credentials, selects the card type and the shipping address, and clicks \u201cFinish Shopping\u201d. The FORT either proceeds to Authorize or Purchase the payment based on the value of the command parameter sent in the Merchant\u2019s form. The FORT returns a response to the Merchant.(Please refer to section MasterPass Service - Response for the Response Parameters). In the Redirection work flow, the \u201cChannel\u201d will always be considered redirection and the \u201cDefault Operation\u201d won\u2019t be considered. If the Merchant sent the \u201cpayment_option\u201d value in his request, the FORT will use the value found in the request, no matter what other options are supported by the Merchant. However, if this value wasn\u2019t sent in the Merchant\u2019s request, the FORT will retrieve all the payment options supported by the Merchant. Parameters Submission Type HTTPs Form Post Request. Service Request Example Below is the sample html request. <form action=\"https://sbcheckout.payfort.com/FortAPI/paymentPage\"method=\"post\"id=\"simulatorForm\"> <input type=\"hidden\" name=\"digital_wallet\" id=\"digital_wallet\" value=\"MASTERPASS\"/> <input type=\"hidden\" name=\"command\"id=\"command\" value=\"AUTHORIZATION\"/> <input type=\"hidden\" name=\"access_code\" id=\"access_code\" value=\"zx0IPmPy5jp1vAz\"/> <input type=\"hidden\" name=\"merchant_identifier\" id=\"merchant_identifier\" value=\"CycHZxVj\"/> <input type=\"hidden\" name=\"merchant_reference\" id=\"merchant_reference\" value=\"XYZ9239-yu898\"/> <input type=\"hidden\" name=\"amount\" id=\"amount\" value=\"10000\"/> <input type=\"hidden\" name=\"currency\" id=\"currency\" value=\"AED\"/> <input type=\"hidden\" name=\"language\" id=\"language\" value=\"en\"/> <input type=\"hidden\" name=\"customer_email\" id=\"customer_email\" value=\"someone@email.com\"/> <input type=\"hidden\" name=\"signature\" id=\"signature\" value=\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\"/> <input type=\"hidden\" name=\"payment_option\"id=\"payment_option\" value=\"VISA\"/> <input type=\"hidden\" name=\"order_description\" id=\"order_description\" value=\"iPhone 6-S\"/> <input type=\"hidden\" name=\"customer_ip\" id=\"customer_ip\" value=\"192.178.1.10\"/> <input type=\"hidden\" name=\"customer_name\" id=\"customer_name\" value=\"John Smith\"/> <input type=\"hidden\" name=\"cart_details\" id=\"cart_details\" value='{\"sub_total\":\"900\",\"cart_items\":[{\"item_description\":\"Xbox\",\"item_image\":\"http://image.com\",\"item_name\":\"Xbo x 360\",\"item_price\":\"300\",\"item_quantity\":\"2\"},{\"item_description\":\"Playstation 3\",\"item_image\":\"http://image.com\",\"item_name\":\"Playstation 3\",\"item_price\":\"150\",\"item_quantity\":\"2\"}]}'/> <input type=\"hidden\" name=\"return_url\" id=\"return_url\" value=\"http://backtothemerchanturl.com\"/> <input value=\"Send\" type=\"submit\"> </form> The following is an example for \u201ccart_details\u201d parameter: <input type=\u201chidden\u201d name=\u201ccart_details\u201d id=\u201ccart_details\u201d value= \u2019{ \u201csub_total\u201d:\u201c900\u201d, \u201ccart_items\u201d:[{ \u201citem_description\u201d:\u201cXbox\u201d, \u201citem_image\u201d:\u201chttp://image.com\u201d, \u201citem_name\u201d:\u201cXbox 360\u201d, \u201citem_price\u201d:\u201c300\u201d, \u201citem_quantity\u201d:\u201c2\u201d},{ \u201citem_description\u201d:\u201cPlaystation 3\u201d, \u201citem_image\u201d:\u201chttp://image.com\u201d, \u201citem_name\u201d:\u201cPlaystation 3\u201d, \u201citem_price\u201d:\u201c150\u201d, \u201citem_quantity\u201d:\u201c2\u201d}]}\u2019/> Before sending the amount value of any transaction, you have to multiply the value with the currency decimal code according to ISO code 3. For example: If the amount value was 500 AED; according to ISO code 3, you should multiply the value with 100 (2 decimal points); so it will be sent in the request as 50000. Another example: If the amount value was 100 JOD; according to ISO code 3, you should multiply the value with 1000 (3 decimal points); so it will be sent in the request as 100000. MasterPass Hosted Masterpass Hosted accepts digital wallet transactions without redirection to Masterpass pages and instead; it will be hosted on the Merchant website. VisaCheckout Visa Checkout is a digital wallet that securely stores the buyer\u2019s credit card details and shipping addresses and information, making shopping through thousands of online Merchants simple and convenient. This service enhances and simplifies the buyer\u2019s online shopping experience. Visa Checkout can be offered through two different integrations: Merchant Hosted Checkout Button. PayFort Hosted Checkout Button. Merchant Hosted Checkout Button Integration Flow This integration allows the you to host Visa Checkout button on his website giving him maximum control over the look and feel and user experience. The following steps describe how this integration works: You should include the following JavaScript in the HTML header of its checkout page. This JavaScript loads the Visa Checkout library and defines handlers to initialization and payment events. <head> <script type=\"text/javascript\"> function onVisaCheckoutReady() { V.init({ apikey : \u201c#API_KEY#\u201d, // This will be provided by PayFort externalProfileId : \u201c#PROFILE_NAME#\u201d, // This will be provided by PayFort settings : { locale : \u201cen_AE\u201d, countryCode : \u201cAE\u201d, // depends on ISO-3166-1 alpha-2 standard codes review : { message : \u201cMerchant defined message\u201d, // buttonAction : \u201cContinue\u201d // The button label }, threeDSSetup : { threeDSActive : \u201cfalse\u201d // true to enable the 3ds false to disable it } }, paymentRequest : { currencyCode : \u201cUSD\u201d, //depends on ISO 4217 standard alpha-3 code values subtotal : \u201c10.00\u201d, // Subtotal of the payment. } }); V.on(\u201cpayment.success\u201d, function(payment) { document.write(JSON.stringify(payment)); //response when received success operation }); V.on(\u201cpayment.cancel\u201d, function(payment) { document.write(JSON.stringify(payment)); //response when cancel operation }); V.on(\u201cpayment.error\u201d, function(payment, error) { document.write(JSON.stringify(payment));//response when received error operation document.write(error); }); } </script> </head> You should use the following class to render Visa Checkout button that a consumer clicks to initiate a payment. <body> <img alt=\u201cVisa Checkout\u201d class=\u201cv-button\u201d role=\u201cbutton\u201d src=\u201chttps://sandbox.secure.checkout.visa.com/wallet-services-web/xo/button.png?cardBrands=VISA,MASTERCARD\u201d /> </body> Endpoints Sandbox https://sandbox.secure.checkout.visa.com/wallet-services-web/xo/button.png Live https://secure.checkout.visa.com/wallet-services-web/xo/button.png You should use the following JavaScript to control the operation on Visa Checkout on the website. <body> <script type=\u201ctext/javascript\u201d src=\u201chttps://sandbox-assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js\u201d> </script> </body> After completing the previous steps, the consumer clicks on Visa Checkout button, Visa Checkout light box appears and the user complete the checkout process. You will receive a successful response. The response associated with the payment success event returns list of parameters. The Merchant has to collect the value of \u201ccall_id\u201d parameter to be used in the following step. You submit Purchase request to the FORT adding 2 extra parameters: digital-wallet, call_id. Please refer to Merchant Hosted Visa Checkout - Request for more details. Merchants Page should be activated to accept Purchase and Authorization transactions The Merchant system receives the FORT\u2019s purchase request and then uses Visa Checkout update image pixel. Below you can find an example of how to use Visa Checkout update image pixel. Please refer to \u201cVisa checkout PayFort documentation\u201d for more details. <img src=\u201chttps://sandbox.secure.checkout.visa.com/wallet-services-web/payment/updatepaymentinfo.gif?apikey=\u2026&callId=\u2026&currencyCode=USD&total=11.00&subtotal=11.00\u201d /> The following example shows an HTML web page that loads the Visa Checkout library, defines handlers for initialization and payment events, and creates a Visa Checkout button: <html> <head> <script type=\u201ctext/javascript\u201d> function onVisaCheckoutReady() { V.init({ apikey : \u201c#API_KEY#\u201d, // This will be provided by PayFort externalProfileId : \u201c#PROFILE_NAME#\u201d, // This will be provided by PayFort settings : { locale : \u201cen_AE\u201d, countryCode : \u201cAE\u201d, // depends on ISO-3166-1 alpha-2 standard codes review : { message : \u201cMerchant defined message\u201d, // buttonAction : \u201cContinue\u201d // The button label }, threeDSSetup : { threeDSActive : \u201cfalse\u201d // true to enable the 3ds false to disable it } }, paymentRequest : { currencyCode : \u201cUSD\u201d, //depends on ISO 4217 standard alpha-3 code values subtotal : \u201c10.00\u201d, // Subtotal of the payment. } }); V.on(\u201cpayment.success\u201d, function(payment) { document.write(JSON.stringify(payment)); // response when received success operation }); V.on(\u201cpayment.cancel\u201d, function(payment) { document.write(JSON.stringify(payment)); // response when cancel operation }); V.on(\u201cpayment.error\u201d, function(payment, error) { document.write(JSON.stringify(payment));// response when received error operation document.write(error); }); } </script> </head> <body> <img alt=\u201cVisa Checkout\u201d class=\u201cv-button\u201d role=\u201cbutton\"src=\"https://sandbox.secure.checkout.visa.com/wallet-services-web/xo/button.png?cardBrands=VISA,MASTERCARD,DISCOVER,AMEX\u201d /> <script type=\u201ctext/javascript\u201d src=\u201chttps://sandbox-assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js\u201d> </script> </body> </html> Apple Pay Apple Pay provides an easy way for users to buy goods and services using iPhone, iPad and Apple Watch through mobile application or website. Checking out is as easy as selecting \u201cApple Pay\u201d and placing a finger on the touch ID of an iPhone, iPad or simply double clicking the side button on the Apple Watch. It\u2019s quick, easy and secure! When using a credit or debit card with Apple Pay, the actual card numbers are not stored on the device, nor on Apple servers. Instead, a unique Device Account Number is assigned, encrypted and securely stored in the Secure Element on your device, where each transaction is authorized with a one-time unique dynamic security code. SUPPORTED DEVICES Refer to Apple\u2019s compatibility documentation to learn which devices support Apple Pay. PayFort users can accept Apple Pay in iOS applications in iOS 8.1 and above. There are no additional fees to process Apple Pay payments, and the pricing is the same as other card transactions. Apple Pay is compatible with most PayFort products and features, allowing you to use it in place of a traditional payment form whenever possible. Use it to accept payments for physical or digital goods, donations, subscriptions, and more. Apple Pay is available to cardholders at participating banks in supported countries. Refer to Apple\u2019s participating banks documentation to learn which banks and countries are supported. Endpoints Sandbox POST https://sbpaymentservices.payfort.com/FortAPI/paymentApi Live POST https://paymentservices.payfort.com/FortAPI/paymentApi Setting Up Apple Pay Kindly visit developer.apple.com where you will Create a developer account, an Apple Pay Merchant ID and complete the Apple Pay certification (export the payment processing certificate in p12 file) Integrate Apple Pay in your app/website using the Apple Pay documentation found at https://developer.apple.com/apple-pay Submit the encrypted Apple Pay payload to PayFort\u2019s API for decryption / processing. Please contact integration@payfort.com for PayFort\u2019s integration documentation Parameters Submission Type REST POST request using JSON. The ApplePay Request The sample JSON request { \"digital_wallet\":\"APPLE_PAY\", \"command\":\"PURCHASE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"amount\": \"10000\", \"currency\": \"AED\", \"language\":\"en\", \"customer_email\":\"customer@domain.com\", \"apple_data\":\u201cC0QcNob17qrbYmBX63UxsfLOp3iqNU7ieMz1fmSlAYEG8gbkXsukzymwy7E3cqFZHD4UCZRL5uX cSfOIqT99c4xsqalQ3gIZgwhqcLZL6m/xqOuxqx1j9XQ9C54nmZJyAh6//zQWjeJhIeybGKS1zHlNRba OScMp+hLMcvBnoL3EYkfbQiPJrxWUqXxGx/lxeo9G72Yp5Q fsuQ74RW/mwBmKXtirFq7UsUt/Mh/KGgw\u201d, \"apple_signature\":\"MIAGCSqGSIb3DQEHAqCAMIACAQExDzANBglghkgBZQMEAgEFADCABgkqhkiG9w0BBwEAAKCAMIID5jCC\u2026\", \"apple_header\":{ \u201capple_transactionId\u201d: \u201c93eec76cbedaedca44648e3d5c314766906e4e78ce33cd3b8396f105a1c0daed\u201d, \u201capple_ephemeralPublicKey\u201d: \u201cMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEM9JqF04vDlGIHEzWsaDm4bGBlTJdCn3+DH8ptlA mOSwVddD7/FN93A2o+l7i2U6Lmjb8WhKJcz6ZB+2MabcF4g==\u201d, \u201capple_publicKeyHash\u201d: \u201cbVTUiyTv0uCJgQz8SNYHBHOlHMD6sR1qDuCqTaETzkw=\u201d }, \"apple_transactionId\":\"93eec76cbedaedca44648e3d5c314766906e4e78ce33cd3b8\", \"apple_ephemeralPublicKey\":\"MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEM9JqF04vD\", \"apple_publicKeyHash\":\"bVTUiyTv0uCJgQz8SNYHBHOlHMD6sR1qDuCqTaETzkw=\", \"apple_paymentMethod\": \" { \u201capple_displayName\u201d: \u201cVisa 0492\u201d, \u201capple_network\u201d: \u201cVisa\u201d, \u201capple_type\u201d: \u201cdebit\u201d }\", \"apple_applicationData\":\"5173d4e05f2e07dc4e7ea9669bda185712ffffe1d6 cfce2d4e854d7661e70d67\u2026\", \"eci\":\"MOTO\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"order_description\":\"iPhone6-S\", \"customer_ip\":\"192.178.1.10\", \"customer_name\":\"John Smith\", \"phone_number\":\"00962797219966\", \"settlement_reference\":\"XYZ9239-yu898\", \"merchant_extra\":\"JohnSmith\", \"merchant_extra1\":\"JohnSmith\", \"merchant_extra2\":\"JohnSmith\", \"merchant_extra3\":\"JohnSmith\", \"merchant_extra4\":\"JohnSmith\", \"merchant_extra5\":\"JohnSmith\", \"return_url\":\"http://www.merchant.com\" } Before sending the amount value of any transaction, you have to multiply the value with the currency decimal code according to ISO code 3. For example: If the amount value was 500 AED; according to ISO code 3, you should multiply the value with 100 (2 decimal points); so it will be sent in the request as 50000. Another example: If the amount value was 100 JOD; according to ISO code 3, you should multiply the value with 1000 (3 decimal points); so it will be sent in the request as 100000. The ApplePay Response Here is the sample response { \"digital_wallet\":\"APPLE_PAY\", \"command\":\"PURCHASE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"amount\":\"10000\", \"currency\":\"AED\", \"language\":\"en\", \"customer_email\":\"customer@domain.com\", \"eci\":\"MOTO\", \"token_name\":\"Op9Vmp\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"order_description\":\"iPhone6-S\", \"fort_id\":\"149295435400084008\", \"payment_option\":\"MASTERCARD\", \"customer_ip\":\"192.178.1.10\", \"customer_name\":\"John Smith\", \"authorization_code\":\"P1000000000000372136\", \"response_message\":\"Success\", \"response_code\":\"20064\", \"status\":\"04\", \"expiry_date\":\"2105\", \"card_number\":\"400555******0001\", \"phone_number\":\"00962797219966\", \"settlement_reference\":\"XYZ9239-yu898\", \"merchant_extra\":\"JohnSmith\", \"merchant_extra1\":\"JohnSmith\", \"merchant_extra2\":\"JohnSmith\", \"merchant_extra3\":\"JohnSmith\", \"merchant_extra4\":\"JohnSmith\", \"merchant_extra5\":\"JohnSmith\", \"return_url\":\"http://www.merchant.com\" } Every parameter the Merchant sends in the Request should be received by the Merchant in the Response -even the optional ones Apple Pay SDK Service Apple Pay is a digital wallet that allows Merchant\u2019s customers to make payments using different Apple devices through FORT iOS SDK. The Customer authenticate his identity with Touch ID fingerprint verification to complete the payment. Requirements Before you start Apple Pay SDK integration; you need to check the following points: \u2022 You will need to have one of these iOS devices (iPhone 6, iPhone 6s, iPhone 6 Plus, iPhone 6s Plus, iPhone 7, iPhone 7 Plus, iPhone SE, iPad Air 2, iPad mini 3, iPad mini 4, and iPad Pro models) running iOS 8.1 or later. \u2022 You will need a Mac with Xcode 6.1 or newer installed. You can install or upgrade Xcode in the Mac App Store . \u2022 You will also need an apple developer account and a membership in the iOS Developer Program. You can create a one from here . \u2022 You will need to download the FORT iOS Mobile SDK, click here . Get Started Before you start Apple Pay integration with PayFort please refer to the following URL here to complete the following steps: Setup your Apple Pay account. Complete the integration with Apple Pay SDK. After completing the integration with Apple Pay, check that you have got the following: \u2022 Apple merchantID. \u2022 Merchant certificate. \u2022 Payment processing certificate. Then copy the following sample code to complete integration with FORT Mobile SDK: Object-C code ```objective-c #pragma mark - PKPaymentAuthorizationViewControllerDelegate (void)paymentAuthorizationViewController: (PKPaymentAuthorizationViewController )controller didAuthorizePayment:(PKPayment )payment completion:(void (^)(PKPaymentAuthorizationStatus status))completion { BOOL asyncSuccessful = payment.token.paymentData.length != 0; if(asyncSuccessful) { PayFortController *payFort = [[PayFortController alloc]initWithEnviroment:(KPayFortEnviroment)_enviromentSegment.selectedSegmentIndex]; NSMutableDictionary *request = [[NSMutableDictionary alloc]init]; [request setValue:@\u201c10000\u201d forKey:@\u201camount\u201d]; [request setValue:@\u201cAUTHORIZATION\u201d forKey:@\u201ccommand\u201d]; [request setValue:@\u201cUSD\u201d forKey:@\u201ccurrency\u201d]; [request setValue:@\u201cemail@domain.com\u201d forKey:@\u201ccustomer_email\u201d]; [request setValue:@\u201cen\u201d forKey:@\u201clanguage\u201d]; [request setValue:@\u201cmerchant\u201d forKey:@\u201cmerchant_reference\u201d]; [request setValue:@\u201c\u201d forKey:@\u201csdk_token\u201d]; [request setValue:@\u201cAPPLE_PAY\u201d forKey:@\u201cdigital_wallet\u201d]; [payFort callPayFortForApplePayWithRequest:request applePayPayment:payment currentViewController:self Success:^(NSDictionary requestDic, NSDictionary responeDic) { completion(PKPaymentAuthorizationStatusSuccess); } Faild:^(NSDictionary requestDic, NSDictionary responeDic, NSString *message) { completion(PKPaymentAuthorizationStatusFailure); }]; } else { completion(PKPaymentAuthorizationStatusFailure); } } ``` Swift Code func paymentAuthorizationController(_ controller: PKPaymentAuthorizationController, didAuthorizePayment payment: PKPayment, completion: @escaping (PKPaymentAuthorizationStatus) -> Void) { //Perform some very basic validation on the provided contact information let asyncSuccessful = payment.token.paymentData.count != 0 if asyncSuccessful { let payFort = PayFortController.init(enviroment: KPayFortEnviromentSandBox) let request = NSMutableDictionary.init() request.setValue(\u201c100100000\u201d, forKey: \u201camount\u201d) request.setValue(\u201cAUTHORIZATION\u201d, forKey: \u201ccommand\u201d) request.setValue(\u201cUSD\u201d, forKey: \u201ccurrency\u201d) request.setValue(\u201cemail@domain.com\u201d, forKey: \u201ccustomer_email\u201d) request.setValue(\u201cen\u201d, forKey: \u201clanguage\u201d) request.setValue(\u201cmerchant\u201d, forKey: \u201cmerchant_reference\u201d) request.setValue(\u201cgr66zzwW9\u201d , forKey: \u201csdk_token\u201d) request.setValue(\u201cAPPLE_PAY\u201d , forKey: \u201cdigital_wallet\u201d) payFort?.callPayFortForApplePay(withRequest: request, applePay: payment, currentViewController: self , success: { (requestDic, responeDic) in completion(.success) }, faild:{ (requestDic, responeDic, message) in completion(.failure) }) }else { completion(.failure) } } Apple Pay SDK Authorization/ Purchase - Request { \"digital_wallet\":\"APPLE_PAY\", \"command\":\"PURCHASE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"amount\": \"10000\", \"currency\": \"AED\", \"language\":\"en\", \"customer_email\":\"customer@domain.com\", \"sdk_token\":\"Dwp78q3\", \"payment_option\":\"MASTERCARD\", \"eci\":\"ECOMMERCE\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"order_description\":\"iPhone6-S\", \"customer_ip\":\"192.178.1.10\", \"customer_name\":\"John Smith\", \"phone_number\":\"00962797219966\", \"token_name\":\"Op9Vmp\", \"settlement_reference\":\"XYZ9239-yu898\", \"merchant_extra\":\"JohnSmith\", \"merchant_extra1\":\"JohnSmith\", \"merchant_extra2\":\"JohnSmith\", \"merchant_extra3\":\"JohnSmith\", \"merchant_extra4\":\"JohnSmith\", \"merchant_extra5\":\"JohnSmith\", \"return_url\":\"http://www.merchant.com\" } Before sending the amount value of any transaction, you have to multiply the value with the currency decimal code according to ISO code 3. For example: If the amount value was 500 AED; according to ISO code 3, you should multiply the value with 100 (2 decimal points); so it will be sent in the request as 50000. Another example: If the amount value was 100 JOD; according to ISO code 3, you should multiply the value with 1000 (3 decimal points); so it will be sent in the request as 100000. Apple Pay SDK Authorization/ Purchase - Response { \"digital_wallet\":\"APPLE_PAY\", \"command\":\"PURCHASE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"amount\":\"10000\", \"currency\":\"AED\", \"language\":\"en\", \"customer_email\":\"customer@domain.com\", \"eci\":\"ECOMMERCE\", \"token_name\":\"Op9Vmp\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"order_description\":\"iPhone6-S\", \"fort_id\":\"149295435400084008\", \"sdk_token\": \"Dwp78q3\", \"payment_option\":\"MASTERCARD\", \"customer_ip\":\"192.178.1.10\", \"customer_name\":\"John Smith\", \"authorization_code\":\"P1000000000000372136\", \"response_message\":\"Success\", \"response_code\":\"20064\", \"status\":\"04\", \"expiry_date\":\"2105\", \"card_number\":\"400555******0001\", \"phone_number\":\"00962797219966\", \"settlement_reference\":\"XYZ9239-yu898\", \"merchant_extra\":\"JohnSmith\", \"merchant_extra1\":\"JohnSmith\", \"merchant_extra2\":\"JohnSmith\", \"merchant_extra3\":\"JohnSmith\", \"merchant_extra4\":\"JohnSmith\", \"merchant_extra5\":\"JohnSmith\", \"return_url\":\"http://www.merchant.com\" } Every parameter the Merchant sends in the Request should be received by the Merchant in the Response - even the optional ones. Test Your Wallet Integration You can checkout this link for testing your wallet integration Go to Full API Check out our full API by visiting this link Need further help? Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Wallets"},{"location":"wallets/#masterpass","text":"As another move towards a cashless environment, PayFort provides MasterPass ; a digital wallet that securely stores the buyer\u2019s credit card details and shipping addresses and information, making shopping through thousands of online Merchants simple and convenient. This is fulfilled by enhancing and simplifying the buyer\u2019s digital shopping experience. PAYFORT now supports MasterPass Redirect v7 in addition to v6.","title":"MasterPass"},{"location":"wallets/#service-endpoints","text":"Sandbox POST https://sbcheckout.payfort.com/FortAPI/paymentPage Live POST https://checkout.payfort.com/FortAPI/paymentPage","title":"Service Endpoints"},{"location":"wallets/#redirection","text":"","title":"Redirection"},{"location":"wallets/#integration-flow","text":"You submit a form that includes all the parameters and call the following url to be redirected to PayFort as mentioned in the service endpoints The FORT returns a response to the Merchant. The FORT inserts the response parameters into a JavaScript. A lightbox appears to the buyer where he enters his credentials, selects the card type and the shipping address, and clicks \u201cFinish Shopping\u201d. The FORT either proceeds to Authorize or Purchase the payment based on the value of the command parameter sent in the Merchant\u2019s form. The FORT returns a response to the Merchant.(Please refer to section MasterPass Service - Response for the Response Parameters). In the Redirection work flow, the \u201cChannel\u201d will always be considered redirection and the \u201cDefault Operation\u201d won\u2019t be considered. If the Merchant sent the \u201cpayment_option\u201d value in his request, the FORT will use the value found in the request, no matter what other options are supported by the Merchant. However, if this value wasn\u2019t sent in the Merchant\u2019s request, the FORT will retrieve all the payment options supported by the Merchant.","title":"Integration Flow"},{"location":"wallets/#parameters-submission-type","text":"HTTPs Form Post Request.","title":"Parameters Submission Type"},{"location":"wallets/#service-request-example","text":"Below is the sample html request. <form action=\"https://sbcheckout.payfort.com/FortAPI/paymentPage\"method=\"post\"id=\"simulatorForm\"> <input type=\"hidden\" name=\"digital_wallet\" id=\"digital_wallet\" value=\"MASTERPASS\"/> <input type=\"hidden\" name=\"command\"id=\"command\" value=\"AUTHORIZATION\"/> <input type=\"hidden\" name=\"access_code\" id=\"access_code\" value=\"zx0IPmPy5jp1vAz\"/> <input type=\"hidden\" name=\"merchant_identifier\" id=\"merchant_identifier\" value=\"CycHZxVj\"/> <input type=\"hidden\" name=\"merchant_reference\" id=\"merchant_reference\" value=\"XYZ9239-yu898\"/> <input type=\"hidden\" name=\"amount\" id=\"amount\" value=\"10000\"/> <input type=\"hidden\" name=\"currency\" id=\"currency\" value=\"AED\"/> <input type=\"hidden\" name=\"language\" id=\"language\" value=\"en\"/> <input type=\"hidden\" name=\"customer_email\" id=\"customer_email\" value=\"someone@email.com\"/> <input type=\"hidden\" name=\"signature\" id=\"signature\" value=\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\"/> <input type=\"hidden\" name=\"payment_option\"id=\"payment_option\" value=\"VISA\"/> <input type=\"hidden\" name=\"order_description\" id=\"order_description\" value=\"iPhone 6-S\"/> <input type=\"hidden\" name=\"customer_ip\" id=\"customer_ip\" value=\"192.178.1.10\"/> <input type=\"hidden\" name=\"customer_name\" id=\"customer_name\" value=\"John Smith\"/> <input type=\"hidden\" name=\"cart_details\" id=\"cart_details\" value='{\"sub_total\":\"900\",\"cart_items\":[{\"item_description\":\"Xbox\",\"item_image\":\"http://image.com\",\"item_name\":\"Xbo x 360\",\"item_price\":\"300\",\"item_quantity\":\"2\"},{\"item_description\":\"Playstation 3\",\"item_image\":\"http://image.com\",\"item_name\":\"Playstation 3\",\"item_price\":\"150\",\"item_quantity\":\"2\"}]}'/> <input type=\"hidden\" name=\"return_url\" id=\"return_url\" value=\"http://backtothemerchanturl.com\"/> <input value=\"Send\" type=\"submit\"> </form> The following is an example for \u201ccart_details\u201d parameter: <input type=\u201chidden\u201d name=\u201ccart_details\u201d id=\u201ccart_details\u201d value= \u2019{ \u201csub_total\u201d:\u201c900\u201d, \u201ccart_items\u201d:[{ \u201citem_description\u201d:\u201cXbox\u201d, \u201citem_image\u201d:\u201chttp://image.com\u201d, \u201citem_name\u201d:\u201cXbox 360\u201d, \u201citem_price\u201d:\u201c300\u201d, \u201citem_quantity\u201d:\u201c2\u201d},{ \u201citem_description\u201d:\u201cPlaystation 3\u201d, \u201citem_image\u201d:\u201chttp://image.com\u201d, \u201citem_name\u201d:\u201cPlaystation 3\u201d, \u201citem_price\u201d:\u201c150\u201d, \u201citem_quantity\u201d:\u201c2\u201d}]}\u2019/> Before sending the amount value of any transaction, you have to multiply the value with the currency decimal code according to ISO code 3. For example: If the amount value was 500 AED; according to ISO code 3, you should multiply the value with 100 (2 decimal points); so it will be sent in the request as 50000. Another example: If the amount value was 100 JOD; according to ISO code 3, you should multiply the value with 1000 (3 decimal points); so it will be sent in the request as 100000.","title":"Service Request Example"},{"location":"wallets/#masterpass-hosted","text":"Masterpass Hosted accepts digital wallet transactions without redirection to Masterpass pages and instead; it will be hosted on the Merchant website.","title":"MasterPass Hosted"},{"location":"wallets/#visacheckout","text":"Visa Checkout is a digital wallet that securely stores the buyer\u2019s credit card details and shipping addresses and information, making shopping through thousands of online Merchants simple and convenient. This service enhances and simplifies the buyer\u2019s online shopping experience. Visa Checkout can be offered through two different integrations: Merchant Hosted Checkout Button. PayFort Hosted Checkout Button.","title":"VisaCheckout"},{"location":"wallets/#merchant-hosted-checkout-button","text":"","title":"Merchant Hosted Checkout Button"},{"location":"wallets/#integration-flow_1","text":"This integration allows the you to host Visa Checkout button on his website giving him maximum control over the look and feel and user experience. The following steps describe how this integration works: You should include the following JavaScript in the HTML header of its checkout page. This JavaScript loads the Visa Checkout library and defines handlers to initialization and payment events. <head> <script type=\"text/javascript\"> function onVisaCheckoutReady() { V.init({ apikey : \u201c#API_KEY#\u201d, // This will be provided by PayFort externalProfileId : \u201c#PROFILE_NAME#\u201d, // This will be provided by PayFort settings : { locale : \u201cen_AE\u201d, countryCode : \u201cAE\u201d, // depends on ISO-3166-1 alpha-2 standard codes review : { message : \u201cMerchant defined message\u201d, // buttonAction : \u201cContinue\u201d // The button label }, threeDSSetup : { threeDSActive : \u201cfalse\u201d // true to enable the 3ds false to disable it } }, paymentRequest : { currencyCode : \u201cUSD\u201d, //depends on ISO 4217 standard alpha-3 code values subtotal : \u201c10.00\u201d, // Subtotal of the payment. } }); V.on(\u201cpayment.success\u201d, function(payment) { document.write(JSON.stringify(payment)); //response when received success operation }); V.on(\u201cpayment.cancel\u201d, function(payment) { document.write(JSON.stringify(payment)); //response when cancel operation }); V.on(\u201cpayment.error\u201d, function(payment, error) { document.write(JSON.stringify(payment));//response when received error operation document.write(error); }); } </script> </head> You should use the following class to render Visa Checkout button that a consumer clicks to initiate a payment. <body> <img alt=\u201cVisa Checkout\u201d class=\u201cv-button\u201d role=\u201cbutton\u201d src=\u201chttps://sandbox.secure.checkout.visa.com/wallet-services-web/xo/button.png?cardBrands=VISA,MASTERCARD\u201d /> </body>","title":"Integration Flow"},{"location":"wallets/#endpoints","text":"Sandbox https://sandbox.secure.checkout.visa.com/wallet-services-web/xo/button.png Live https://secure.checkout.visa.com/wallet-services-web/xo/button.png You should use the following JavaScript to control the operation on Visa Checkout on the website. <body> <script type=\u201ctext/javascript\u201d src=\u201chttps://sandbox-assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js\u201d> </script> </body> After completing the previous steps, the consumer clicks on Visa Checkout button, Visa Checkout light box appears and the user complete the checkout process. You will receive a successful response. The response associated with the payment success event returns list of parameters. The Merchant has to collect the value of \u201ccall_id\u201d parameter to be used in the following step. You submit Purchase request to the FORT adding 2 extra parameters: digital-wallet, call_id. Please refer to Merchant Hosted Visa Checkout - Request for more details. Merchants Page should be activated to accept Purchase and Authorization transactions The Merchant system receives the FORT\u2019s purchase request and then uses Visa Checkout update image pixel. Below you can find an example of how to use Visa Checkout update image pixel. Please refer to \u201cVisa checkout PayFort documentation\u201d for more details. <img src=\u201chttps://sandbox.secure.checkout.visa.com/wallet-services-web/payment/updatepaymentinfo.gif?apikey=\u2026&callId=\u2026&currencyCode=USD&total=11.00&subtotal=11.00\u201d /> The following example shows an HTML web page that loads the Visa Checkout library, defines handlers for initialization and payment events, and creates a Visa Checkout button: <html> <head> <script type=\u201ctext/javascript\u201d> function onVisaCheckoutReady() { V.init({ apikey : \u201c#API_KEY#\u201d, // This will be provided by PayFort externalProfileId : \u201c#PROFILE_NAME#\u201d, // This will be provided by PayFort settings : { locale : \u201cen_AE\u201d, countryCode : \u201cAE\u201d, // depends on ISO-3166-1 alpha-2 standard codes review : { message : \u201cMerchant defined message\u201d, // buttonAction : \u201cContinue\u201d // The button label }, threeDSSetup : { threeDSActive : \u201cfalse\u201d // true to enable the 3ds false to disable it } }, paymentRequest : { currencyCode : \u201cUSD\u201d, //depends on ISO 4217 standard alpha-3 code values subtotal : \u201c10.00\u201d, // Subtotal of the payment. } }); V.on(\u201cpayment.success\u201d, function(payment) { document.write(JSON.stringify(payment)); // response when received success operation }); V.on(\u201cpayment.cancel\u201d, function(payment) { document.write(JSON.stringify(payment)); // response when cancel operation }); V.on(\u201cpayment.error\u201d, function(payment, error) { document.write(JSON.stringify(payment));// response when received error operation document.write(error); }); } </script> </head> <body> <img alt=\u201cVisa Checkout\u201d class=\u201cv-button\u201d role=\u201cbutton\"src=\"https://sandbox.secure.checkout.visa.com/wallet-services-web/xo/button.png?cardBrands=VISA,MASTERCARD,DISCOVER,AMEX\u201d /> <script type=\u201ctext/javascript\u201d src=\u201chttps://sandbox-assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js\u201d> </script> </body> </html>","title":"Endpoints"},{"location":"wallets/#apple-pay","text":"Apple Pay provides an easy way for users to buy goods and services using iPhone, iPad and Apple Watch through mobile application or website. Checking out is as easy as selecting \u201cApple Pay\u201d and placing a finger on the touch ID of an iPhone, iPad or simply double clicking the side button on the Apple Watch. It\u2019s quick, easy and secure! When using a credit or debit card with Apple Pay, the actual card numbers are not stored on the device, nor on Apple servers. Instead, a unique Device Account Number is assigned, encrypted and securely stored in the Secure Element on your device, where each transaction is authorized with a one-time unique dynamic security code.","title":"Apple Pay"},{"location":"wallets/#supported-devices","text":"Refer to Apple\u2019s compatibility documentation to learn which devices support Apple Pay. PayFort users can accept Apple Pay in iOS applications in iOS 8.1 and above. There are no additional fees to process Apple Pay payments, and the pricing is the same as other card transactions. Apple Pay is compatible with most PayFort products and features, allowing you to use it in place of a traditional payment form whenever possible. Use it to accept payments for physical or digital goods, donations, subscriptions, and more. Apple Pay is available to cardholders at participating banks in supported countries. Refer to Apple\u2019s participating banks documentation to learn which banks and countries are supported.","title":"SUPPORTED DEVICES"},{"location":"wallets/#endpoints_1","text":"Sandbox POST https://sbpaymentservices.payfort.com/FortAPI/paymentApi Live POST https://paymentservices.payfort.com/FortAPI/paymentApi","title":"Endpoints"},{"location":"wallets/#setting-up-apple-pay","text":"Kindly visit developer.apple.com where you will Create a developer account, an Apple Pay Merchant ID and complete the Apple Pay certification (export the payment processing certificate in p12 file) Integrate Apple Pay in your app/website using the Apple Pay documentation found at https://developer.apple.com/apple-pay Submit the encrypted Apple Pay payload to PayFort\u2019s API for decryption / processing. Please contact integration@payfort.com for PayFort\u2019s integration documentation","title":"Setting Up Apple Pay"},{"location":"wallets/#parameters-submission-type_1","text":"REST POST request using JSON.","title":"Parameters Submission Type"},{"location":"wallets/#the-applepay-request","text":"The sample JSON request { \"digital_wallet\":\"APPLE_PAY\", \"command\":\"PURCHASE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"amount\": \"10000\", \"currency\": \"AED\", \"language\":\"en\", \"customer_email\":\"customer@domain.com\", \"apple_data\":\u201cC0QcNob17qrbYmBX63UxsfLOp3iqNU7ieMz1fmSlAYEG8gbkXsukzymwy7E3cqFZHD4UCZRL5uX cSfOIqT99c4xsqalQ3gIZgwhqcLZL6m/xqOuxqx1j9XQ9C54nmZJyAh6//zQWjeJhIeybGKS1zHlNRba OScMp+hLMcvBnoL3EYkfbQiPJrxWUqXxGx/lxeo9G72Yp5Q fsuQ74RW/mwBmKXtirFq7UsUt/Mh/KGgw\u201d, \"apple_signature\":\"MIAGCSqGSIb3DQEHAqCAMIACAQExDzANBglghkgBZQMEAgEFADCABgkqhkiG9w0BBwEAAKCAMIID5jCC\u2026\", \"apple_header\":{ \u201capple_transactionId\u201d: \u201c93eec76cbedaedca44648e3d5c314766906e4e78ce33cd3b8396f105a1c0daed\u201d, \u201capple_ephemeralPublicKey\u201d: \u201cMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEM9JqF04vDlGIHEzWsaDm4bGBlTJdCn3+DH8ptlA mOSwVddD7/FN93A2o+l7i2U6Lmjb8WhKJcz6ZB+2MabcF4g==\u201d, \u201capple_publicKeyHash\u201d: \u201cbVTUiyTv0uCJgQz8SNYHBHOlHMD6sR1qDuCqTaETzkw=\u201d }, \"apple_transactionId\":\"93eec76cbedaedca44648e3d5c314766906e4e78ce33cd3b8\", \"apple_ephemeralPublicKey\":\"MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEM9JqF04vD\", \"apple_publicKeyHash\":\"bVTUiyTv0uCJgQz8SNYHBHOlHMD6sR1qDuCqTaETzkw=\", \"apple_paymentMethod\": \" { \u201capple_displayName\u201d: \u201cVisa 0492\u201d, \u201capple_network\u201d: \u201cVisa\u201d, \u201capple_type\u201d: \u201cdebit\u201d }\", \"apple_applicationData\":\"5173d4e05f2e07dc4e7ea9669bda185712ffffe1d6 cfce2d4e854d7661e70d67\u2026\", \"eci\":\"MOTO\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"order_description\":\"iPhone6-S\", \"customer_ip\":\"192.178.1.10\", \"customer_name\":\"John Smith\", \"phone_number\":\"00962797219966\", \"settlement_reference\":\"XYZ9239-yu898\", \"merchant_extra\":\"JohnSmith\", \"merchant_extra1\":\"JohnSmith\", \"merchant_extra2\":\"JohnSmith\", \"merchant_extra3\":\"JohnSmith\", \"merchant_extra4\":\"JohnSmith\", \"merchant_extra5\":\"JohnSmith\", \"return_url\":\"http://www.merchant.com\" } Before sending the amount value of any transaction, you have to multiply the value with the currency decimal code according to ISO code 3. For example: If the amount value was 500 AED; according to ISO code 3, you should multiply the value with 100 (2 decimal points); so it will be sent in the request as 50000. Another example: If the amount value was 100 JOD; according to ISO code 3, you should multiply the value with 1000 (3 decimal points); so it will be sent in the request as 100000.","title":"The ApplePay Request"},{"location":"wallets/#the-applepay-response","text":"Here is the sample response { \"digital_wallet\":\"APPLE_PAY\", \"command\":\"PURCHASE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"amount\":\"10000\", \"currency\":\"AED\", \"language\":\"en\", \"customer_email\":\"customer@domain.com\", \"eci\":\"MOTO\", \"token_name\":\"Op9Vmp\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"order_description\":\"iPhone6-S\", \"fort_id\":\"149295435400084008\", \"payment_option\":\"MASTERCARD\", \"customer_ip\":\"192.178.1.10\", \"customer_name\":\"John Smith\", \"authorization_code\":\"P1000000000000372136\", \"response_message\":\"Success\", \"response_code\":\"20064\", \"status\":\"04\", \"expiry_date\":\"2105\", \"card_number\":\"400555******0001\", \"phone_number\":\"00962797219966\", \"settlement_reference\":\"XYZ9239-yu898\", \"merchant_extra\":\"JohnSmith\", \"merchant_extra1\":\"JohnSmith\", \"merchant_extra2\":\"JohnSmith\", \"merchant_extra3\":\"JohnSmith\", \"merchant_extra4\":\"JohnSmith\", \"merchant_extra5\":\"JohnSmith\", \"return_url\":\"http://www.merchant.com\" } Every parameter the Merchant sends in the Request should be received by the Merchant in the Response -even the optional ones","title":"The ApplePay Response"},{"location":"wallets/#apple-pay-sdk-service","text":"Apple Pay is a digital wallet that allows Merchant\u2019s customers to make payments using different Apple devices through FORT iOS SDK. The Customer authenticate his identity with Touch ID fingerprint verification to complete the payment.","title":"Apple Pay SDK Service"},{"location":"wallets/#requirements","text":"Before you start Apple Pay SDK integration; you need to check the following points: \u2022 You will need to have one of these iOS devices (iPhone 6, iPhone 6s, iPhone 6 Plus, iPhone 6s Plus, iPhone 7, iPhone 7 Plus, iPhone SE, iPad Air 2, iPad mini 3, iPad mini 4, and iPad Pro models) running iOS 8.1 or later. \u2022 You will need a Mac with Xcode 6.1 or newer installed. You can install or upgrade Xcode in the Mac App Store . \u2022 You will also need an apple developer account and a membership in the iOS Developer Program. You can create a one from here . \u2022 You will need to download the FORT iOS Mobile SDK, click here .","title":"Requirements"},{"location":"wallets/#get-started","text":"Before you start Apple Pay integration with PayFort please refer to the following URL here to complete the following steps: Setup your Apple Pay account. Complete the integration with Apple Pay SDK. After completing the integration with Apple Pay, check that you have got the following: \u2022 Apple merchantID. \u2022 Merchant certificate. \u2022 Payment processing certificate. Then copy the following sample code to complete integration with FORT Mobile SDK: Object-C code ```objective-c #pragma mark - PKPaymentAuthorizationViewControllerDelegate (void)paymentAuthorizationViewController: (PKPaymentAuthorizationViewController )controller didAuthorizePayment:(PKPayment )payment completion:(void (^)(PKPaymentAuthorizationStatus status))completion { BOOL asyncSuccessful = payment.token.paymentData.length != 0; if(asyncSuccessful) { PayFortController *payFort = [[PayFortController alloc]initWithEnviroment:(KPayFortEnviroment)_enviromentSegment.selectedSegmentIndex]; NSMutableDictionary *request = [[NSMutableDictionary alloc]init]; [request setValue:@\u201c10000\u201d forKey:@\u201camount\u201d]; [request setValue:@\u201cAUTHORIZATION\u201d forKey:@\u201ccommand\u201d]; [request setValue:@\u201cUSD\u201d forKey:@\u201ccurrency\u201d]; [request setValue:@\u201cemail@domain.com\u201d forKey:@\u201ccustomer_email\u201d]; [request setValue:@\u201cen\u201d forKey:@\u201clanguage\u201d]; [request setValue:@\u201cmerchant\u201d forKey:@\u201cmerchant_reference\u201d]; [request setValue:@\u201c\u201d forKey:@\u201csdk_token\u201d]; [request setValue:@\u201cAPPLE_PAY\u201d forKey:@\u201cdigital_wallet\u201d]; [payFort callPayFortForApplePayWithRequest:request applePayPayment:payment currentViewController:self Success:^(NSDictionary requestDic, NSDictionary responeDic) { completion(PKPaymentAuthorizationStatusSuccess); } Faild:^(NSDictionary requestDic, NSDictionary responeDic, NSString *message) { completion(PKPaymentAuthorizationStatusFailure); }]; } else { completion(PKPaymentAuthorizationStatusFailure); } } ``` Swift Code func paymentAuthorizationController(_ controller: PKPaymentAuthorizationController, didAuthorizePayment payment: PKPayment, completion: @escaping (PKPaymentAuthorizationStatus) -> Void) { //Perform some very basic validation on the provided contact information let asyncSuccessful = payment.token.paymentData.count != 0 if asyncSuccessful { let payFort = PayFortController.init(enviroment: KPayFortEnviromentSandBox) let request = NSMutableDictionary.init() request.setValue(\u201c100100000\u201d, forKey: \u201camount\u201d) request.setValue(\u201cAUTHORIZATION\u201d, forKey: \u201ccommand\u201d) request.setValue(\u201cUSD\u201d, forKey: \u201ccurrency\u201d) request.setValue(\u201cemail@domain.com\u201d, forKey: \u201ccustomer_email\u201d) request.setValue(\u201cen\u201d, forKey: \u201clanguage\u201d) request.setValue(\u201cmerchant\u201d, forKey: \u201cmerchant_reference\u201d) request.setValue(\u201cgr66zzwW9\u201d , forKey: \u201csdk_token\u201d) request.setValue(\u201cAPPLE_PAY\u201d , forKey: \u201cdigital_wallet\u201d) payFort?.callPayFortForApplePay(withRequest: request, applePay: payment, currentViewController: self , success: { (requestDic, responeDic) in completion(.success) }, faild:{ (requestDic, responeDic, message) in completion(.failure) }) }else { completion(.failure) } }","title":"Get Started"},{"location":"wallets/#apple-pay-sdk-authorization-purchase-request","text":"{ \"digital_wallet\":\"APPLE_PAY\", \"command\":\"PURCHASE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"amount\": \"10000\", \"currency\": \"AED\", \"language\":\"en\", \"customer_email\":\"customer@domain.com\", \"sdk_token\":\"Dwp78q3\", \"payment_option\":\"MASTERCARD\", \"eci\":\"ECOMMERCE\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"order_description\":\"iPhone6-S\", \"customer_ip\":\"192.178.1.10\", \"customer_name\":\"John Smith\", \"phone_number\":\"00962797219966\", \"token_name\":\"Op9Vmp\", \"settlement_reference\":\"XYZ9239-yu898\", \"merchant_extra\":\"JohnSmith\", \"merchant_extra1\":\"JohnSmith\", \"merchant_extra2\":\"JohnSmith\", \"merchant_extra3\":\"JohnSmith\", \"merchant_extra4\":\"JohnSmith\", \"merchant_extra5\":\"JohnSmith\", \"return_url\":\"http://www.merchant.com\" } Before sending the amount value of any transaction, you have to multiply the value with the currency decimal code according to ISO code 3. For example: If the amount value was 500 AED; according to ISO code 3, you should multiply the value with 100 (2 decimal points); so it will be sent in the request as 50000. Another example: If the amount value was 100 JOD; according to ISO code 3, you should multiply the value with 1000 (3 decimal points); so it will be sent in the request as 100000.","title":"Apple Pay SDK Authorization/ Purchase - Request"},{"location":"wallets/#apple-pay-sdk-authorization-purchase-response","text":"{ \"digital_wallet\":\"APPLE_PAY\", \"command\":\"PURCHASE\", \"access_code\":\"zx0IPmPy5jp1vAz8Kpg7\", \"merchant_identifier\":\"CycHZxVj\", \"merchant_reference\":\"XYZ9239yu898\", \"amount\":\"10000\", \"currency\":\"AED\", \"language\":\"en\", \"customer_email\":\"customer@domain.com\", \"eci\":\"ECOMMERCE\", \"token_name\":\"Op9Vmp\", \"signature\":\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\", \"order_description\":\"iPhone6-S\", \"fort_id\":\"149295435400084008\", \"sdk_token\": \"Dwp78q3\", \"payment_option\":\"MASTERCARD\", \"customer_ip\":\"192.178.1.10\", \"customer_name\":\"John Smith\", \"authorization_code\":\"P1000000000000372136\", \"response_message\":\"Success\", \"response_code\":\"20064\", \"status\":\"04\", \"expiry_date\":\"2105\", \"card_number\":\"400555******0001\", \"phone_number\":\"00962797219966\", \"settlement_reference\":\"XYZ9239-yu898\", \"merchant_extra\":\"JohnSmith\", \"merchant_extra1\":\"JohnSmith\", \"merchant_extra2\":\"JohnSmith\", \"merchant_extra3\":\"JohnSmith\", \"merchant_extra4\":\"JohnSmith\", \"merchant_extra5\":\"JohnSmith\", \"return_url\":\"http://www.merchant.com\" } Every parameter the Merchant sends in the Request should be received by the Merchant in the Response - even the optional ones.","title":"Apple Pay SDK Authorization/ Purchase - Response"},{"location":"wallets/#test-your-wallet-integration","text":"You can checkout this link for testing your wallet integration","title":"Test Your Wallet Integration"},{"location":"wallets/#go-to-full-api","text":"Check out our full API by visiting this link","title":"Go to Full API"},{"location":"wallets/#need-further-help","text":"Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Need further help?"},{"location":"wallets1/","text":"PayFort supports MasterPass, Visacheckout and ApplePay MasterPass As another move towards a cashless environment, PayFort provides MasterPass ; a digital wallet that securely stores the buyer\u2019s credit card details and shipping addresses and information, making shopping through thousands of online Merchants simple and convenient. This is fulfilled by enhancing and simplifying the buyer\u2019s digital shopping experience. PAYFORT now supports MasterPass Redirect v7 in addition to v6. Service Endpoints Sandbox POST https://sbcheckout.payfort.com/FortAPI/paymentPage Live POST https://checkout.payfort.com/FortAPI/paymentPage Redirection Integration Flow The Merchant submits a form that includes all the parameters. The Merchant calls the following URL to be redirected to the FORT: https://checkout.payfort.com/FortAPI/paymentPage The FORT returns a response to the Merchant. The FORT inserts the response parameters into a JavaScript. A lightbox appears to the buyer where he enters his credentials, selects the card type and the shipping address, and clicks \u201cFinish Shopping\u201d. The FORT either proceeds to Authorize or Purchase the payment based on the value of the command parameter sent in the Merchant\u2019s form. If the Merchant sent the \u201cpayment_option\u201d value in his request, the FORT will use the value found in the request, no matter what other options are supported by the Merchant. However, if this value wasn\u2019t sent in the Merchant\u2019s request, the FORT will retrieve all the payment options supported by the Merchant. The FORT returns a response to the Merchant.(Please refer to section MasterPass Service - Response for the Response Parameters). In the Redirection work flow, the \u201cChannel\u201d will always be considered redirection and the \u201cDefault Operation\u201d won\u2019t be considered. Parameters Submission Type HTTPs Form Post Request. Service Request Example Below is the sample html request. <form action=\"https://sbcheckout.payfort.com/FortAPI/paymentPage\"method=\"post\"id=\"simulatorForm\"> <input type=\"hidden\" name=\"digital_wallet\" id=\"digital_wallet\" value=\"MASTERPASS\"/> <input type=\"hidden\" name=\"command\"id=\"command\" value=\"AUTHORIZATION\"/> <input type=\"hidden\" name=\"access_code\" id=\"access_code\" value=\"zx0IPmPy5jp1vAz\"/> <input type=\"hidden\" name=\"merchant_identifier\" id=\"merchant_identifier\" value=\"CycHZxVj\"/> <input type=\"hidden\" name=\"merchant_reference\" id=\"merchant_reference\" value=\"XYZ9239-yu898\"/> <input type=\"hidden\" name=\"amount\" id=\"amount\" value=\"10000\"/> <input type=\"hidden\" name=\"currency\" id=\"currency\" value=\"AED\"/> <input type=\"hidden\" name=\"language\" id=\"language\" value=\"en\"/> <input type=\"hidden\" name=\"customer_email\" id=\"customer_email\" value=\"someone@email.com\"/> <input type=\"hidden\" name=\"signature\" id=\"signature\" value=\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\"/> <input type=\"hidden\" name=\"payment_option\"id=\"payment_option\" value=\"VISA\"/> <input type=\"hidden\" name=\"order_description\" id=\"order_description\" value=\"iPhone 6-S\"/> <input type=\"hidden\" name=\"customer_ip\" id=\"customer_ip\" value=\"192.178.1.10\"/> <input type=\"hidden\" name=\"customer_name\" id=\"customer_name\" value=\"John Smith\"/> <input type=\"hidden\" name=\"cart_details\" id=\"cart_details\" value='{\"sub_total\":\"900\",\"cart_items\":[{\"item_description\":\"Xbox\",\"item_image\":\"http://image.com\",\"item_name\":\"Xbo x 360\",\"item_price\":\"300\",\"item_quantity\":\"2\"},{\"item_description\":\"Playstation 3\",\"item_image\":\"http://image.com\",\"item_name\":\"Playstation 3\",\"item_price\":\"150\",\"item_quantity\":\"2\"}]}'/> <input type=\"hidden\" name=\"return_url\" id=\"return_url\" value=\"http://backtothemerchanturl.com\"/> <input value=\"Send\" type=\"submit\"> </form> The following is an example for \u201ccart_details\u201d parameter: <input type=\u201chidden\u201d name=\u201ccart_details\u201d id=\u201ccart_details\u201d value= \u2019{ \u201csub_total\u201d:\u201c900\u201d, \u201ccart_items\u201d:[{ \u201citem_description\u201d:\u201cXbox\u201d, \u201citem_image\u201d:\u201chttp://image.com\u201d, \u201citem_name\u201d:\u201cXbox 360\u201d, \u201citem_price\u201d:\u201c300\u201d, \u201citem_quantity\u201d:\u201c2\u201d},{ \u201citem_description\u201d:\u201cPlaystation 3\u201d, \u201citem_image\u201d:\u201chttp://image.com\u201d, \u201citem_name\u201d:\u201cPlaystation 3\u201d, \u201citem_price\u201d:\u201c150\u201d, \u201citem_quantity\u201d:\u201c2\u201d}]}\u2019/> Before sending the amount value of any transaction, you have to multiply the value with the currency decimal code according to ISO code 3. For example: If the amount value was 500 AED; according to ISO code 3, you should multiply the value with 100 (2 decimal points); so it will be sent in the request as 50000. Another example: If the amount value was 100 JOD; according to ISO code 3, you should multiply the value with 1000 (3 decimal points); so it will be sent in the request as 100000. MasterPass Hosted Masterpass Hosted accepts digital wallet transactions without redirection to Masterpass pages and instead; it will be hosted on the Merchant website. VisaCheckout Visa Checkout is a digital wallet that securely stores the buyer\u2019s credit card details and shipping addresses and information, making shopping through thousands of online Merchants simple and convenient. This service enhances and simplifies the buyer\u2019s online shopping experience. Visa Checkout can be offered through two different integrations: Merchant Hosted Checkout Button. PayFort Hosted Checkout Button. Merchant Hosted Checkout Button Integration Flow This integration allows the you to host Visa Checkout button on his website giving him maximum control over the look and feel and user experience. The following steps describe how this integration works: You should include the following JavaScript in the HTML header of its checkout page. This JavaScript loads the Visa Checkout library and defines handlers to initialization and payment events. <head> <script type=\"text/javascript\"> function onVisaCheckoutReady() { V.init({ apikey : \u201c#API_KEY#\u201d, // This will be provided by PayFort externalProfileId : \u201c#PROFILE_NAME#\u201d, // This will be provided by PayFort settings : { locale : \u201cen_AE\u201d, countryCode : \u201cAE\u201d, // depends on ISO-3166-1 alpha-2 standard codes review : { message : \u201cMerchant defined message\u201d, // buttonAction : \u201cContinue\u201d // The button label }, threeDSSetup : { threeDSActive : \u201cfalse\u201d // true to enable the 3ds false to disable it } }, paymentRequest : { currencyCode : \u201cUSD\u201d, //depends on ISO 4217 standard alpha-3 code values subtotal : \u201c10.00\u201d, // Subtotal of the payment. } }); V.on(\u201cpayment.success\u201d, function(payment) { document.write(JSON.stringify(payment)); // response when received success operation }); V.on(\u201cpayment.cancel\u201d, function(payment) { document.write(JSON.stringify(payment)); // response when cancel operation }); V.on(\u201cpayment.error\u201d, function(payment, error) { document.write(JSON.stringify(payment));// response when received error operation document.write(error); }); } </script> </head> You should use the following class to render Visa Checkout button that a consumer clicks to initiate a payment. <body> <img alt=\u201cVisa Checkout\u201d class=\u201cv-button\u201d role=\u201cbutton\u201d src=\u201chttps://sandbox.secure.checkout.visa.com/wallet-services-web/xo/button.png?cardBrands=VISA,MASTERCARD\u201d /> </body> #### Endpoints Sandbox https://sandbox.secure.checkout.visa.com/wallet-services-web/xo/button.png Live https://secure.checkout.visa.com/wallet-services-web/xo/button.png You should use the following JavaScript to control the operation on Visa Checkout on the website. <body> <script type=\u201ctext/javascript\u201d src=\u201chttps://sandbox-assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js\u201d> </script> </body> #### Endpoints Sandbox https://sandbox-assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js Live https://assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js After completing the previous steps, the consumer clicks on Visa Checkout button, Visa Checkout light box appears and the user complete the checkout process. You will receive a successful response. The response associated with the payment success event returns list of parameters. The Merchant has to collect the value of \u201ccall_id\u201d parameter to be used in the following step. You submit Purchase request to the FORT adding 2 extra parameters: digital-wallet, call_id. Please refer to Merchant Hosted Visa Checkout - Request for more details. Merchants Page should be activated to accept Purchase and Authorization transactions The Merchant system receives the FORT\u2019s purchase request and then uses Visa Checkout update image pixel. Below you can find an example of how to use Visa Checkout update image pixel. Please refer to \u201cVisa checkout PayFort documentation\u201d for more details. <img src=\u201chttps://sandbox.secure.checkout.visa.com/wallet-services-web/payment/updatepaymentinfo.gif?apikey=\u2026&callId=\u2026&currencyCode=USD&total=11.00&subtotal=11.00\u201d /> The following example shows an HTML web page that loads the Visa Checkout library, defines handlers for initialization and payment events, and creates a Visa Checkout button: <html> <head> <script type=\u201ctext/javascript\u201d> function onVisaCheckoutReady() { V.init({ apikey : \u201c#API_KEY#\u201d, // This will be provided by PayFort externalProfileId : \u201c#PROFILE_NAME#\u201d, // This will be provided by PayFort settings : { locale : \u201cen_AE\u201d, countryCode : \u201cAE\u201d, // depends on ISO-3166-1 alpha-2 standard codes review : { message : \u201cMerchant defined message\u201d, // buttonAction : \u201cContinue\u201d // The button label }, threeDSSetup : { threeDSActive : \u201cfalse\u201d // true to enable the 3ds false to disable it } }, paymentRequest : { currencyCode : \u201cUSD\u201d, //depends on ISO 4217 standard alpha-3 code values subtotal : \u201c10.00\u201d, // Subtotal of the payment. } }); V.on(\u201cpayment.success\u201d, function(payment) { document.write(JSON.stringify(payment)); // response when received success operation }); V.on(\u201cpayment.cancel\u201d, function(payment) { document.write(JSON.stringify(payment)); // response when cancel operation }); V.on(\u201cpayment.error\u201d, function(payment, error) { document.write(JSON.stringify(payment));// response when received error operation document.write(error); }); } </script> </head> <body> <img alt=\u201cVisa Checkout\u201d class=\u201cv-button\u201d role=\u201cbutton\"src=\"https://sandbox.secure.checkout.visa.com/wallet-services-web/xo/button.png?cardBrands=VISA,MASTERCARD,DISCOVER,AMEX\u201d /> <script type=\u201ctext/javascript\u201d src=\u201chttps://sandbox-assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js\u201d> </script> </body> </html> Apple Pay Apple Pay provides an easy way for users to buy goods and services using iPhone, iPad and Apple Watch through mobile application or website. Checking out is as easy as selecting \u201cApple Pay\u201d and placing a finger on the touch ID of an iPhone, iPad or simply double clicking the side button on the Apple Watch. It\u2019s quick, easy and secure! When using a credit or debit card with Apple Pay, the actual card numbers are not stored on the device, nor on Apple servers. Instead, a unique Device Account Number is assigned, encrypted and securely stored in the Secure Element on your device, where each transaction is authorized with a one-time unique dynamic security code. Setting Up Apple Pay Kindly visit developer.apple.com where you will Create a developer account, an Apple Pay Merchant ID and complete the Apple Pay certification (export the payment processing certificate in p12 file) Integrate Apple Pay in your app/website using the Apple Pay documentation found at https://developer.apple.com/apple-pay Submit the encrypted Apple Pay payload to PayFort\u2019s API for decryption / processing. Please contact integration@payfort.com for PayFort\u2019s integration documentation Test Your Wallet Integration You can checkout this link for testing your wallet integration Go to Full API Check out our full API by visiting this link Need further help? Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Wallets1"},{"location":"wallets1/#masterpass","text":"As another move towards a cashless environment, PayFort provides MasterPass ; a digital wallet that securely stores the buyer\u2019s credit card details and shipping addresses and information, making shopping through thousands of online Merchants simple and convenient. This is fulfilled by enhancing and simplifying the buyer\u2019s digital shopping experience. PAYFORT now supports MasterPass Redirect v7 in addition to v6.","title":"MasterPass"},{"location":"wallets1/#service-endpoints","text":"","title":"Service Endpoints"},{"location":"wallets1/#sandbox","text":"POST https://sbcheckout.payfort.com/FortAPI/paymentPage","title":"Sandbox"},{"location":"wallets1/#live","text":"POST https://checkout.payfort.com/FortAPI/paymentPage","title":"Live"},{"location":"wallets1/#redirection","text":"","title":"Redirection"},{"location":"wallets1/#integration-flow","text":"The Merchant submits a form that includes all the parameters. The Merchant calls the following URL to be redirected to the FORT: https://checkout.payfort.com/FortAPI/paymentPage The FORT returns a response to the Merchant. The FORT inserts the response parameters into a JavaScript. A lightbox appears to the buyer where he enters his credentials, selects the card type and the shipping address, and clicks \u201cFinish Shopping\u201d. The FORT either proceeds to Authorize or Purchase the payment based on the value of the command parameter sent in the Merchant\u2019s form. If the Merchant sent the \u201cpayment_option\u201d value in his request, the FORT will use the value found in the request, no matter what other options are supported by the Merchant. However, if this value wasn\u2019t sent in the Merchant\u2019s request, the FORT will retrieve all the payment options supported by the Merchant. The FORT returns a response to the Merchant.(Please refer to section MasterPass Service - Response for the Response Parameters). In the Redirection work flow, the \u201cChannel\u201d will always be considered redirection and the \u201cDefault Operation\u201d won\u2019t be considered.","title":"Integration Flow"},{"location":"wallets1/#parameters-submission-type","text":"HTTPs Form Post Request.","title":"Parameters Submission Type"},{"location":"wallets1/#service-request-example","text":"Below is the sample html request. <form action=\"https://sbcheckout.payfort.com/FortAPI/paymentPage\"method=\"post\"id=\"simulatorForm\"> <input type=\"hidden\" name=\"digital_wallet\" id=\"digital_wallet\" value=\"MASTERPASS\"/> <input type=\"hidden\" name=\"command\"id=\"command\" value=\"AUTHORIZATION\"/> <input type=\"hidden\" name=\"access_code\" id=\"access_code\" value=\"zx0IPmPy5jp1vAz\"/> <input type=\"hidden\" name=\"merchant_identifier\" id=\"merchant_identifier\" value=\"CycHZxVj\"/> <input type=\"hidden\" name=\"merchant_reference\" id=\"merchant_reference\" value=\"XYZ9239-yu898\"/> <input type=\"hidden\" name=\"amount\" id=\"amount\" value=\"10000\"/> <input type=\"hidden\" name=\"currency\" id=\"currency\" value=\"AED\"/> <input type=\"hidden\" name=\"language\" id=\"language\" value=\"en\"/> <input type=\"hidden\" name=\"customer_email\" id=\"customer_email\" value=\"someone@email.com\"/> <input type=\"hidden\" name=\"signature\" id=\"signature\" value=\"7cad05f0212ed933c9a5d5dffa31661acf2c827a\"/> <input type=\"hidden\" name=\"payment_option\"id=\"payment_option\" value=\"VISA\"/> <input type=\"hidden\" name=\"order_description\" id=\"order_description\" value=\"iPhone 6-S\"/> <input type=\"hidden\" name=\"customer_ip\" id=\"customer_ip\" value=\"192.178.1.10\"/> <input type=\"hidden\" name=\"customer_name\" id=\"customer_name\" value=\"John Smith\"/> <input type=\"hidden\" name=\"cart_details\" id=\"cart_details\" value='{\"sub_total\":\"900\",\"cart_items\":[{\"item_description\":\"Xbox\",\"item_image\":\"http://image.com\",\"item_name\":\"Xbo x 360\",\"item_price\":\"300\",\"item_quantity\":\"2\"},{\"item_description\":\"Playstation 3\",\"item_image\":\"http://image.com\",\"item_name\":\"Playstation 3\",\"item_price\":\"150\",\"item_quantity\":\"2\"}]}'/> <input type=\"hidden\" name=\"return_url\" id=\"return_url\" value=\"http://backtothemerchanturl.com\"/> <input value=\"Send\" type=\"submit\"> </form> The following is an example for \u201ccart_details\u201d parameter: <input type=\u201chidden\u201d name=\u201ccart_details\u201d id=\u201ccart_details\u201d value= \u2019{ \u201csub_total\u201d:\u201c900\u201d, \u201ccart_items\u201d:[{ \u201citem_description\u201d:\u201cXbox\u201d, \u201citem_image\u201d:\u201chttp://image.com\u201d, \u201citem_name\u201d:\u201cXbox 360\u201d, \u201citem_price\u201d:\u201c300\u201d, \u201citem_quantity\u201d:\u201c2\u201d},{ \u201citem_description\u201d:\u201cPlaystation 3\u201d, \u201citem_image\u201d:\u201chttp://image.com\u201d, \u201citem_name\u201d:\u201cPlaystation 3\u201d, \u201citem_price\u201d:\u201c150\u201d, \u201citem_quantity\u201d:\u201c2\u201d}]}\u2019/> Before sending the amount value of any transaction, you have to multiply the value with the currency decimal code according to ISO code 3. For example: If the amount value was 500 AED; according to ISO code 3, you should multiply the value with 100 (2 decimal points); so it will be sent in the request as 50000. Another example: If the amount value was 100 JOD; according to ISO code 3, you should multiply the value with 1000 (3 decimal points); so it will be sent in the request as 100000.","title":"Service Request Example"},{"location":"wallets1/#masterpass-hosted","text":"Masterpass Hosted accepts digital wallet transactions without redirection to Masterpass pages and instead; it will be hosted on the Merchant website.","title":"MasterPass Hosted"},{"location":"wallets1/#visacheckout","text":"Visa Checkout is a digital wallet that securely stores the buyer\u2019s credit card details and shipping addresses and information, making shopping through thousands of online Merchants simple and convenient. This service enhances and simplifies the buyer\u2019s online shopping experience. Visa Checkout can be offered through two different integrations: Merchant Hosted Checkout Button. PayFort Hosted Checkout Button.","title":"VisaCheckout"},{"location":"wallets1/#merchant-hosted-checkout-button","text":"","title":"Merchant Hosted Checkout Button"},{"location":"wallets1/#integration-flow_1","text":"This integration allows the you to host Visa Checkout button on his website giving him maximum control over the look and feel and user experience. The following steps describe how this integration works: You should include the following JavaScript in the HTML header of its checkout page. This JavaScript loads the Visa Checkout library and defines handlers to initialization and payment events. <head> <script type=\"text/javascript\"> function onVisaCheckoutReady() { V.init({ apikey : \u201c#API_KEY#\u201d, // This will be provided by PayFort externalProfileId : \u201c#PROFILE_NAME#\u201d, // This will be provided by PayFort settings : { locale : \u201cen_AE\u201d, countryCode : \u201cAE\u201d, // depends on ISO-3166-1 alpha-2 standard codes review : { message : \u201cMerchant defined message\u201d, // buttonAction : \u201cContinue\u201d // The button label }, threeDSSetup : { threeDSActive : \u201cfalse\u201d // true to enable the 3ds false to disable it } }, paymentRequest : { currencyCode : \u201cUSD\u201d, //depends on ISO 4217 standard alpha-3 code values subtotal : \u201c10.00\u201d, // Subtotal of the payment. } }); V.on(\u201cpayment.success\u201d, function(payment) { document.write(JSON.stringify(payment)); // response when received success operation }); V.on(\u201cpayment.cancel\u201d, function(payment) { document.write(JSON.stringify(payment)); // response when cancel operation }); V.on(\u201cpayment.error\u201d, function(payment, error) { document.write(JSON.stringify(payment));// response when received error operation document.write(error); }); } </script> </head> You should use the following class to render Visa Checkout button that a consumer clicks to initiate a payment. <body> <img alt=\u201cVisa Checkout\u201d class=\u201cv-button\u201d role=\u201cbutton\u201d src=\u201chttps://sandbox.secure.checkout.visa.com/wallet-services-web/xo/button.png?cardBrands=VISA,MASTERCARD\u201d /> </body> #### Endpoints Sandbox https://sandbox.secure.checkout.visa.com/wallet-services-web/xo/button.png Live https://secure.checkout.visa.com/wallet-services-web/xo/button.png You should use the following JavaScript to control the operation on Visa Checkout on the website. <body> <script type=\u201ctext/javascript\u201d src=\u201chttps://sandbox-assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js\u201d> </script> </body> #### Endpoints Sandbox https://sandbox-assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js Live https://assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js After completing the previous steps, the consumer clicks on Visa Checkout button, Visa Checkout light box appears and the user complete the checkout process. You will receive a successful response. The response associated with the payment success event returns list of parameters. The Merchant has to collect the value of \u201ccall_id\u201d parameter to be used in the following step. You submit Purchase request to the FORT adding 2 extra parameters: digital-wallet, call_id. Please refer to Merchant Hosted Visa Checkout - Request for more details. Merchants Page should be activated to accept Purchase and Authorization transactions The Merchant system receives the FORT\u2019s purchase request and then uses Visa Checkout update image pixel. Below you can find an example of how to use Visa Checkout update image pixel. Please refer to \u201cVisa checkout PayFort documentation\u201d for more details. <img src=\u201chttps://sandbox.secure.checkout.visa.com/wallet-services-web/payment/updatepaymentinfo.gif?apikey=\u2026&callId=\u2026&currencyCode=USD&total=11.00&subtotal=11.00\u201d /> The following example shows an HTML web page that loads the Visa Checkout library, defines handlers for initialization and payment events, and creates a Visa Checkout button: <html> <head> <script type=\u201ctext/javascript\u201d> function onVisaCheckoutReady() { V.init({ apikey : \u201c#API_KEY#\u201d, // This will be provided by PayFort externalProfileId : \u201c#PROFILE_NAME#\u201d, // This will be provided by PayFort settings : { locale : \u201cen_AE\u201d, countryCode : \u201cAE\u201d, // depends on ISO-3166-1 alpha-2 standard codes review : { message : \u201cMerchant defined message\u201d, // buttonAction : \u201cContinue\u201d // The button label }, threeDSSetup : { threeDSActive : \u201cfalse\u201d // true to enable the 3ds false to disable it } }, paymentRequest : { currencyCode : \u201cUSD\u201d, //depends on ISO 4217 standard alpha-3 code values subtotal : \u201c10.00\u201d, // Subtotal of the payment. } }); V.on(\u201cpayment.success\u201d, function(payment) { document.write(JSON.stringify(payment)); // response when received success operation }); V.on(\u201cpayment.cancel\u201d, function(payment) { document.write(JSON.stringify(payment)); // response when cancel operation }); V.on(\u201cpayment.error\u201d, function(payment, error) { document.write(JSON.stringify(payment));// response when received error operation document.write(error); }); } </script> </head> <body> <img alt=\u201cVisa Checkout\u201d class=\u201cv-button\u201d role=\u201cbutton\"src=\"https://sandbox.secure.checkout.visa.com/wallet-services-web/xo/button.png?cardBrands=VISA,MASTERCARD,DISCOVER,AMEX\u201d /> <script type=\u201ctext/javascript\u201d src=\u201chttps://sandbox-assets.secure.checkout.visa.com/checkout-widget/resources/js/integration/v1/sdk.js\u201d> </script> </body> </html>","title":"Integration Flow"},{"location":"wallets1/#apple-pay","text":"Apple Pay provides an easy way for users to buy goods and services using iPhone, iPad and Apple Watch through mobile application or website. Checking out is as easy as selecting \u201cApple Pay\u201d and placing a finger on the touch ID of an iPhone, iPad or simply double clicking the side button on the Apple Watch. It\u2019s quick, easy and secure! When using a credit or debit card with Apple Pay, the actual card numbers are not stored on the device, nor on Apple servers. Instead, a unique Device Account Number is assigned, encrypted and securely stored in the Secure Element on your device, where each transaction is authorized with a one-time unique dynamic security code.","title":"Apple Pay"},{"location":"wallets1/#setting-up-apple-pay","text":"Kindly visit developer.apple.com where you will Create a developer account, an Apple Pay Merchant ID and complete the Apple Pay certification (export the payment processing certificate in p12 file) Integrate Apple Pay in your app/website using the Apple Pay documentation found at https://developer.apple.com/apple-pay Submit the encrypted Apple Pay payload to PayFort\u2019s API for decryption / processing. Please contact integration@payfort.com for PayFort\u2019s integration documentation","title":"Setting Up Apple Pay"},{"location":"wallets1/#test-your-wallet-integration","text":"You can checkout this link for testing your wallet integration","title":"Test Your Wallet Integration"},{"location":"wallets1/#go-to-full-api","text":"Check out our full API by visiting this link","title":"Go to Full API"},{"location":"wallets1/#need-further-help","text":"Thanks for using PayFort.com. If you need any help or support, then message our support team at support@payfort.com .","title":"Need further help?"}]}